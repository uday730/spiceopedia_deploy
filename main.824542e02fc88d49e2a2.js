(self.webpackChunkspiceopedia=self.webpackChunkspiceopedia||[]).push([[179],{8255:at=>{function xe(b){return Promise.resolve().then(()=>{var I=new Error("Cannot find module '"+b+"'");throw I.code="MODULE_NOT_FOUND",I})}xe.keys=()=>[],xe.resolve=xe,xe.id=8255,at.exports=xe},8583:(at,xe,b)=>{"use strict";b.d(xe,{mr:()=>ve,ez:()=>Li,K0:()=>F,Do:()=>Ue,V_:()=>V,Ye:()=>Be,S$:()=>ae,b0:()=>pe,lw:()=>w,EM:()=>fr,JF:()=>Yn,w_:()=>D,bD:()=>Wr,q:()=>P,Mx:()=>o,HT:()=>B});var I=b(3018);let y=null;function P(){return y}function B(T){y||(y=T)}class D{}const F=new I.OlP("DocumentToken");let w=(()=>{class T{historyGo(A){throw new Error("Not implemented")}}return T.\u0275fac=function(A){return new(A||T)},T.\u0275prov=(0,I.Yz7)({factory:j,token:T,providedIn:"platform"}),T})();function j(){return(0,I.LFG)(k)}const V=new I.OlP("Location Initialized");let k=(()=>{class T extends w{constructor(A){super(),this._doc=A,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(A){const Z=P().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",A,!1),()=>Z.removeEventListener("popstate",A)}onHashChange(A){const Z=P().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",A,!1),()=>Z.removeEventListener("hashchange",A)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(A){this.location.pathname=A}pushState(A,Z,we){q()?this._history.pushState(A,Z,we):this.location.hash=we}replaceState(A,Z,we){q()?this._history.replaceState(A,Z,we):this.location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(A=0){this._history.go(A)}getState(){return this._history.state}}return T.\u0275fac=function(A){return new(A||T)(I.LFG(F))},T.\u0275prov=(0,I.Yz7)({factory:H,token:T,providedIn:"platform"}),T})();function q(){return!!window.history.pushState}function H(){return new k((0,I.LFG)(F))}function W(T,G){if(0==T.length)return G;if(0==G.length)return T;let A=0;return T.endsWith("/")&&A++,G.startsWith("/")&&A++,2==A?T+G.substring(1):1==A?T+G:T+"/"+G}function Q(T){const G=T.match(/#|\?|$/),A=G&&G.index||T.length;return T.slice(0,A-("/"===T[A-1]?1:0))+T.slice(A)}function oe(T){return T&&"?"!==T[0]?"?"+T:T}let ae=(()=>{class T{historyGo(A){throw new Error("Not implemented")}}return T.\u0275fac=function(A){return new(A||T)},T.\u0275prov=(0,I.Yz7)({factory:ge,token:T,providedIn:"root"}),T})();function ge(T){const G=(0,I.LFG)(F).location;return new pe((0,I.LFG)(w),G&&G.origin||"")}const ve=new I.OlP("appBaseHref");let pe=(()=>{class T extends ae{constructor(A,Z){if(super(),this._platformLocation=A,this._removeListenerFns=[],null==Z&&(Z=this._platformLocation.getBaseHrefFromDOM()),null==Z)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Z}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}prepareExternalUrl(A){return W(this._baseHref,A)}path(A=!1){const Z=this._platformLocation.pathname+oe(this._platformLocation.search),we=this._platformLocation.hash;return we&&A?`${Z}${we}`:Z}pushState(A,Z,we,Re){const Ge=this.prepareExternalUrl(we+oe(Re));this._platformLocation.pushState(A,Z,Ge)}replaceState(A,Z,we,Re){const Ge=this.prepareExternalUrl(we+oe(Re));this._platformLocation.replaceState(A,Z,Ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(A=0){var Z,we;null===(we=(Z=this._platformLocation).historyGo)||void 0===we||we.call(Z,A)}}return T.\u0275fac=function(A){return new(A||T)(I.LFG(w),I.LFG(ve,8))},T.\u0275prov=I.Yz7({token:T,factory:T.\u0275fac}),T})(),Ue=(()=>{class T extends ae{constructor(A,Z){super(),this._platformLocation=A,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}path(A=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(A){const Z=W(this._baseHref,A);return Z.length>0?"#"+Z:Z}pushState(A,Z,we,Re){let Ge=this.prepareExternalUrl(we+oe(Re));0==Ge.length&&(Ge=this._platformLocation.pathname),this._platformLocation.pushState(A,Z,Ge)}replaceState(A,Z,we,Re){let Ge=this.prepareExternalUrl(we+oe(Re));0==Ge.length&&(Ge=this._platformLocation.pathname),this._platformLocation.replaceState(A,Z,Ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(A=0){var Z,we;null===(we=(Z=this._platformLocation).historyGo)||void 0===we||we.call(Z,A)}}return T.\u0275fac=function(A){return new(A||T)(I.LFG(w),I.LFG(ve,8))},T.\u0275prov=I.Yz7({token:T,factory:T.\u0275fac}),T})(),Be=(()=>{class T{constructor(A,Z){this._subject=new I.vpe,this._urlChangeListeners=[],this._platformStrategy=A;const we=this._platformStrategy.getBaseHref();this._platformLocation=Z,this._baseHref=Q(nt(we)),this._platformStrategy.onPopState(Re=>{this._subject.emit({url:this.path(!0),pop:!0,state:Re.state,type:Re.type})})}path(A=!1){return this.normalize(this._platformStrategy.path(A))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(A,Z=""){return this.path()==this.normalize(A+oe(Z))}normalize(A){return T.stripTrailingSlash(function(T,G){return T&&G.startsWith(T)?G.substring(T.length):G}(this._baseHref,nt(A)))}prepareExternalUrl(A){return A&&"/"!==A[0]&&(A="/"+A),this._platformStrategy.prepareExternalUrl(A)}go(A,Z="",we=null){this._platformStrategy.pushState(we,"",A,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+oe(Z)),we)}replaceState(A,Z="",we=null){this._platformStrategy.replaceState(we,"",A,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+oe(Z)),we)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(A=0){var Z,we;null===(we=(Z=this._platformStrategy).historyGo)||void 0===we||we.call(Z,A)}onUrlChange(A){this._urlChangeListeners.push(A),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)}))}_notifyUrlChangeListeners(A="",Z){this._urlChangeListeners.forEach(we=>we(A,Z))}subscribe(A,Z,we){return this._subject.subscribe({next:A,error:Z,complete:we})}}return T.\u0275fac=function(A){return new(A||T)(I.LFG(ae),I.LFG(w))},T.normalizeQueryParams=oe,T.joinWithSlash=W,T.stripTrailingSlash=Q,T.\u0275prov=(0,I.Yz7)({factory:Le,token:T,providedIn:"root"}),T})();function Le(){return new Be((0,I.LFG)(ae),(0,I.LFG)(w))}function nt(T){return T.replace(/\/index.html$/,"")}var wt=(()=>((wt=wt||{})[wt.Zero=0]="Zero",wt[wt.One=1]="One",wt[wt.Two=2]="Two",wt[wt.Few=3]="Few",wt[wt.Many=4]="Many",wt[wt.Other=5]="Other",wt))();const Me=I.kL8;class Xt{}let Jn=(()=>{class T extends Xt{constructor(A){super(),this.locale=A}getPluralCategory(A,Z){switch(Me(Z||this.locale)(A)){case wt.Zero:return"zero";case wt.One:return"one";case wt.Two:return"two";case wt.Few:return"few";case wt.Many:return"many";default:return"other"}}}return T.\u0275fac=function(A){return new(A||T)(I.LFG(I.soG))},T.\u0275prov=I.Yz7({token:T,factory:T.\u0275fac}),T})();function o(T,G){G=encodeURIComponent(G);for(const A of T.split(";")){const Z=A.indexOf("="),[we,Re]=-1==Z?[A,""]:[A.slice(0,Z),A.slice(Z+1)];if(we.trim()===G)return decodeURIComponent(Re)}return null}let Li=(()=>{class T{}return T.\u0275fac=function(A){return new(A||T)},T.\u0275mod=I.oAB({type:T}),T.\u0275inj=I.cJS({providers:[{provide:Xt,useClass:Jn}]}),T})();const Wr="browser";let fr=(()=>{class T{}return T.\u0275prov=(0,I.Yz7)({token:T,providedIn:"root",factory:()=>new Jr((0,I.LFG)(F),window)}),T})();class Jr{constructor(G,A){this.document=G,this.window=A,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const A=function(T,G){const A=T.getElementById(G)||T.getElementsByName(G)[0];if(A)return A;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const Z=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let we=Z.currentNode;for(;we;){const Re=we.shadowRoot;if(Re){const Ge=Re.getElementById(G)||Re.querySelector(`[name="${G}"]`);if(Ge)return Ge}we=Z.nextNode()}}return null}(this.document,G);A&&(this.scrollToElement(A),this.attemptFocus(A))}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const A=this.window.history;A&&A.scrollRestoration&&(A.scrollRestoration=G)}}scrollToElement(G){const A=G.getBoundingClientRect(),Z=A.left+this.window.pageXOffset,we=A.top+this.window.pageYOffset,Re=this.offset();this.window.scrollTo(Z-Re[0],we-Re[1])}attemptFocus(G){return G.focus(),this.document.activeElement===G}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=cn(this.window.history)||cn(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch(G){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(G){return!1}}}function cn(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class Yn{}},1841:(at,xe,b)=>{"use strict";b.d(xe,{eN:()=>qe}),b(8583);var y=b(3018),P=b(5917),B=(b(9897),b(4612)),D=b(5435),F=b(8002);class w{}class V{constructor(ne){this.normalizedNames=new Map,this.lazyUpdate=null,ne?this.lazyInit="string"==typeof ne?()=>{this.headers=new Map,ne.split("\n").forEach(be=>{const Oe=be.indexOf(":");if(Oe>0){const $e=be.slice(0,Oe),tt=$e.toLowerCase(),$=be.slice(Oe+1).trim();this.maybeSetNormalizedName($e,tt),this.headers.has(tt)?this.headers.get(tt).push($):this.headers.set(tt,[$])}})}:()=>{this.headers=new Map,Object.keys(ne).forEach(be=>{let Oe=ne[be];const $e=be.toLowerCase();"string"==typeof Oe&&(Oe=[Oe]),Oe.length>0&&(this.headers.set($e,Oe),this.maybeSetNormalizedName(be,$e))})}:this.headers=new Map}has(ne){return this.init(),this.headers.has(ne.toLowerCase())}get(ne){this.init();const be=this.headers.get(ne.toLowerCase());return be&&be.length>0?be[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ne){return this.init(),this.headers.get(ne.toLowerCase())||null}append(ne,be){return this.clone({name:ne,value:be,op:"a"})}set(ne,be){return this.clone({name:ne,value:be,op:"s"})}delete(ne,be){return this.clone({name:ne,value:be,op:"d"})}maybeSetNormalizedName(ne,be){this.normalizedNames.has(be)||this.normalizedNames.set(be,ne)}init(){this.lazyInit&&(this.lazyInit instanceof V?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ne=>this.applyUpdate(ne)),this.lazyUpdate=null))}copyFrom(ne){ne.init(),Array.from(ne.headers.keys()).forEach(be=>{this.headers.set(be,ne.headers.get(be)),this.normalizedNames.set(be,ne.normalizedNames.get(be))})}clone(ne){const be=new V;return be.lazyInit=this.lazyInit&&this.lazyInit instanceof V?this.lazyInit:this,be.lazyUpdate=(this.lazyUpdate||[]).concat([ne]),be}applyUpdate(ne){const be=ne.name.toLowerCase();switch(ne.op){case"a":case"s":let Oe=ne.value;if("string"==typeof Oe&&(Oe=[Oe]),0===Oe.length)return;this.maybeSetNormalizedName(ne.name,be);const $e=("a"===ne.op?this.headers.get(be):void 0)||[];$e.push(...Oe),this.headers.set(be,$e);break;case"d":const tt=ne.value;if(tt){let $=this.headers.get(be);if(!$)return;$=$.filter(Qe=>-1===tt.indexOf(Qe)),0===$.length?(this.headers.delete(be),this.normalizedNames.delete(be)):this.headers.set(be,$)}else this.headers.delete(be),this.normalizedNames.delete(be)}}forEach(ne){this.init(),Array.from(this.normalizedNames.keys()).forEach(be=>ne(this.normalizedNames.get(be),this.headers.get(be)))}}class k{encodeKey(ne){return Q(ne)}encodeValue(ne){return Q(ne)}decodeKey(ne){return decodeURIComponent(ne)}decodeValue(ne){return decodeURIComponent(ne)}}const H=/%(\d[a-f0-9])/gi,W={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Q(ke){return encodeURIComponent(ke).replace(H,(ne,be)=>{var Oe;return null!==(Oe=W[be])&&void 0!==Oe?Oe:ne})}function oe(ke){return`${ke}`}class ae{constructor(ne={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ne.encoder||new k,ne.fromString){if(ne.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(ke,ne){const be=new Map;return ke.length>0&&ke.replace(/^\?/,"").split("&").forEach($e=>{const tt=$e.indexOf("="),[$,Qe]=-1==tt?[ne.decodeKey($e),""]:[ne.decodeKey($e.slice(0,tt)),ne.decodeValue($e.slice(tt+1))],rt=be.get($)||[];rt.push(Qe),be.set($,rt)}),be}(ne.fromString,this.encoder)}else ne.fromObject?(this.map=new Map,Object.keys(ne.fromObject).forEach(be=>{const Oe=ne.fromObject[be];this.map.set(be,Array.isArray(Oe)?Oe:[Oe])})):this.map=null}has(ne){return this.init(),this.map.has(ne)}get(ne){this.init();const be=this.map.get(ne);return be?be[0]:null}getAll(ne){return this.init(),this.map.get(ne)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ne,be){return this.clone({param:ne,value:be,op:"a"})}appendAll(ne){const be=[];return Object.keys(ne).forEach(Oe=>{const $e=ne[Oe];Array.isArray($e)?$e.forEach(tt=>{be.push({param:Oe,value:tt,op:"a"})}):be.push({param:Oe,value:$e,op:"a"})}),this.clone(be)}set(ne,be){return this.clone({param:ne,value:be,op:"s"})}delete(ne,be){return this.clone({param:ne,value:be,op:"d"})}toString(){return this.init(),this.keys().map(ne=>{const be=this.encoder.encodeKey(ne);return this.map.get(ne).map(Oe=>be+"="+this.encoder.encodeValue(Oe)).join("&")}).filter(ne=>""!==ne).join("&")}clone(ne){const be=new ae({encoder:this.encoder});return be.cloneFrom=this.cloneFrom||this,be.updates=(this.updates||[]).concat(ne),be}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ne=>this.map.set(ne,this.cloneFrom.map.get(ne))),this.updates.forEach(ne=>{switch(ne.op){case"a":case"s":const be=("a"===ne.op?this.map.get(ne.param):void 0)||[];be.push(oe(ne.value)),this.map.set(ne.param,be);break;case"d":if(void 0===ne.value){this.map.delete(ne.param);break}{let Oe=this.map.get(ne.param)||[];const $e=Oe.indexOf(oe(ne.value));-1!==$e&&Oe.splice($e,1),Oe.length>0?this.map.set(ne.param,Oe):this.map.delete(ne.param)}}}),this.cloneFrom=this.updates=null)}}class ve{constructor(){this.map=new Map}set(ne,be){return this.map.set(ne,be),this}get(ne){return this.map.has(ne)||this.map.set(ne,ne.defaultValue()),this.map.get(ne)}delete(ne){return this.map.delete(ne),this}keys(){return this.map.keys()}}function Ue(ke){return"undefined"!=typeof ArrayBuffer&&ke instanceof ArrayBuffer}function Be(ke){return"undefined"!=typeof Blob&&ke instanceof Blob}function Le(ke){return"undefined"!=typeof FormData&&ke instanceof FormData}class nt{constructor(ne,be,Oe,$e){let tt;if(this.url=be,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ne.toUpperCase(),function(ke){switch(ke){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||$e?(this.body=void 0!==Oe?Oe:null,tt=$e):tt=Oe,tt&&(this.reportProgress=!!tt.reportProgress,this.withCredentials=!!tt.withCredentials,tt.responseType&&(this.responseType=tt.responseType),tt.headers&&(this.headers=tt.headers),tt.context&&(this.context=tt.context),tt.params&&(this.params=tt.params)),this.headers||(this.headers=new V),this.context||(this.context=new ve),this.params){const $=this.params.toString();if(0===$.length)this.urlWithParams=be;else{const Qe=be.indexOf("?");this.urlWithParams=be+(-1===Qe?"?":Qe<be.length-1?"&":"")+$}}else this.params=new ae,this.urlWithParams=be}serializeBody(){return null===this.body?null:Ue(this.body)||Be(this.body)||Le(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof ae?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Le(this.body)?null:Be(this.body)?this.body.type||null:Ue(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ae?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ne={}){var be;const Oe=ne.method||this.method,$e=ne.url||this.url,tt=ne.responseType||this.responseType,$=void 0!==ne.body?ne.body:this.body,Qe=void 0!==ne.withCredentials?ne.withCredentials:this.withCredentials,rt=void 0!==ne.reportProgress?ne.reportProgress:this.reportProgress;let We=ne.headers||this.headers,pn=ne.params||this.params;const jt=null!==(be=ne.context)&&void 0!==be?be:this.context;return void 0!==ne.setHeaders&&(We=Object.keys(ne.setHeaders).reduce((on,Ct)=>on.set(Ct,ne.setHeaders[Ct]),We)),ne.setParams&&(pn=Object.keys(ne.setParams).reduce((on,Ct)=>on.set(Ct,ne.setParams[Ct]),pn)),new nt(Oe,$e,$,{params:pn,headers:We,context:jt,reportProgress:rt,responseType:tt,withCredentials:Qe})}}var pt=(()=>((pt=pt||{})[pt.Sent=0]="Sent",pt[pt.UploadProgress=1]="UploadProgress",pt[pt.ResponseHeader=2]="ResponseHeader",pt[pt.DownloadProgress=3]="DownloadProgress",pt[pt.Response=4]="Response",pt[pt.User=5]="User",pt))();class et extends class{constructor(ne,be=200,Oe="OK"){this.headers=ne.headers||new V,this.status=void 0!==ne.status?ne.status:be,this.statusText=ne.statusText||Oe,this.url=ne.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(ne={}){super(ne),this.type=pt.Response,this.body=void 0!==ne.body?ne.body:null}clone(ne={}){return new et({body:void 0!==ne.body?ne.body:this.body,headers:ne.headers||this.headers,status:void 0!==ne.status?ne.status:this.status,statusText:ne.statusText||this.statusText,url:ne.url||this.url||void 0})}}function vt(ke,ne){return{body:ne,headers:ke.headers,context:ke.context,observe:ke.observe,params:ke.params,reportProgress:ke.reportProgress,responseType:ke.responseType,withCredentials:ke.withCredentials}}let qe=(()=>{class ke{constructor(be){this.handler=be}request(be,Oe,$e={}){let tt;if(be instanceof nt)tt=be;else{let rt,We;rt=$e.headers instanceof V?$e.headers:new V($e.headers),$e.params&&(We=$e.params instanceof ae?$e.params:new ae({fromObject:$e.params})),tt=new nt(be,Oe,void 0!==$e.body?$e.body:null,{headers:rt,context:$e.context,params:We,reportProgress:$e.reportProgress,responseType:$e.responseType||"json",withCredentials:$e.withCredentials})}const $=(0,P.of)(tt).pipe((0,B.b)(rt=>this.handler.handle(rt)));if(be instanceof nt||"events"===$e.observe)return $;const Qe=$.pipe((0,D.h)(rt=>rt instanceof et));switch($e.observe||"body"){case"body":switch(tt.responseType){case"arraybuffer":return Qe.pipe((0,F.U)(rt=>{if(null!==rt.body&&!(rt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return rt.body}));case"blob":return Qe.pipe((0,F.U)(rt=>{if(null!==rt.body&&!(rt.body instanceof Blob))throw new Error("Response is not a Blob.");return rt.body}));case"text":return Qe.pipe((0,F.U)(rt=>{if(null!==rt.body&&"string"!=typeof rt.body)throw new Error("Response is not a string.");return rt.body}));case"json":default:return Qe.pipe((0,F.U)(rt=>rt.body))}case"response":return Qe;default:throw new Error(`Unreachable: unhandled observe type ${$e.observe}}`)}}delete(be,Oe={}){return this.request("DELETE",be,Oe)}get(be,Oe={}){return this.request("GET",be,Oe)}head(be,Oe={}){return this.request("HEAD",be,Oe)}jsonp(be,Oe){return this.request("JSONP",be,{params:(new ae).append(Oe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(be,Oe={}){return this.request("OPTIONS",be,Oe)}patch(be,Oe,$e={}){return this.request("PATCH",be,vt($e,Oe))}post(be,Oe,$e={}){return this.request("POST",be,vt($e,Oe))}put(be,Oe,$e={}){return this.request("PUT",be,vt($e,Oe))}}return ke.\u0275fac=function(be){return new(be||ke)(y.LFG(w))},ke.\u0275prov=y.Yz7({token:ke,factory:ke.\u0275fac}),ke})()},3018:(at,xe,b)=>{"use strict";b.d(xe,{deG:()=>t0,tb:()=>fy,AFp:()=>cy,ip1:()=>gd,CZH:()=>vo,hGG:()=>aD,z2F:()=>Ta,sBO:()=>zw,Sil:()=>Ia,_Vd:()=>gs,EJc:()=>py,SBq:()=>Oi,qLn:()=>Vs,vpe:()=>ki,gxx:()=>Gs,tBr:()=>Ls,XFs:()=>ne,OlP:()=>Vn,zs3:()=>hn,ZZ4:()=>Au,aQg:()=>Ru,soG:()=>Hu,YKP:()=>im,v3s:()=>BS,h0i:()=>ms,PXZ:()=>NS,R0b:()=>Hr,FiY:()=>Vi,Lbi:()=>dy,g9A:()=>ly,Qsj:()=>Rw,FYo:()=>Tu,JOm:()=>Ai,Tiy:()=>$l,q3G:()=>Hn,tp0:()=>es,EAV:()=>KS,Rgc:()=>ma,dDg:()=>vy,DyG:()=>Qa,GfV:()=>Yg,s_b:()=>Nu,ifc:()=>jt,eFA:()=>Sy,G48:()=>FS,_c5:()=>eD,VLi:()=>xS,c2e:()=>hy,zSh:()=>ia,wAp:()=>bt,vHH:()=>pe,EiD:()=>mf,mCW:()=>Yo,qzn:()=>Bs,JVY:()=>A0,pB0:()=>N0,eBb:()=>P0,L6k:()=>R0,LAX:()=>M0,cg1:()=>Nl,Tjo:()=>QS,kL8:()=>_g,yhl:()=>uf,dqk:()=>He,sIi:()=>aa,CqO:()=>Il,QGY:()=>Fl,F4k:()=>Dp,RDi:()=>A,AaK:()=>H,z3N:()=>Hi,TTD:()=>qr,xp6:()=>eh,uIk:()=>vl,Suo:()=>Vm,Xpm:()=>Zt,lG2:()=>Lr,Yz7:()=>ce,cJS:()=>De,oAB:()=>sr,Yjl:()=>qt,Y36:()=>ca,_UZ:()=>wp,qZA:()=>xl,TgZ:()=>Dl,Ikx:()=>Ml,LFG:()=>Qn,$8M:()=>it,NdJ:()=>Tl,CRH:()=>Hm,Q6J:()=>Cl,DdM:()=>Pm,iGM:()=>Bm,LSH:()=>Ic,kYT:()=>Rn,_uU:()=>Xp,hij:()=>wu});var I=b(9765),y=b(826),P=b(9897),K=b(6682),B=b(2441);var w=b(1307);function j(){return new I.xQ}function k(e){for(let t in e)if(e[t]===k)return t;throw Error("Could not find renamed property on target object.")}function H(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(H).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function W(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Q=k({__forward_ref__:k});function oe(e){return e.__forward_ref__=oe,e.toString=function(){return H(this())},e}function ae(e){return function(e){return"function"==typeof e&&e.hasOwnProperty(Q)&&e.__forward_ref__===oe}(e)?e():e}class pe extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function Le(e){return"string"==typeof e?e:null==e?"":String(e)}function me(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Le(e)}function wt(e,t){const n=t?` in ${t}`:"";throw new pe("201",`No provider for ${me(e)} found${n}`)}function Ot(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function De(e){return{providers:e.providers||[],imports:e.imports||[]}}function Me(e){return Xe(e,xt)||Xe(e,Ht)}function Xe(e,t){return e.hasOwnProperty(t)?e[t]:null}function ct(e){return e&&(e.hasOwnProperty(Wt)||e.hasOwnProperty(ke))?e[Wt]:null}const xt=k({\u0275prov:k}),Wt=k({\u0275inj:k}),Ht=k({ngInjectableDef:k}),ke=k({ngInjectorDef:k});var ne=(()=>((ne=ne||{})[ne.Default=0]="Default",ne[ne.Host=1]="Host",ne[ne.Self=2]="Self",ne[ne.SkipSelf=4]="SkipSelf",ne[ne.Optional=8]="Optional",ne))();let be;function $e(e){const t=be;return be=e,t}function tt(e,t,n){const r=Me(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ne.Optional?null:void 0!==t?t:void wt(H(e),"Injector")}function Qe(e){return{toString:e}.toString()}var rt=(()=>((rt=rt||{})[rt.OnPush=0]="OnPush",rt[rt.Default=1]="Default",rt))(),jt=(()=>((jt=jt||{})[jt.Emulated=0]="Emulated",jt[jt.None=2]="None",jt[jt.ShadowDom=3]="ShadowDom",jt))();const on="undefined"!=typeof globalThis&&globalThis,Ct="undefined"!=typeof window&&window,Et="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tn="undefined"!=typeof global&&global,He=on||Tn||Ct||Et,zt={},_t=[],An=k({\u0275cmp:k}),ir=k({\u0275dir:k}),yr=k({\u0275pipe:k}),yn=k({\u0275mod:k}),vn=k({\u0275loc:k}),gn=k({\u0275fac:k}),qn=k({__NG_ELEMENT_ID__:k});let $r=0;function Zt(e){return Qe(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===rt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||_t,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||jt.Emulated,id:"c",styles:e.styles||_t,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,s=e.features,u=e.pipes;return r.id+=$r++,r.inputs=Wn(e.inputs,n),r.outputs=Wn(e.outputs),s&&s.forEach(d=>d(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(kr):null,r.pipeDefs=u?()=>("function"==typeof u?u():u).map(Tr):null,r})}function kr(e){return fn(e)||function(e){return e[ir]||null}(e)}function Tr(e){return function(e){return e[yr]||null}(e)}const Ar={};function sr(e){return Qe(()=>{const t={type:e.type,bootstrap:e.bootstrap||_t,declarations:e.declarations||_t,imports:e.imports||_t,exports:e.exports||_t,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Ar[e.id]=e.type),t})}function Rn(e,t){return Qe(()=>{const n=ft(e,!0);n.declarations=t.declarations||_t,n.imports=t.imports||_t,n.exports=t.exports||_t})}function Wn(e,t){if(null==e)return zt;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const Lr=Zt;function qt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function fn(e){return e[An]||null}function ft(e,t){const n=e[yn]||null;if(!n&&!0===t)throw new Error(`Type ${H(e)} does not have '\u0275mod' property.`);return n}const o=11,z=16,h=10;function R(e){return Array.isArray(e)&&"object"==typeof e[1]}function X(e){return Array.isArray(e)&&!0===e[1]}function le(e){return 0!=(8&e.flags)}function Ae(e){return 2==(2&e.flags)}function Pe(e){return 1==(1&e.flags)}function Ye(e){return null!==e.template}function ze(e){return 0!=(512&e[2])}function dr(e,t){return e.hasOwnProperty(gn)?e[gn]:null}class Gr{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function qr(){return ur}function ur(e){return e.type.prototype.ngOnChanges&&(e.setInput=Pr),jr}function jr(){const e=fr(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===zt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Pr(e,t,n,r){const i=fr(e)||function(e,t){return e[un]=t}(e,{previous:zt,current:null}),s=i.current||(i.current={}),u=i.previous,d=this.declaredInputs[n],m=u[d];s[d]=new Gr(m&&m.currentValue,t,u===zt),e[r]=t}qr.ngInherit=!0;const un="__ngSimpleChanges__";function fr(e){return e[un]||null}let G;function A(e){G=e}function Re(e){return!!e.listen}const ht={createRenderer:(e,t)=>void 0!==G?G:"undefined"!=typeof document?document:void 0};function Tt(e){for(;Array.isArray(e);)e=e[0];return e}function Lt(e,t){return Tt(t[e.index])}function Mr(e,t){return e.data[t]}function Zn(e,t){const n=t[e];return R(n)?n:n[0]}function si(e){return 4==(4&e[2])}function qi(e){return 128==(128&e[2])}function Nr(e,t){return null==t?null:e[t]}function So(e){e[18]=0}function Ui(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ft={lFrame:Mo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ka(){return Ft.bindingsEnabled}function Ke(){return Ft.lFrame.lView}function Kt(){return Ft.lFrame.tView}function In(){let e=Ua();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ua(){return Ft.lFrame.currentTNode}function Dr(e,t){const n=Ft.lFrame;n.currentTNode=e,n.isParent=t}function xo(){return Ft.lFrame.isParent}function wi(){return Ft.isInCheckNoChangesMode}function bs(e){Ft.isInCheckNoChangesMode=e}function Ji(){return Ft.lFrame.bindingIndex++}function sc(e,t){const n=Ft.lFrame;n.bindingIndex=n.bindingRootIndex=e,Fo(t)}function Fo(e){Ft.lFrame.currentDirectiveIndex=e}function Ha(){return Ft.lFrame.currentQueryIndex}function To(e){Ft.lFrame.currentQueryIndex=e}function oc(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Ao(e,t,n){if(n&ne.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&ne.Host||(i=oc(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;t=i,e=s}const r=Ft.lFrame=Po();return r.currentTNode=t,r.lView=e,!0}function Ro(e){const t=Po(),n=e[1];Ft.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Po(){const e=Ft.lFrame,t=null===e?null:e.child;return null===t?Mo(e):t}function Mo(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function No(){const e=Ft.lFrame;return Ft.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Oo=No;function ws(){const e=No();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pr(){return Ft.lFrame.selectedIndex}function Ci(e){Ft.lFrame.selectedIndex=e}function wn(){const e=Ft.lFrame;return Mr(e.tView,e.selectedIndex)}function ai(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:d,ngAfterViewInit:m,ngAfterViewChecked:S,ngOnDestroy:N}=s;u&&(e.contentHooks||(e.contentHooks=[])).push(-n,u),d&&((e.contentHooks||(e.contentHooks=[])).push(n,d),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,d)),m&&(e.viewHooks||(e.viewHooks=[])).push(-n,m),S&&((e.viewHooks||(e.viewHooks=[])).push(n,S),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,S)),null!=N&&(e.destroyHooks||(e.destroyHooks=[])).push(n,N)}}function Cs(e,t,n){Ka(e,t,3,n)}function Ss(e,t,n,r){(3&e[2])===n&&Ka(e,t,n,r)}function Lo(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ka(e,t,n,r){const s=null!=r?r:-1,u=t.length-1;let d=0;for(let m=void 0!==r?65535&e[18]:0;m<u;m++)if("number"==typeof t[m+1]){if(d=t[m],null!=r&&d>=r)break}else t[m]<0&&(e[18]+=65536),(d<s||-1==s)&&(Wa(e,n,t,m),e[18]=(4294901760&e[18])+m+2),m++}function Wa(e,t,n,r){const i=n[r]<0,s=n[r+1],d=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(d)}finally{}}}else try{s.call(d)}finally{}}class os{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Zi(e,t,n){const r=Re(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const u=n[i++],d=n[i++],m=n[i++];r?e.setAttribute(t,d,m,u):t.setAttributeNS(u,d,m)}else{const u=s,d=n[++i];xs(u)?r&&e.setProperty(t,u,d):r?e.setAttribute(t,u,d):t.setAttribute(u,d),i++}}return i}function za(e){return 3===e||4===e||6===e}function xs(e){return 64===e.charCodeAt(0)}function Fs(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Uo(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Uo(e,t,n,r,i){let s=0,u=e.length;if(-1===t)u=-1;else for(;s<e.length;){const d=e[s++];if("number"==typeof d){if(d===t){u=-1;break}if(d>t){u=s-1;break}}}for(;s<e.length;){const d=e[s];if("number"==typeof d)break;if(d===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==u&&(e.splice(u,0,t),s=u+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function jo(e){return-1!==e}function xi(e){return 32767&e}function Or(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Is=!0;function Ts(e){const t=Is;return Is=e,t}let pc=0;function us(e,t){const n=Bo(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,As(r.data,e),As(t,null),As(r.blueprint,null));const i=Rs(e,t),s=e.injectorIndex;if(jo(i)){const u=xi(i),d=Or(i,t),m=d[1].data;for(let S=0;S<8;S++)t[s+S]=d[u+S]|m[u+S]}return t[s+8]=i,s}function As(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Bo(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Rs(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const s=i[1],u=s.type;if(r=2===u?s.declTNode:1===u?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ps(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(qn)&&(r=n[qn]),null==r&&(r=n[qn]=pc++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Ja(e,t,n){if(n&ne.Optional)return e;wt(t,"NodeInjector")}function Ya(e,t,n,r){if(n&ne.Optional&&void 0===r&&(r=null),0==(n&(ne.Self|ne.Host))){const i=e[9],s=$e(void 0);try{return i?i.get(t,r,n&ne.Optional):tt(t,r,n&ne.Optional)}finally{$e(s)}}return Ja(r,t,n)}function Ho(e,t,n,r=ne.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(qn)?e[qn]:void 0;return"number"==typeof t?t>=0?255&t:Gd:t}(n);if("function"==typeof s){if(!Ao(t,e,r))return r&ne.Host?Ja(i,n,r):Ya(t,n,r,i);try{const u=s(r);if(null!=u||r&ne.Optional)return u;wt(n)}finally{Oo()}}else if("number"==typeof s){let u=null,d=Bo(e,t),m=-1,S=r&ne.Host?t[z][6]:null;for((-1===d||r&ne.SkipSelf)&&(m=-1===d?Rs(e,t):t[d+8],-1!==m&&J(r,!1)?(u=t[1],d=xi(m),t=Or(m,t)):d=-1);-1!==d;){const N=t[1];if(M(s,d,N.data)){const Y=v(d,t,n,u,r,S);if(Y!==Za)return Y}m=t[d+8],-1!==m&&J(r,t[1].data[d+8]===S)&&M(s,d,t)?(u=N,d=xi(m),t=Or(m,t)):d=-1}}}return Ya(t,n,r,i)}const Za={};function Gd(){return new fe(In(),Ke())}function v(e,t,n,r,i,s){const u=t[1],d=u.data[e+8],N=g(d,u,n,null==r?Ae(d)&&Is:r!=u&&0!=(3&d.type),i&ne.Host&&s===d);return null!==N?f(t,u,N,d):Za}function g(e,t,n,r,i){const s=e.providerIndexes,u=t.data,d=1048575&s,m=e.directiveStart,N=s>>20,te=i?d+N:e.directiveEnd;for(let ye=r?d:d+N;ye<te;ye++){const Se=u[ye];if(ye<m&&n===Se||ye>=m&&Se.type===n)return ye}if(i){const ye=u[m];if(ye&&Ye(ye)&&ye.type===n)return m}return null}function f(e,t,n,r){let i=e[n];const s=t.data;if(function(e){return e instanceof os}(i)){const u=i;u.resolving&&function(e,t){throw new pe("200",`Circular dependency in DI detected for ${e}`)}(me(s[n]));const d=Ts(u.canSeeViewProviders);u.resolving=!0;const m=u.injectImpl?$e(u.injectImpl):null;Ao(e,r,ne.Default);try{i=e[n]=u.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const u=ur(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,u)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==m&&$e(m),Ts(d),u.resolving=!1,Oo()}}return i}function M(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function J(e,t){return!(e&ne.Self||e&ne.Host&&t)}class fe{constructor(t,n){this._tNode=t,this._lView=n}get(t,n){return Ho(this._tNode,this._lView,t,void 0,n)}}function it(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(za(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===t)return n[i+1];i+=2}}}return null}(In(),e)}const kt="__parameters__";function mr(e,t,n){return Qe(()=>{const r=function(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const u=new i(...s);return d.annotation=u,d;function d(m,S,N){const Y=m.hasOwnProperty(kt)?m[kt]:Object.defineProperty(m,kt,{value:[]})[kt];for(;Y.length<=N;)Y.push(null);return(Y[N]=Y[N]||[]).push(u),m}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Vn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const t0=new Vn("AnalyzeForEntryComponents"),Qa=Function;function Qr(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Qr(r,t)):t!==e&&t.push(r)}return t}function Fi(e,t){e.forEach(n=>Array.isArray(n)?Fi(n,t):t(n))}function eu(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function cs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const zo={},vc="__NG_DI_FLAG__",Os="ngTempTokenPath",d0=/\n/gm,_c="__source",Ec=k({provide:String,useValue:k});let Go;function ks(e){const t=Go;return Go=e,t}function h0(e,t=ne.Default){if(void 0===Go)throw new Error("inject() must be called from an injection context");return null===Go?tt(e,void 0,t):Go.get(e,t&ne.Optional?null:void 0,t)}function Qn(e,t=ne.Default){return(be||h0)(ae(e),t)}function ls(e){const t=[];for(let n=0;n<e.length;n++){const r=ae(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=ne.Default;for(let u=0;u<r.length;u++){const d=r[u],m=p0(d);"number"==typeof m?-1===m?i=d.token:s|=m:i=d}t.push(Qn(i,s))}else t.push(Qn(r))}return t}function qo(e,t){return e[vc]=t,e.prototype[vc]=t,e}function p0(e){return e[vc]}function Xd(e,t,n,r){const i=e[Os];throw t[_c]&&i.unshift(t[_c]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=H(t);if(Array.isArray(t))i=t.map(H).join(" -> ");else if("object"==typeof t){let s=[];for(let u in t)if(t.hasOwnProperty(u)){let d=t[u];s.push(u+":"+("string"==typeof d?JSON.stringify(d):H(d)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(d0,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Os]=null,e}const Ls=qo(mr("Inject",e=>({token:e})),-1),Vi=qo(mr("Optional"),8),es=qo(mr("SkipSelf"),4);let iu;function js(e){var t;return(null===(t=function(){if(void 0===iu&&(iu=null,He.trustedTypes))try{iu=He.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return iu}())||void 0===t?void 0:t.createHTML(e))||e}class ds{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class D0 extends ds{getTypeName(){return"HTML"}}class x0 extends ds{getTypeName(){return"Style"}}class F0 extends ds{getTypeName(){return"Script"}}class I0 extends ds{getTypeName(){return"URL"}}class T0 extends ds{getTypeName(){return"ResourceURL"}}function Hi(e){return e instanceof ds?e.changingThisBreaksApplicationSecurity:e}function Bs(e,t){const n=uf(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function uf(e){return e instanceof ds&&e.getTypeName()||null}function A0(e){return new D0(e)}function R0(e){return new x0(e)}function P0(e){return new F0(e)}function M0(e){return new I0(e)}function N0(e){return new T0(e)}class O0{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(js(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class k0{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=js(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=js(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let i=n.length-1;0<i;i--){const u=n.item(i).name;("xmlns:ns1"===u||0===u.indexOf("ns1:"))&&t.removeAttribute(u)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const U0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,j0=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yo(e){return(e=String(e)).match(U0)||e.match(j0)?e:"unsafe:"+e}function Ii(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Zo(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const df=Ii("area,br,col,hr,img,wbr"),ff=Ii("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hf=Ii("rp,rt"),Sc=Zo(df,Zo(ff,Ii("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zo(hf,Ii("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zo(hf,ff)),Dc=Ii("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xc=Ii("srcset"),pf=Zo(Dc,xc,Ii("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ii("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),B0=Ii("script,style,template");class V0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Sc.hasOwnProperty(n))return this.sanitizedSomething=!0,!B0.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),u=s.name,d=u.toLowerCase();if(!pf.hasOwnProperty(d)){this.sanitizedSomething=!0;continue}let m=s.value;Dc[d]&&(m=Yo(m)),xc[d]&&(e=m,m=(e=String(e)).split(",").map(t=>Yo(t.trim())).join(", ")),this.buf.push(" ",u,'="',gf(m),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Sc.hasOwnProperty(n)&&!df.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(gf(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const H0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$0=/([^\#-~ |!])/g;function gf(e){return e.replace(/&/g,"&amp;").replace(H0,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace($0,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ou;function mf(e,t){let n=null;try{ou=ou||function(e){const t=new k0(e);return function(){try{return!!(new window.DOMParser).parseFromString(js(""),"text/html")}catch(e){return!1}}()?new O0(t):t}(e);let r=t?String(t):"";n=ou.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=ou.getInertBodyElement(r)}while(r!==s);return js((new V0).sanitizeChildren(Fc(n)||n))}finally{if(n){const r=Fc(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Fc(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Hn=(()=>((Hn=Hn||{})[Hn.NONE=0]="NONE",Hn[Hn.HTML=1]="HTML",Hn[Hn.STYLE=2]="STYLE",Hn[Hn.SCRIPT=3]="SCRIPT",Hn[Hn.URL=4]="URL",Hn[Hn.RESOURCE_URL=5]="RESOURCE_URL",Hn))();function Ic(e){const t=function(){const e=Ke();return e&&e[12]}();return t?t.sanitize(Hn.URL,e)||"":Bs(e,"URL")?Hi(e):Yo(Le(e))}const _f="__ngContext__";function Er(e,t){e[_f]=t}function Ac(e){const t=function(e){return e[_f]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function au(e){return e.ngOriginalError}function av(e,...t){e.error(...t)}class Vs{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=this._findContext(t),i=(e=t)&&e.ngErrorLogger||av;var e;i(this._console,"ERROR",t),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(t){return t?t.ngDebugContext||this._findContext(au(t)):null}_findOriginalError(t){let n=t&&au(t);for(;n&&au(n);)n=au(n);return n||null}}const If=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(He))();function Ti(e){return e instanceof Function?e():e}var Ai=(()=>((Ai=Ai||{})[Ai.Important=1]="Important",Ai[Ai.DashCase=2]="DashCase",Ai))();function Mc(e,t){return undefined(e,t)}function ea(e){const t=e[3];return X(t)?t[3]:t}function Nc(e){return Mf(e[13])}function Oc(e){return Mf(e[4])}function Mf(e){for(;null!==e&&!X(e);)e=e[4];return e}function $s(e,t,n,r,i){if(null!=r){let s,u=!1;X(r)?s=r:R(r)&&(u=!0,r=r[0]);const d=Tt(r);0===e&&null!==n?null==i?jf(t,n,d):fs(t,n,d,i||null,!0):1===e&&null!==n?fs(t,n,d,i||null,!0):2===e?function(e,t,n){const r=cu(e,t);r&&function(e,t,n,r){Re(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,d,u):3===e&&t.destroyNode(d),null!=s&&function(e,t,n,r,i){const s=n[7];s!==Tt(n)&&$s(t,e,r,s,i);for(let d=h;d<n.length;d++){const m=n[d];ta(m[1],m,e,t,r,s)}}(t,e,s,n,i)}}function Lc(e,t,n){return Re(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Of(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Ui(i,-1)),n.splice(r,1)}function Uc(e,t){if(e.length<=h)return;const n=h+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Of(i,r),t>0&&(e[n-1][4]=r[4]);const s=cs(e,h+t);!function(e,t){ta(e,t,t[o],2,null,null),t[0]=null,t[6]=null}(r[1],r);const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function kf(e,t){if(!(256&t[2])){const n=t[o];Re(n)&&n.destroyNode&&ta(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return jc(e[1],e);for(;t;){let n=null;if(R(t))n=t[13];else{const r=t[h];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)R(t)&&jc(t[1],t),t=t[3];null===t&&(t=e),R(t)&&jc(t[1],t),n=t&&t[4]}t=n}}(t)}}function jc(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof os)){const s=n[r+1];if(Array.isArray(s))for(let u=0;u<s.length;u+=2){const d=i[s[u]],m=s[u+1];try{m.call(d)}finally{}}else try{s.call(i)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const u=n[s+1],d="function"==typeof u?u(t):Tt(t[u]),m=r[i=n[s+2]],S=n[s+3];"boolean"==typeof S?d.removeEventListener(n[s],m,S):S>=0?r[i=S]():r[i=-S].unsubscribe(),s+=2}else{const u=r[i=n[s+1]];n[s].call(u)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();t[7]=null}}(e,t),1===t[1].type&&Re(t[o])&&t[o].destroy();const n=t[17];if(null!==n&&X(t[3])){n!==t[3]&&Of(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Lf(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===jt.None||i===jt.Emulated)return null}return Lt(r,n)}(e,t.parent,n)}function fs(e,t,n,r,i){Re(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function jf(e,t,n){Re(e)?e.appendChild(t,n):t.appendChild(n)}function Bf(e,t,n,r,i){null!==r?fs(e,t,n,r,i):jf(e,t,n)}function cu(e,t){return Re(e)?e.parentNode(t):t.parentNode}let $f=function(e,t,n){return 40&e.type?Lt(e,n):null};function lu(e,t,n,r){const i=Lf(e,r,t),s=t[o],d=function(e,t,n){return $f(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let m=0;m<n.length;m++)Bf(s,i,n[m],d,!1);else Bf(s,i,n,d,!1)}function du(e,t){if(null!==t){const n=t.type;if(3&n)return Lt(t,e);if(4&n)return Vc(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return du(e,r);{const i=e[t.index];return X(i)?Vc(-1,i):Tt(i)}}if(32&n)return Mc(t,e)()||Tt(e[t.index]);{const r=Wf(e,t);return null!==r?Array.isArray(r)?r[0]:du(ea(e[z]),r):du(e,t.next)}}return null}function Wf(e,t){return null!==t?e[z][6].projection[t.projection]:null}function Vc(e,t){const n=h+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return du(r,i)}return t[7]}function Hc(e,t,n,r,i,s,u){for(;null!=n;){const d=r[n.index],m=n.type;if(u&&0===t&&(d&&Er(Tt(d),r),n.flags|=4),64!=(64&n.flags))if(8&m)Hc(e,t,n.child,r,i,s,!1),$s(t,e,i,d,s);else if(32&m){const S=Mc(n,r);let N;for(;N=S();)$s(t,e,i,N,s);$s(t,e,i,d,s)}else 16&m?Gf(e,t,r,n,i,s):$s(t,e,i,d,s);n=u?n.projectionNext:n.next}}function ta(e,t,n,r,i,s){Hc(n,r,e.firstChild,t,i,s,!1)}function Gf(e,t,n,r,i,s){const u=n[z],m=u[6].projection[r.projection];if(Array.isArray(m))for(let S=0;S<m.length;S++)$s(t,e,i,m[S],s);else Hc(e,t,m,u[3],i,s,!0)}function qf(e,t,n){Re(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function $c(e,t,n){Re(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Jf(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}const Yf="ng-template";function Mv(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Jf(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Zf(e){return 4===e.type&&e.value!==Yf}function Nv(e,t,n){return t===(4!==e.type||n?e.value:Yf)}function Ov(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(za(e[t]))return t;return e.length}(i);let u=!1;for(let d=0;d<t.length;d++){const m=t[d];if("number"!=typeof m){if(!u)if(4&r){if(r=2|1&r,""!==m&&!Nv(e,m,n)||""===m&&1===t.length){if(ci(r))return!1;u=!0}}else{const S=8&r?m:t[++d];if(8&r&&null!==e.attrs){if(!Mv(e.attrs,S,n)){if(ci(r))return!1;u=!0}continue}const Y=kv(8&r?"class":m,i,Zf(e),n);if(-1===Y){if(ci(r))return!1;u=!0;continue}if(""!==S){let te;te=Y>s?"":i[Y+1].toLowerCase();const ye=8&r?te:null;if(ye&&-1!==Jf(ye,S,0)||2&r&&S!==te){if(ci(r))return!1;u=!0}}}}else{if(!u&&!ci(r)&&!ci(m))return!1;if(u&&ci(m))continue;u=!1,r=m|1&r}}return ci(r)||u}function ci(e){return 0==(1&e)}function kv(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const u=t[i];if(u===e)return i;if(3===u||6===u)s=!0;else{if(1===u||2===u){let d=t[++i];for(;"string"==typeof d;)d=t[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=s?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Qf(e,t,n=!1){for(let r=0;r<t.length;r++)if(Ov(e,t[r],n))return!0;return!1}function Xf(e,t){return e?":not("+t.trim()+")":t}function Vv(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&r){const d=e[++n];i+="["+u+(d.length>0?'="'+d+'"':"")+"]"}else 8&r?i+="."+u:4&r&&(i+=" "+u);else""!==i&&!ci(u)&&(t+=Xf(s,i),i=""),r=u,s=s||!ci(r);n++}return""!==i&&(t+=Xf(s,i)),t}const Mt={};function eh(e){th(Kt(),Ke(),pr()+e,wi())}function th(e,t,n,r){if(!r)if(3==(3&t[2])){const s=e.preOrderCheckHooks;null!==s&&Cs(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Ss(t,s,0,n)}Ci(n)}function dh(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const u=e.data[s];To(i),u.contentQueries(2,t[s],s)}}}function na(e,t,n,r,i,s,u,d,m,S){const N=t.blueprint.slice();return N[0]=i,N[2]=140|r,So(N),N[3]=N[15]=e,N[8]=n,N[10]=u||e&&e[10],N[o]=d||e&&e[o],N[12]=m||e&&e[12]||null,N[9]=S||e&&e[9]||null,N[6]=s,N[z]=2==t.type?e[z]:N,N}function Ks(e,t,n,r,i){let s=e.data[t];if(null===s)s=function(e,t,n,r,i){const s=Ua(),u=xo(),m=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=m),null!==s&&(u?null==s.child&&null!==m.parent&&(s.child=m):null===s.next&&(s.next=m)),m}(e,t,n,r,i),Ft.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const u=function(){const e=Ft.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===u?-1:u.injectorIndex}return Dr(s,!0),s}function Ws(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ra(e,t,n){Ro(t);try{const r=e.viewQuery;null!==r&&ul(1,r,n);const i=e.template;null!==i&&fh(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&dh(e,t),e.staticViewQueries&&ul(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)E_(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,ws()}}function zs(e,t,n,r){const i=t[2];if(256==(256&i))return;Ro(t);const s=wi();try{So(t),function(e){Ft.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&fh(e,t,n,2,r);const u=3==(3&i);if(!s)if(u){const S=e.preOrderCheckHooks;null!==S&&Cs(t,S,null)}else{const S=e.preOrderHooks;null!==S&&Ss(t,S,0,null),Lo(t,0)}if(function(e){for(let t=Nc(e);null!==t;t=Oc(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Ui(s,1),i[2]|=1024}}}(t),function(e){for(let t=Nc(e);null!==t;t=Oc(t))for(let n=h;n<t.length;n++){const r=t[n],i=r[1];qi(r)&&zs(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&dh(e,t),!s)if(u){const S=e.contentCheckHooks;null!==S&&Cs(t,S)}else{const S=e.contentHooks;null!==S&&Ss(t,S,1),Lo(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ci(~i);else{const s=i,u=n[++r],d=n[++r];sc(u,s),d(2,t[s])}}}finally{Ci(-1)}}(e,t);const d=e.components;null!==d&&function(e,t){for(let n=0;n<t.length;n++)__(e,t[n])}(t,d);const m=e.viewQuery;if(null!==m&&ul(2,m,r),!s)if(u){const S=e.viewCheckHooks;null!==S&&Cs(t,S)}else{const S=e.viewHooks;null!==S&&Ss(t,S,2),Lo(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ui(t[3],-1))}finally{ws()}}function e_(e,t,n,r){const i=t[10],s=!wi(),u=si(t);try{s&&!u&&i.begin&&i.begin(),u&&ra(e,t,r),zs(e,t,n,r)}finally{s&&!u&&i.end&&i.end()}}function fh(e,t,n,r,i){const s=pr(),u=2&r;try{Ci(-1),u&&t.length>20&&th(e,t,20,wi()),n(r,i)}finally{Ci(s)}}function ph(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=gu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function gu(e,t,n,r,i,s,u,d,m,S){const N=20+r,Y=N+i,te=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Mt);return n}(N,Y),ye="function"==typeof S?S():S;return te[1]={type:e,blueprint:te,template:n,queries:null,viewQuery:d,declTNode:t,data:te.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:m,consts:ye,incompleteFirstPass:!1}}function yh(e,t,n,r){const i=Fh(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Ih(e).push(r,i.length-1))}function vh(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Vr(e,t,n,r,i,s,u,d){const m=Lt(t,n);let N,S=t.inputs;!d&&null!=S&&(N=S[r])?(Rh(e,n,N,r,i),Ae(t)&&function(e,t){const n=Zn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=u?u(i,t.value||"",r):i,Re(s)?s.setProperty(m,r,i):xs(r)||(m.setProperty?m.setProperty(r,i):m[r]=i))}function Eh(e,t,n,r,i,s){const u=s.hostBindings;if(u){let d=e.hostBindingOpCodes;null===d&&(d=e.hostBindingOpCodes=[]);const m=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(d)!=m&&d.push(m),d.push(r,i,u)}}function bh(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function wh(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function h_(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ye(t)&&(n[""]=e)}}function Ch(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Sh(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=dr(i.type)),u=new os(s,Ye(i),null);e.blueprint[r]=u,n[r]=u,Eh(e,t,0,r,Ws(e,n,i.hostVars,Mt),i)}function p_(e,t,n){const r=Lt(t,e),i=ph(n),s=e[10],u=mu(e,na(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=u}function Ri(e,t,n,r,i,s){const u=Lt(e,t);!function(e,t,n,r,i,s,u){if(null==s)Re(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const d=null==u?Le(s):u(s,r||"",i);Re(e)?e.setAttribute(t,i,d,n):n?t.setAttributeNS(n,i,d):t.setAttribute(i,d)}}(t[o],u,s,e.value,n,r,i)}function g_(e,t,n,r,i,s){const u=s[t];if(null!==u){const d=r.setInput;for(let m=0;m<u.length;){const S=u[m++],N=u[m++],Y=u[m++];null!==d?r.setInput(n,Y,S,N):n[N]=Y}}}function m_(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function __(e,t){const n=Zn(t,e);if(qi(n)){const r=n[1];80&n[2]?zs(r,n,r.template,n[8]):n[5]>0&&il(n)}}function il(e){for(let r=Nc(e);null!==r;r=Oc(r))for(let i=h;i<r.length;i++){const s=r[i];if(1024&s[2]){const u=s[1];zs(u,s,u.template,s[8])}else s[5]>0&&il(s)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Zn(n[r],e);qi(i)&&i[5]>0&&il(i)}}function E_(e,t){const n=Zn(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),ra(r,n,n[8])}function mu(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function sl(e){for(;e;){e[2]|=64;const t=ea(e);if(ze(e)&&!t)return e;e=t}return null}function al(e,t,n){const r=t[10];r.begin&&r.begin();try{zs(e,t,e.template,n)}catch(i){throw Ah(t,i),i}finally{r.end&&r.end()}}function xh(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Ac(n),i=r[1];e_(i,r,i.template,n)}}(e[8])}function ul(e,t,n){To(0),t(e,n)}const D_=(()=>Promise.resolve(null))();function Fh(e){return e[7]||(e[7]=[])}function Ih(e){return e.cleanup||(e.cleanup=[])}function Ah(e,t){const n=e[9],r=n?n.get(Vs,null):null;r&&r.handleError(t)}function Rh(e,t,n,r,i){for(let s=0;s<n.length;){const u=n[s++],d=n[s++],m=t[u],S=e.data[u];null!==S.setInput?S.setInput(m,i,r,d):m[d]=i}}function Wi(e,t,n){const r=function(e,t){return Tt(t[e])}(t,e);!function(e,t,n){Re(e)?e.setValue(t,n):t.textContent=n}(e[o],r,n)}function yu(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let u=0;u<t.length;u++){const d=t[u];"number"==typeof d?s=d:1==s?i=W(i,d):2==s&&(r=W(r,d+": "+t[++u]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const Gs=new Vn("INJECTOR",-1);class Ph{get(t,n=zo){if(n===zo){const r=new Error(`NullInjectorError: No provider for ${H(t)}!`);throw r.name="NullInjectorError",r}return n}}const ia=new Vn("Set Injector scope."),sa={},I_={};let cl;function Mh(){return void 0===cl&&(cl=new Ph),cl}function Nh(e,t=null,n=null,r){return new A_(e,n,t||Mh(),r)}class A_{constructor(t,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Fi(n,d=>this.processProvider(d,t,n)),Fi([t],d=>this.processInjectorType(d,[],s)),this.records.set(Gs,qs(void 0,this));const u=this.records.get(ia);this.scope=null!=u?u.value:null,this.source=i||("object"==typeof t?null:H(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=zo,r=ne.Default){this.assertNotDestroyed();const i=ks(this),s=$e(void 0);try{if(!(r&ne.SkipSelf)){let d=this.records.get(t);if(void 0===d){const m=("function"==typeof(e=t)||"object"==typeof e&&e instanceof Vn)&&Me(t);d=m&&this.injectableDefInScope(m)?qs(ll(t),sa):null,this.records.set(t,d)}if(null!=d)return this.hydrate(t,d)}return(r&ne.Self?Mh():this.parent).get(t,n=r&ne.Optional&&n===zo?null:n)}catch(u){if("NullInjectorError"===u.name){if((u[Os]=u[Os]||[]).unshift(H(t)),i)throw u;return Xd(u,t,"R3InjectorError",this.source)}throw u}finally{$e(s),ks(i)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(H(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=ae(t)))return!1;let i=ct(t);const s=null==i&&t.ngModule||void 0,u=void 0===s?t:s,d=-1!==r.indexOf(u);if(void 0!==s&&(i=ct(s)),null==i)return!1;if(null!=i.imports&&!d){let N;r.push(u);try{Fi(i.imports,Y=>{this.processInjectorType(Y,n,r)&&(void 0===N&&(N=[]),N.push(Y))})}finally{}if(void 0!==N)for(let Y=0;Y<N.length;Y++){const{ngModule:te,providers:ye}=N[Y];Fi(ye,Se=>this.processProvider(Se,te,ye||_t))}}this.injectorDefTypes.add(u);const m=dr(u)||(()=>new u);this.records.set(u,qs(m,sa));const S=i.providers;if(null!=S&&!d){const N=t;Fi(S,Y=>this.processProvider(Y,N,S))}return void 0!==s&&void 0!==t.providers}processProvider(t,n,r){let i=Js(t=ae(t))?t:ae(t&&t.provide);const s=kh(e=t)?qs(void 0,e.useValue):qs(function(e,t,n){let r;if(Js(e)){const i=ae(e);return dr(i)||ll(i)}if(kh(e))r=()=>ae(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...ls(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Qn(ae(e.useExisting));else{const i=ae(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return dr(i)||ll(i);r=()=>new i(...ls(e.deps))}return r}(e),sa);var e;if(Js(t)||!0!==t.multi)this.records.get(i);else{let u=this.records.get(i);u||(u=qs(void 0,sa,!0),u.factory=()=>ls(u.multi),this.records.set(i,u)),i=t,u.multi.push(t)}this.records.set(i,s)}hydrate(t,n){return n.value===sa&&(n.value=I_,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ae(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function ll(e){const t=Me(e),n=null!==t?t.factory:dr(e);if(null!==n)return n;if(e instanceof Vn)throw new Error(`Token ${H(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=function(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${H(e)}: (${r.join(", ")}).`)}const n=function(e){const t=e&&(e[xt]||e[Ht]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function qs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function kh(e){return null!==e&&"object"==typeof e&&Ec in e}function Js(e){return"function"==typeof e}const Lh=function(e,t,n){return function(e,t=null,n=null,r){const i=Nh(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};class hn{static create(t,n){return Array.isArray(t)?Lh(t,n,""):Lh(t.providers,t.parent,t.name||"")}}function Z_(e,t){ai(Ac(e)[1],In())}hn.THROW_IF_NOT_FOUND=zo,hn.NULL=new Ph,hn.\u0275prov=ce({token:hn,providedIn:"any",factory:()=>Qn(Gs)}),hn.__NG_ELEMENT_ID__=-1;let vu=null;function Ys(){if(!vu){const e=He.Symbol;if(e&&e.iterator)vu=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(vu=r)}}}return vu}function aa(e){return!!yl(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ys()in e)}function yl(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function br(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function vl(e,t,n,r){const i=Ke();return br(i,Ji(),t)&&(Kt(),Ri(wn(),i,e,t,n,r)),vl}function ca(e,t=ne.Default){const n=Ke();return null===n?Qn(e,t):Ho(In(),n,ae(e),t)}function Cl(e,t,n){const r=Ke();return br(r,Ji(),t)&&Vr(Kt(),wn(),r,e,t,r[o],n,!1),Cl}function Sl(e,t,n,r,i){const u=i?"class":"style";Rh(e,n,t.inputs[u],u,r)}function Dl(e,t,n,r){const i=Ke(),s=Kt(),u=20+e,d=i[o],m=i[u]=Lc(d,t,Ft.lFrame.currentNamespace),S=s.firstCreatePass?function(e,t,n,r,i,s,u){const d=t.consts,S=Ks(t,e,2,i,Nr(d,s));return function(e,t,n,r){let i=!1;if(ka()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const u=r[s];Qf(n,u.selectors,!1)&&(i||(i=[]),Ps(us(n,t),e,u.type),Ye(u)?(wh(e,n),i.unshift(u)):i.push(u))}return i}(e,t,n),u=null===r?null:{"":-1};if(null!==s){i=!0,Ch(n,e.data.length,s.length);for(let N=0;N<s.length;N++){const Y=s[N];Y.providersResolver&&Y.providersResolver(Y)}let d=!1,m=!1,S=Ws(e,t,s.length,null);for(let N=0;N<s.length;N++){const Y=s[N];n.mergedAttrs=Fs(n.mergedAttrs,Y.hostAttrs),Sh(e,n,t,S,Y),h_(S,Y,u),null!==Y.contentQueries&&(n.flags|=8),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(n.flags|=128);const te=Y.type.prototype;!d&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),d=!0),!m&&(te.ngOnChanges||te.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),m=!0),S++}!function(e,t){const r=t.directiveEnd,i=e.data,s=t.attrs,u=[];let d=null,m=null;for(let S=t.directiveStart;S<r;S++){const N=i[S],Y=N.inputs,te=null===s||Zf(t)?null:m_(Y,s);u.push(te),d=vh(Y,S,d),m=vh(N.outputs,S,m)}null!==d&&(d.hasOwnProperty("class")&&(t.flags|=16),d.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=u,t.inputs=d,t.outputs=m}(e,n)}u&&function(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new pe("301",`Export of name '${t[i+1]}' not found!`);r.push(t[i],s)}}}(n,r,u)}n.mergedAttrs=Fs(n.mergedAttrs,n.attrs)}(t,n,S,Nr(d,u)),null!==S.attrs&&yu(S,S.attrs,!1),null!==S.mergedAttrs&&yu(S,S.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,S),S}(u,s,i,0,t,n,r):s.data[u];Dr(S,!0);const N=S.mergedAttrs;null!==N&&Zi(d,m,N);const Y=S.classes;null!==Y&&$c(d,m,Y);const te=S.styles;null!==te&&qf(d,m,te),64!=(64&S.flags)&&lu(s,i,m,S),0===Ft.lFrame.elementDepthCount&&Er(m,i),Ft.lFrame.elementDepthCount++,Pe(S)&&(function(e,t,n){!ka()||(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||us(n,t),Er(r,t);const u=n.initialInputs;for(let d=i;d<s;d++){const m=e.data[d],S=Ye(m);S&&p_(t,n,m);const N=f(t,e,d,n);Er(N,t),null!==u&&g_(0,d-i,N,m,0,u),S&&(Zn(n.index,t)[8]=N)}}(e,t,n,Lt(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,u=n.index,d=Ft.lFrame.currentDirectiveIndex;try{Ci(u);for(let m=r;m<i;m++){const S=e.data[m],N=t[m];Fo(m),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&bh(S,N)}}finally{Ci(-1),Fo(d)}}(e,t,n))}(s,i,S),function(e,t,n){if(le(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const u=e.data[s];u.contentQueries&&u.contentQueries(1,n[s],s)}}}(s,S,i)),null!==r&&function(e,t,n=Lt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const u=r[s+1],d=-1===u?n(t,e):e[u];e[i++]=d}}}(i,S)}function xl(){let e=In();xo()?Ft.lFrame.isParent=!1:(e=e.parent,Dr(e,!1));const t=e;Ft.lFrame.elementDepthCount--;const n=Kt();n.firstCreatePass&&(ai(n,e),le(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Sl(n,t,Ke(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Sl(n,t,Ke(),t.stylesWithoutHost,!1)}function wp(e,t,n,r){Dl(e,t,n,r),xl()}function Fl(e){return!!e&&"function"==typeof e.then}function Dp(e){return!!e&&"function"==typeof e.subscribe}const Il=Dp;function Tl(e,t,n,r){const i=Ke(),s=Kt(),u=In();return function(e,t,n,r,i,s,u,d){const m=Pe(r),N=e.firstCreatePass&&Ih(e),Y=t[8],te=Fh(t);let ye=!0;if(3&r.type||d){const Ie=Lt(r,t),Je=d?d(Ie):Ie,Ve=te.length,yt=d?It=>d(Tt(It[r.index])):r.index;if(Re(n)){let It=null;if(!d&&m&&(It=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const u=i[s];if(u===n&&i[s+1]===r){const d=t[7],m=i[s+2];return d.length>m?d[m]:null}"string"==typeof u&&(s+=2)}return null}(e,t,i,r.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=s,It.__ngLastListenerFn__=s,ye=!1;else{s=Al(r,t,Y,s,!1);const Bt=n.listen(Je,i,s);te.push(s,Bt),N&&N.push(i,yt,Ve,Ve+1)}}else s=Al(r,t,Y,s,!0),Je.addEventListener(i,s,u),te.push(s),N&&N.push(i,yt,Ve,u)}else s=Al(r,t,Y,s,!1);const Se=r.outputs;let Ne;if(ye&&null!==Se&&(Ne=Se[i])){const Ie=Ne.length;if(Ie)for(let Je=0;Je<Ie;Je+=2){const rr=t[Ne[Je]][Ne[Je+1]].subscribe(s),ri=te.length;te.push(s,rr),N&&N.push(i,r.index,ri,-(ri+1))}}}(s,i,i[o],u,e,t,!!n,r),Tl}function Ip(e,t,n,r){try{return!1!==n(r)}catch(i){return Ah(e,i),!1}}function Al(e,t,n,r,i){return function s(u){if(u===Function)return r;const d=2&e.flags?Zn(e.index,t):t;0==(32&t[2])&&sl(d);let m=Ip(t,0,r,u),S=s.__ngNextListenerFn__;for(;S;)m=Ip(t,0,S,u)&&m,S=S.__ngNextListenerFn__;return i&&!1===m&&(u.preventDefault(),u.returnValue=!1),m}}function Xp(e,t=""){const n=Ke(),r=Kt(),i=e+20,s=r.firstCreatePass?Ks(r,i,1,t,null):r.data[i],u=n[i]=function(e,t){return Re(e)?e.createText(t):e.createTextNode(t)}(n[o],t);lu(r,n,u,s),Dr(s,!1)}function wu(e,t,n){const r=Ke(),i=function(e,t,n,r){return br(e,Ji(),n)?t+Le(n)+r:Mt}(r,e,t,n);return i!==Mt&&Wi(r,pr(),i),wu}function Ml(e,t,n){const r=Ke();return br(r,Ji(),t)&&Vr(Kt(),wn(),r,e,t,r[o],n,!0),Ml}const ps=void 0;var xb=["en",[["a","p"],["AM","PM"],ps],[["AM","PM"],ps,ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ps,"{1} 'at' {0}",ps],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let uo={};function Nl(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Eg(t);if(n)return n;const r=t.split("-")[0];if(n=Eg(r),n)return n;if("en"===r)return xb;throw new Error(`Missing locale data for the locale "${e}".`)}function _g(e){return Nl(e)[bt.PluralCase]}function Eg(e){return e in uo||(uo[e]=He.ng&&He.ng.common&&He.ng.common.locales&&He.ng.common.locales[e]),uo[e]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const Cu="en-US";let bg=Cu;function Ol(e){Ot(e,"Expected localeId to be defined"),"string"==typeof e&&(bg=e.toLowerCase().replace(/_/g,"-"))}class zg{}const qg="ngComponent";class Fw{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${H(e)}. Did you add it to @NgModule.entryComponents?`);return t[qg]=e,t}(t)}}class gs{}function Iu(...e){}function lo(e,t){return new Oi(Lt(e,t))}gs.NULL=new Fw;const Aw=function(){return lo(In(),Ke())};let Oi=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Aw,e})();function Jg(e){return e instanceof Oi?e.nativeElement:e}class Tu{}let Rw=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Mw(),e})();const Mw=function(){const e=Ke(),n=Zn(In().index,e);return function(e){return e[o]}(R(n)?n:e)};let $l=(()=>{class e{}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>null}),e})();class Yg{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Zg=new Yg("12.2.4");class Qg{constructor(){}supports(t){return aa(t)}create(t){return new Lw(t)}}const kw=(e,t)=>t;class Lw{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||kw}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const u=!r||n&&n.currentIndex<em(r,i,s)?n:r,d=em(u,i,s),m=u.currentIndex;if(u===r)i--,r=r._nextRemoved;else if(n=n._next,null==u.previousIndex)i++;else{s||(s=[]);const S=d-i,N=m-i;if(S!=N){for(let te=0;te<S;te++){const ye=te<s.length?s[te]:s[te]=0,Se=ye+te;N<=Se&&Se<S&&(s[te]=ye+1)}s[u.previousIndex]=N-S}}d!==m&&t(u,d,m)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!aa(t))throw new Error(`Error trying to diff '${H(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,u,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let d=0;d<this.length;d++)s=t[d],u=this._trackByFn(d,s),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,s,u,d)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,u,d),r=!0),n=n._next}else i=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ys()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,d=>{u=this._trackByFn(i,d),null!==n&&Object.is(n.trackById,u)?(r&&(n=this._verifyReinsertion(n,d,u,i)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,u,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,i)):t=this._addAfter(new Uw(n,r),s,i),t}_verifyReinsertion(t,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Xg),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xg),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Uw{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jw{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Xg{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new jw,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function em(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class tm{constructor(){}supports(t){return t instanceof Map||yl(t)}create(){return new Bw}}class Bw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||yl(t)))throw new Error(`Error trying to diff '${H(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const s=i._prev,u=i._next;return s&&(s._next=u),u&&(u._prev=s),i._next=null,i._prev=null,i}const r=new Vw(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class Vw{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nm(){return new Au([new Qg])}let Au=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||nm()),deps:[[e,new es,new Vi]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=ce({token:e,providedIn:"root",factory:nm}),e})();function rm(){return new Ru([new tm])}let Ru=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||rm()),deps:[[e,new es,new Vi]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=ce({token:e,providedIn:"root",factory:rm}),e})();function Pu(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Tt(s)),X(s))for(let d=h;d<s.length;d++){const m=s[d],S=m[1].firstChild;null!==S&&Pu(m[1],m,S,r)}const u=n.type;if(8&u)Pu(e,t,n.child,r);else if(32&u){const d=Mc(n,t);let m;for(;m=d();)r.push(m)}else if(16&u){const d=Wf(t,n);if(Array.isArray(d))r.push(...d);else{const m=ea(t[z]);Pu(m[1],m,d,r,!0)}}n=i?n.projectionNext:n.next}return r}class ga{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Pu(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(X(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Uc(t,r),cs(n,r))}this._attachedToViewContainer=!1}kf(this._lView[1],this._lView)}onDestroy(t){yh(this._lView[1],this._lView,null,t)}markForCheck(){sl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){al(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){bs(!0);try{al(e,t,n)}finally{bs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ta(this._lView[1],t=this._lView,t[o],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class $w extends ga{constructor(t){super(t),this._view=t}detectChanges(){xh(this._view)}checkNoChanges(){!function(e){bs(!0);try{xh(e)}finally{bs(!1)}}(this._view)}get context(){return null}}const Ww=function(e){return function(e,t,n){if(Ae(e)&&!n){const r=Zn(e.index,t);return new ga(r,r)}return 47&e.type?new ga(t[z],t):null}(In(),Ke(),16==(16&e))};let zw=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ww,e})();const Jw=[new tm],Zw=new Au([new Qg]),Qw=new Ru(Jw),e1=function(){return Mu(In(),Ke())};let ma=(()=>{class e{}return e.__NG_ELEMENT_ID__=e1,e})();const t1=ma,n1=class extends t1{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=na(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),ra(n,r,t),new ga(r)}};function Mu(e,t){return 4&e.type?new n1(t,e,lo(e,t)):null}class ms{}class im{}const s1=function(){return am(In(),Ke())};let Nu=(()=>{class e{}return e.__NG_ELEMENT_ID__=s1,e})();const a1=Nu,sm=class extends a1{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return lo(this._hostTNode,this._hostLView)}get injector(){return new fe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Rs(this._hostTNode,this._hostLView);if(jo(t)){const n=Or(t,this._hostLView),r=xi(t);return new fe(n[1].data[r+8],n)}return new fe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=om(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-h}createEmbeddedView(t,n,r){const i=t.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(t,n,r,i,s){const u=r||this.parentInjector;if(!s&&null==t.ngModule&&u){const m=u.get(ms,null);m&&(s=m)}const d=t.create(u,i,void 0,s);return this.insert(d.hostView,n),d}insert(t,n){const r=t._lView,i=r[1];if(X(r[3])){const N=this.indexOf(t);if(-1!==N)this.detach(N);else{const Y=r[3],te=new sm(Y,Y[6],Y[3]);te.detach(te.indexOf(t))}}const s=this._adjustIndex(n),u=this._lContainer;!function(e,t,n,r){const i=h+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-h?(t[4]=n[i],eu(n,h+r,t)):(n.push(t),t[4]=null),t[3]=n;const u=t[17];null!==u&&n!==u&&function(e,t){const n=e[9];t[z]!==t[3][3][z]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(u,t);const d=t[19];null!==d&&d.insertView(e),t[2]|=128}(i,r,u,s);const d=Vc(s,u),m=r[o],S=cu(m,u[7]);return null!==S&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,ta(e,r,n,1,i,s)}(i,u[6],m,r,S,d),t.attachToViewContainerRef(),eu(Kl(u),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=om(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Uc(this._lContainer,n);r&&(cs(Kl(this._lContainer),n),kf(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Uc(this._lContainer,n);return r&&null!=cs(Kl(this._lContainer),n)?new ga(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function om(e){return e[8]}function Kl(e){return e[8]||(e[8]=[])}function am(e,t){let n;const r=t[e.index];if(X(r))n=r;else{let i;if(8&e.type)i=Tt(r);else{const s=t[o];i=s.createComment("");const u=Lt(e,t);fs(s,cu(s,u),i,function(e,t){return Re(e)?e.nextSibling(t):t.nextSibling}(s,u),!1)}t[e.index]=n=function(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}(r,t,i,e),mu(t,n)}return new sm(n,e,t)}const go={};class Fm extends gs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=fn(t);return new Tm(n,this.ngModule)}}function Im(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const rC=new Vn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>If});class Tm extends zg{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(Vv).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Im(this.componentDef.inputs)}get outputs(){return Im(this.componentDef.outputs)}create(t,n,r,i){const s=(i=i||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,go,i);return s!==go||r===go?s:t.get(n,r,i)}}}(t,i.injector):t,u=s.get(Tu,ht),d=s.get($l,null),m=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",N=r?function(e,t,n){if(Re(e))return e.selectRootElement(t,n===jt.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(m,r,this.componentDef.encapsulation):Lc(u.createRenderer(null,this.componentDef),S,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(S)),Y=this.componentDef.onPush?576:528,te=function(e,t){return{components:[],scheduler:e||If,clean:D_,playerHandler:t||null,flags:0}}(),ye=gu(0,null,null,1,0,null,null,null,null,null),Se=na(null,ye,te,Y,null,null,u,m,d,s);let Ne,Ie;Ro(Se);try{const Je=function(e,t,n,r,i,s){const u=n[1];n[20]=e;const m=Ks(u,20,2,"#host",null),S=m.mergedAttrs=t.hostAttrs;null!==S&&(yu(m,S,!0),null!==e&&(Zi(i,e,S),null!==m.classes&&$c(i,e,m.classes),null!==m.styles&&qf(i,e,m.styles)));const N=r.createRenderer(e,t),Y=na(n,ph(t),null,t.onPush?64:16,n[20],m,r,N,s||null,null);return u.firstCreatePass&&(Ps(us(m,n),u,t.type),wh(u,m),Ch(m,n.length,1)),mu(n,Y),n[20]=Y}(N,this.componentDef,Se,u,m);if(N)if(r)Zi(m,N,["ng-version",Zg.full]);else{const{attrs:Ve,classes:yt}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!ci(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Ve&&Zi(m,N,Ve),yt&&yt.length>0&&$c(m,N,yt.join(" "))}if(Ie=Mr(ye,20),void 0!==n){const Ve=Ie.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const It=n[yt];Ve.push(null!=It?Array.from(It):null)}}Ne=function(e,t,n,r,i){const s=n[1],u=function(e,t,n){const r=In();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Sh(e,r,t,Ws(e,t,1,null),n));const i=f(t,e,r.directiveStart,r);Er(i,t);const s=Lt(r,t);return s&&Er(s,t),i}(s,n,t);if(r.components.push(u),e[8]=u,i&&i.forEach(m=>m(u,t)),t.contentQueries){const m=In();t.contentQueries(1,u,m.directiveStart)}const d=In();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ci(d.index),Eh(n[1],d,0,d.directiveStart,d.directiveEnd,t),bh(t,u)),u}(Je,this.componentDef,Se,te,[Z_]),ra(ye,Se,null)}finally{ws()}return new oC(this.componentType,Ne,lo(Ie,Se),Se,Ie)}}class oC extends class{}{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new $w(i),this.componentType=t}get injector(){return new fe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const mo=new Map;class cC extends ms{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fm(this);const r=ft(t),i=t[vn]||null;i&&Ol(i),this._bootstrapComponents=Ti(r.bootstrap),this._r3Injector=Nh(t,n,[{provide:ms,useValue:this},{provide:gs,useValue:this.componentFactoryResolver}],H(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=hn.THROW_IF_NOT_FOUND,r=ne.Default){return t===hn||t===ms||t===Gs?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class rd extends im{constructor(t){super(),this.moduleType=t,null!==ft(t)&&function(e){const t=new Set;!function n(r){const i=ft(r,!0),s=i.id;null!==s&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${H(t)} vs ${H(t.name)}`)}(s,mo.get(s),r),mo.set(s,r));const u=Ti(i.imports);for(const d of u)t.has(d)||(t.add(d),n(d))}(e)}(t)}create(t){return new cC(this.moduleType,t)}}function Pm(e,t,n){const r=function(){const e=Ft.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}()+e,i=Ke();return i[r]===Mt?function(e,t,n){return e[t]=n}(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function id(e){return t=>{setTimeout(e,void 0,t)}}const ki=class extends I.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var i,s,u;let d=t,m=n||(()=>null),S=r;if(t&&"object"==typeof t){const Y=t;d=null===(i=Y.next)||void 0===i?void 0:i.bind(Y),m=null===(s=Y.error)||void 0===s?void 0:s.bind(Y),S=null===(u=Y.complete)||void 0===u?void 0:u.bind(Y)}this.__isAsync&&(m=id(m),d&&(d=id(d)),S&&(S=id(S)));const N=super.subscribe({next:d,error:m,complete:S});return t instanceof y.w&&t.add(N),N}};function FC(){return this._results[Ys()]()}class ju{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Ys(),r=ju.prototype;r[n]||(r[n]=FC)}get changes(){return this._changes||(this._changes=new ki)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=Qr(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class sd{constructor(t){this.queryList=t,this.matches=null}clone(){return new sd(this.queryList)}setDirty(){this.queryList.setDirty()}}class od{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const u=n.getByIndex(s);i.push(this.queries[u.indexInDeclarationView].clone())}return new od(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Wm(t,n).matches&&this.queries[n].setDirty()}}class Um{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class ad{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new ad(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ud{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new ud(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,n,AC(n,s)),this.matchTNodeWithReadOption(t,n,g(n,t,s,!1,!1))}else r===ma?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,g(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Oi||i===Nu||i===ma&&4&n.type)this.addMatch(n.index,-2);else{const s=g(n,t,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function AC(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function PC(e,t,n,r){return-1===n?function(e,t){return 11&e.type?lo(e,t):4&e.type?Mu(e,t):null}(t,e):-2===n?function(e,t,n){return n===Oi?lo(t,e):n===ma?Mu(t,e):n===Nu?am(t,e):void 0}(e,t,r):f(e,e[1],n,t)}function jm(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const s=e.data,u=n.matches,d=[];for(let m=0;m<u.length;m+=2){const S=u[m];d.push(S<0?null:PC(t,s[S],u[m+1],n.metadata.read))}i.matches=d}return i.matches}function cd(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const u=jm(e,t,i,n);for(let d=0;d<s.length;d+=2){const m=s[d];if(m>0)r.push(u[d/2]);else{const S=s[d+1],N=t[-m];for(let Y=h;Y<N.length;Y++){const te=N[Y];te[17]===te[3]&&cd(te[1],te,S,r)}if(null!==N[9]){const Y=N[9];for(let te=0;te<Y.length;te++){const ye=Y[te];cd(ye[1],ye,S,r)}}}}}return r}function Bm(e){const t=Ke(),n=Kt(),r=Ha();To(r+1);const i=Wm(n,r);if(e.dirty&&si(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?cd(n,t,r,[]):jm(n,t,i,r);e.reset(s,Jg),e.notifyOnChanges()}return!0}return!1}function Vm(e,t,n,r){const i=Kt();if(i.firstCreatePass){const s=In();(function(e,t,n){null===e.queries&&(e.queries=new ad),e.queries.track(new ud(t,n))})(i,new Um(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}!function(e,t,n){const r=new ju(4==(4&n));yh(e,t,r,r.destroy),null===t[19]&&(t[19]=new od),t[19].queries.push(new sd(r))}(i,Ke(),n)}function Hm(){return e=Ke(),t=Ha(),e[19].queries[t].queryList;var e,t}function Wm(e,t){return e.queries.getByIndex(t)}const gd=new Vn("Application Initializer");let vo=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Iu,this.reject=Iu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Fl(s))n.push(s);else if(Il(s)){const u=new Promise((d,m)=>{s.subscribe({complete:d,error:m})});n.push(u)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Qn(gd,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const cy=new Vn("AppId"),lS={provide:cy,useFactory:function(){return`${md()}${md()}${md()}`},deps:[]};function md(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ly=new Vn("Platform Initializer"),dy=new Vn("Platform ID"),fy=new Vn("appBootstrapListener");let hy=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Hu=new Vn("LocaleId"),py=new Vn("DefaultCurrencyCode");class fS{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const yd=function(e){return new rd(e)},hS=yd,pS=function(e){return Promise.resolve(yd(e))},gy=function(e){const t=yd(e),r=Ti(ft(e).declarations).reduce((i,s)=>{const u=fn(s);return u&&i.push(new Tm(u)),i},[]);return new fS(t,r)},gS=gy,mS=function(e){return Promise.resolve(gy(e))};let Ia=(()=>{class e{constructor(){this.compileModuleSync=hS,this.compileModuleAsync=pS,this.compileModuleAndAllComponentsSync=gS,this.compileModuleAndAllComponentsAsync=mS}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const _S=(()=>Promise.resolve(0))();function vd(e){"undefined"==typeof Zone?_S.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Hr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ki(!1),this.onMicrotaskEmpty=new ki(!1),this.onStable=new ki(!1),this.onError=new ki(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let e=He.requestAnimationFrame,t=He.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(He,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ed(e),e.isCheckStableRunning=!0,_d(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ed(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,u,d)=>{try{return my(e),n.invokeTask(i,s,u,d)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),yy(e)}},onInvoke:(n,r,i,s,u,d,m)=>{try{return my(e),n.invoke(i,s,u,d,m)}finally{e.shouldCoalesceRunChangeDetection&&t(),yy(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Ed(e),_d(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Hr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,u=s.scheduleEventTask("NgZoneEvent: "+i,t,bS,Iu,Iu);try{return s.runTask(u,n,r)}finally{s.cancelTask(u)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const bS={};function _d(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ed(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function my(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function yy(e){e._nesting--,_d(e)}class SS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ki,this.onMicrotaskEmpty=new ki,this.onStable=new ki,this.onError=new ki}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let vy=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hr.assertNotInAngularZone(),vd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(Qn(Hr))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),_y=(()=>{class e{constructor(){this._applications=new Map,bd.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return bd.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class DS{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}function xS(e){bd=e}let bd=new DS,Ey=!0,by=!1;function FS(){if(by)throw new Error("Cannot enable prod mode after platform setup.");Ey=!1}let yi;const Cy=new Vn("AllowMultipleToken");class NS{constructor(t,n){this.name=t,this.token=n}}function Sy(e,t,n=[]){const r=`Platform: ${t}`,i=new Vn(r);return(s=[])=>{let u=Dy();if(!u||u.injector.get(Cy,!1))if(e)e(n.concat(s).concat({provide:i,useValue:!0}));else{const d=n.concat(s).concat({provide:i,useValue:!0},{provide:ia,useValue:"platform"});!function(e){if(yi&&!yi.destroyed&&!yi.injector.get(Cy,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yi=e.get(xy);const t=e.get(ly,null);t&&t.forEach(n=>n())}(hn.create({providers:d,name:r}))}return function(e){const t=Dy();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Dy(){return yi&&!yi.destroyed?yi:null}let xy=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const d=function(e,t){let n;return n="noop"===e?new SS:("zone.js"===e?void 0:e)||new Hr({enableLongStackTrace:(by=!0,Ey),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),m=[{provide:Hr,useValue:d}];return d.run(()=>{const S=hn.create({providers:m,parent:this.injector,name:n.moduleType.name}),N=n.create(S),Y=N.injector.get(Vs,null);if(!Y)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return d.runOutsideAngular(()=>{const te=d.onError.subscribe({next:ye=>{Y.handleError(ye)}});N.onDestroy(()=>{wd(this._modules,N),te.unsubscribe()})}),function(e,t,n){try{const r=n();return Fl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(Y,d,()=>{const te=N.injector.get(vo);return te.runInitializers(),te.donePromise.then(()=>(Ol(N.injector.get(Hu,Cu)||Cu),this._moduleDoBootstrap(N),N))})})}bootstrapModule(n,r=[]){const i=Fy({},r);return function(e,t,n){const r=new rd(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ta);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${H(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Qn(hn))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function Fy(e,t){return Array.isArray(t)?t.reduce(Fy,e):Object.assign(Object.assign({},e),t)}let Ta=(()=>{class e{constructor(n,r,i,s,u){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new P.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),m=new P.y(S=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Hr.assertNotInAngularZone(),vd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{Hr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{N.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,K.T)(d,m.pipe(e=>(0,w.x)()(function(e,t){return function(r){let i;i="function"==typeof e?e:function(){return e};const s=Object.create(r,B.N);return s.source=r,s.subjectFactory=i,s}}(j)(e))))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof zg?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(e){return e.isBoundToModule}(i)?void 0:this._injector.get(ms),d=i.create(hn.NULL,[],r||i.selector,s),m=d.location.nativeElement,S=d.injector.get(vy,null),N=S&&d.injector.get(_y);return S&&N&&N.registerApplication(m,S),d.onDestroy(()=>{this.detachView(d.hostView),wd(this.components,d),N&&N.unregisterApplication(m)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;wd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(fy,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(Qn(Hr),Qn(hn),Qn(Vs),Qn(gs),Qn(vo))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function wd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class BS{}class HS{}const $S={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let KS=(()=>{class e{constructor(n,r){this._compiler=n,this._config=r||$S}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[r,i]=n.split("#");return void 0===i&&(i="default"),b(8255)(r).then(s=>s[i]).then(s=>Ry(s,r,i)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(n){let[r,i]=n.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),b(8255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(u=>u[i+s]).then(u=>Ry(u,r,i))}}return e.\u0275fac=function(n){return new(n||e)(Qn(Ia),Qn(HS,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function Ry(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const QS=function(e){return null},eD=Sy(null,"core",[{provide:dy,useValue:"unknown"},{provide:xy,deps:[hn]},{provide:_y,deps:[]},{provide:hy,deps:[]}]),sD=[{provide:Ta,useClass:Ta,deps:[Hr,hn,Vs,gs,vo]},{provide:rC,deps:[Hr],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:vo,useClass:vo,deps:[[new Vi,gd]]},{provide:Ia,useClass:Ia,deps:[]},lS,{provide:Au,useFactory:function(){return Zw},deps:[]},{provide:Ru,useFactory:function(){return Qw},deps:[]},{provide:Hu,useFactory:function(e){return Ol(e=e||"undefined"!=typeof $localize&&$localize.locale||Cu),e},deps:[[new Ls(Hu),new Vi,new es]]},{provide:py,useValue:"USD"}];let aD=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Qn(Ta))},e.\u0275mod=sr({type:e}),e.\u0275inj=De({providers:sD}),e})()},8879:(at,xe,b)=>{"use strict";b.d(xe,{gz:()=>le,F0:()=>gr,yS:()=>Ds,Bz:()=>qa,lC:()=>Zi});var I=b(8583),y=b(3018),P=b(9412),K=b(5917),B=b(6215),D=b(9112),F=b(9897),w=b(3410),j=b(8071),V=b(1439),k=b(9193),q=b(2441),H=b(9765),W=b(8002),Q=b(5345);function oe(v,g){return"function"==typeof g?f=>f.pipe(oe((x,M)=>(0,P.D)(v(x,M)).pipe((0,W.U)((J,fe)=>g(x,J,M,fe))))):f=>f.lift(new ae(v))}class ae{constructor(g){this.project=g}call(g,f){return f.subscribe(new ge(g,this.project))}}class ge extends Q.Ds{constructor(g,f){super(g),this.project=f,this.index=0}_next(g){let f;const x=this.index++;try{f=this.project(g,x)}catch(M){return void this.destination.error(M)}this._innerSub(f)}_innerSub(g){const f=this.innerSubscription;f&&f.unsubscribe();const x=new Q.IY(this),M=this.destination;M.add(x),this.innerSubscription=(0,Q.ft)(g,x),this.innerSubscription!==x&&M.add(this.innerSubscription)}_complete(){const{innerSubscription:g}=this;(!g||g.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(g){this.destination.next(g)}}var ve=b(7393),pe=b(7108);function Ue(v){return g=>0===v?(0,k.c)():g.lift(new Be(v))}class Be{constructor(g){if(this.total=g,this.total<0)throw new pe.W}call(g,f){return f.subscribe(new Le(g,this.total))}}class Le extends ve.L{constructor(g,f){super(g),this.total=f,this.count=0}_next(g){const f=this.total,x=++this.count;x<=f&&(this.destination.next(g),x===f&&(this.destination.complete(),this.unsubscribe()))}}var me=b(4869);function pt(v,g){let f=!1;return arguments.length>=2&&(f=!0),function(M){return M.lift(new dt(v,g,f))}}class dt{constructor(g,f,x=!1){this.accumulator=g,this.seed=f,this.hasSeed=x}call(g,f){return f.subscribe(new wt(g,this.accumulator,this.seed,this.hasSeed))}}class wt extends ve.L{constructor(g,f,x,M){super(g),this.accumulator=f,this._seed=x,this.hasSeed=M,this.index=0}get seed(){return this._seed}set seed(g){this.hasSeed=!0,this._seed=g}_next(g){if(this.hasSeed)return this._tryNext(g);this.seed=g,this.destination.next(g)}_tryNext(g){const f=this.index++;let x;try{x=this.accumulator(this.seed,g,f)}catch(M){this.destination.error(M)}this.seed=x,this.destination.next(x)}}var et=b(5435);function ot(v){return function(f){return 0===v?(0,k.c)():f.lift(new vt(v))}}class vt{constructor(g){if(this.total=g,this.total<0)throw new pe.W}call(g,f){return f.subscribe(new qe(g,this.total))}}class qe extends ve.L{constructor(g,f){super(g),this.total=f,this.ring=new Array,this.count=0}_next(g){const f=this.ring,x=this.total,M=this.count++;f.length<x?f.push(g):f[M%x]=g}_complete(){const g=this.destination;let f=this.count;if(f>0){const x=this.count>=this.total?this.total:this.count,M=this.ring;for(let J=0;J<x;J++){const fe=f++%x;g.next(M[fe])}}g.complete()}}function gt(v=rn){return g=>g.lift(new Vt(v))}class Vt{constructor(g){this.errorFactory=g}call(g,f){return f.subscribe(new mn(g,this.errorFactory))}}class mn extends ve.L{constructor(g,f){super(g),this.errorFactory=f,this.hasValue=!1}_next(g){this.hasValue=!0,this.destination.next(g)}_complete(){if(this.hasValue)return this.destination.complete();{let g;try{g=this.errorFactory()}catch(f){g=f}this.destination.error(g)}}}function rn(){return new w.K}function _n(v=null){return g=>g.lift(new Cn(v))}class Cn{constructor(g){this.defaultValue=g}call(g,f){return f.subscribe(new Kn(g,this.defaultValue))}}class Kn extends ve.L{constructor(g,f){super(g),this.defaultValue=f,this.isEmpty=!0}_next(g){this.isEmpty=!1,this.destination.next(g)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Sn=b(4487);function Ot(v,g){const f=arguments.length>=2;return x=>x.pipe(v?(0,et.h)((M,J)=>v(M,J,x)):Sn.y,Ue(1),f?_n(g):gt(()=>new w.K))}var ut=b(8640),de=b(9105);function L(v,g,f){return function(M){return M.lift(new U(v,g,f))}}class U{constructor(g,f,x){this.nextOrObserver=g,this.error=f,this.complete=x}call(g,f){return f.subscribe(new ce(g,this.nextOrObserver,this.error,this.complete))}}class ce extends ve.L{constructor(g,f,x,M){super(g),this._tapNext=ut.Z,this._tapError=ut.Z,this._tapComplete=ut.Z,this._tapError=x||ut.Z,this._tapComplete=M||ut.Z,(0,de.m)(f)?(this._context=this,this._tapNext=f):f&&(this._context=f,this._tapNext=f.next||ut.Z,this._tapError=f.error||ut.Z,this._tapComplete=f.complete||ut.Z)}_next(g){try{this._tapNext.call(this._context,g)}catch(f){return void this.destination.error(f)}this.destination.next(g)}_error(g){try{this._tapError.call(this._context,g)}catch(f){return void this.destination.error(f)}this.destination.error(g)}_complete(){try{this._tapComplete.call(this._context)}catch(g){return void this.destination.error(g)}return this.destination.complete()}}var Ee=b(826);class Me{constructor(g){this.callback=g}call(g,f){return f.subscribe(new Xe(g,this.callback))}}class Xe extends ve.L{constructor(g,f){super(g),this.add(new Ee.w(f))}}var lt=b(5304),Pt=b(4612),ct=b(9773),xt=b(1307),Wt=b(3282);class Ht{constructor(g,f){this.id=g,this.url=f}}class ke extends Ht{constructor(g,f,x="imperative",M=null){super(g,f),this.navigationTrigger=x,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ne extends Ht{constructor(g,f,x){super(g,f),this.urlAfterRedirects=x}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class be extends Ht{constructor(g,f,x){super(g,f),this.reason=x}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Oe extends Ht{constructor(g,f,x){super(g,f),this.error=x}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $e extends Ht{constructor(g,f,x,M){super(g,f),this.urlAfterRedirects=x,this.state=M}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt extends Ht{constructor(g,f,x,M){super(g,f),this.urlAfterRedirects=x,this.state=M}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $ extends Ht{constructor(g,f,x,M,J){super(g,f),this.urlAfterRedirects=x,this.state=M,this.shouldActivate=J}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qe extends Ht{constructor(g,f,x,M){super(g,f),this.urlAfterRedirects=x,this.state=M}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rt extends Ht{constructor(g,f,x,M){super(g,f),this.urlAfterRedirects=x,this.state=M}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class We{constructor(g){this.route=g}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pn{constructor(g){this.route=g}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jt{constructor(g){this.snapshot=g}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class on{constructor(g){this.snapshot=g}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ct{constructor(g){this.snapshot=g}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Et{constructor(g){this.snapshot=g}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tn{constructor(g,f,x){this.routerEvent=g,this.position=f,this.anchor=x}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const He="primary";class St{constructor(g){this.params=g||{}}has(g){return Object.prototype.hasOwnProperty.call(this.params,g)}get(g){if(this.has(g)){const f=this.params[g];return Array.isArray(f)?f[0]:f}return null}getAll(g){if(this.has(g)){const f=this.params[g];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function En(v){return new St(v)}const zt="ngNavigationCancelingError";function _t(v){const g=Error("NavigationCancelingError: "+v);return g[zt]=!0,g}function ir(v,g,f){const x=f.path.split("/");if(x.length>v.length||"full"===f.pathMatch&&(g.hasChildren()||x.length<v.length))return null;const M={};for(let J=0;J<x.length;J++){const fe=x[J],Ce=v[J];if(fe.startsWith(":"))M[fe.substring(1)]=Ce;else if(fe!==Ce.path)return null}return{consumed:v.slice(0,x.length),posParams:M}}function yn(v,g){const f=v?Object.keys(v):void 0,x=g?Object.keys(g):void 0;if(!f||!x||f.length!=x.length)return!1;let M;for(let J=0;J<f.length;J++)if(M=f[J],!vn(v[M],g[M]))return!1;return!0}function vn(v,g){if(Array.isArray(v)&&Array.isArray(g)){if(v.length!==g.length)return!1;const f=[...v].sort(),x=[...g].sort();return f.every((M,J)=>x[J]===M)}return v===g}function gn(v){return Array.prototype.concat.apply([],v)}function qn(v){return v.length>0?v[v.length-1]:null}function Zt(v,g){for(const f in v)v.hasOwnProperty(f)&&g(v[f],f)}function Un(v){return(0,y.CqO)(v)?v:(0,y.QGY)(v)?(0,P.D)(Promise.resolve(v)):(0,K.of)(v)}const Tr={exact:function Wn(v,g,f){if(!Ze(v.segments,g.segments)||!Pn(v.segments,g.segments,f)||v.numberOfChildren!==g.numberOfChildren)return!1;for(const x in g.children)if(!v.children[x]||!Wn(v.children[x],g.children[x],f))return!1;return!0},subset:qt},Ar={exact:function(v,g){return yn(v,g)},subset:function(v,g){return Object.keys(g).length<=Object.keys(v).length&&Object.keys(g).every(f=>vn(v[f],g[f]))},ignored:()=>!0};function sr(v,g,f){return Tr[f.paths](v.root,g.root,f.matrixParams)&&Ar[f.queryParams](v.queryParams,g.queryParams)&&!("exact"===f.fragment&&v.fragment!==g.fragment)}function qt(v,g,f){return fn(v,g,g.segments,f)}function fn(v,g,f,x){if(v.segments.length>f.length){const M=v.segments.slice(0,f.length);return!(!Ze(M,f)||g.hasChildren()||!Pn(M,f,x))}if(v.segments.length===f.length){if(!Ze(v.segments,f)||!Pn(v.segments,f,x))return!1;for(const M in g.children)if(!v.children[M]||!qt(v.children[M],g.children[M],x))return!1;return!0}{const M=f.slice(0,v.segments.length),J=f.slice(v.segments.length);return!!(Ze(v.segments,M)&&Pn(v.segments,M,x)&&v.children[He])&&fn(v.children[He],g,J,x)}}function Pn(v,g,f){return g.every((x,M)=>Ar[f](v[M].parameters,x.parameters))}class Mn{constructor(g,f,x){this.root=g,this.queryParams=f,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap}toString(){return or.serialize(this)}}class ft{constructor(g,f){this.segments=g,this.children=f,this.parent=null,Zt(f,(x,M)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qt(this)}}class Jt{constructor(g,f){this.path=g,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=En(this.parameters)),this._parameterMap}toString(){return E(this)}}function Ze(v,g){return v.length===g.length&&v.every((f,x)=>f.path===g[x].path)}class $t{}class Nn{parse(g){const f=new _e(g);return new Mn(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(g){var v;return`${`/${Xt(g.root,!0)}`}${function(v){const g=Object.keys(v).map(f=>{const x=v[f];return Array.isArray(x)?x.map(M=>`${Jn(f)}=${Jn(M)}`).join("&"):`${Jn(f)}=${Jn(x)}`}).filter(f=>!!f);return g.length?`?${g.join("&")}`:""}(g.queryParams)}${"string"==typeof g.fragment?`#${v=g.fragment,encodeURI(v)}`:""}`}}const or=new Nn;function Qt(v){return v.segments.map(g=>E(g)).join("/")}function Xt(v,g){if(!v.hasChildren())return Qt(v);if(g){const f=v.children[He]?Xt(v.children[He],!1):"",x=[];return Zt(v.children,(M,J)=>{J!==He&&x.push(`${J}:${Xt(M,!1)}`)}),x.length>0?`${f}(${x.join("//")})`:f}{const f=function(v,g){let f=[];return Zt(v.children,(x,M)=>{M===He&&(f=f.concat(g(x,M)))}),Zt(v.children,(x,M)=>{M!==He&&(f=f.concat(g(x,M)))}),f}(v,(x,M)=>M===He?[Xt(v.children[He],!1)]:[`${M}:${Xt(x,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[He]?`${Qt(v)}/${f[0]}`:`${Qt(v)}/(${f.join("//")})`}}function Yt(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jn(v){return Yt(v).replace(/%3B/gi,";")}function o(v){return Yt(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function c(v){return decodeURIComponent(v)}function p(v){return c(v.replace(/\+/g,"%20"))}function E(v){return`${o(v.path)}${function(v){return Object.keys(v).map(g=>`;${o(g)}=${o(v[g])}`).join("")}(v.parameters)}`}const se=/^[^\/()?;=#]+/;function ee(v){const g=v.match(se);return g?g[0]:""}const re=/^[^=?&#]+/,ue=/^[^?&#]+/;class _e{constructor(g){this.url=g,this.remaining=g}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ft([],{}):new ft([],this.parseChildren())}parseQueryParams(){const g={};if(this.consumeOptional("?"))do{this.parseQueryParam(g)}while(this.consumeOptional("&"));return g}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const g=[];for(this.peekStartsWith("(")||g.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),g.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(g.length>0||Object.keys(f).length>0)&&(x[He]=new ft(g,f)),x}parseSegment(){const g=ee(this.remaining);if(""===g&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(g),new Jt(c(g),this.parseMatrixParams())}parseMatrixParams(){const g={};for(;this.consumeOptional(";");)this.parseParam(g);return g}parseParam(g){const f=ee(this.remaining);if(!f)return;this.capture(f);let x="";if(this.consumeOptional("=")){const M=ee(this.remaining);M&&(x=M,this.capture(x))}g[c(f)]=c(x)}parseQueryParam(g){const f=function(v){const g=v.match(re);return g?g[0]:""}(this.remaining);if(!f)return;this.capture(f);let x="";if(this.consumeOptional("=")){const fe=function(v){const g=v.match(ue);return g?g[0]:""}(this.remaining);fe&&(x=fe,this.capture(x))}const M=p(f),J=p(x);if(g.hasOwnProperty(M)){let fe=g[M];Array.isArray(fe)||(fe=[fe],g[M]=fe),fe.push(J)}else g[M]=J}parseParens(g){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=ee(this.remaining),M=this.remaining[x.length];if("/"!==M&&")"!==M&&";"!==M)throw new Error(`Cannot parse url '${this.url}'`);let J;x.indexOf(":")>-1?(J=x.substr(0,x.indexOf(":")),this.capture(J),this.capture(":")):g&&(J=He);const fe=this.parseChildren();f[J]=1===Object.keys(fe).length?fe[He]:new ft([],fe),this.consumeOptional("//")}return f}peekStartsWith(g){return this.remaining.startsWith(g)}consumeOptional(g){return!!this.peekStartsWith(g)&&(this.remaining=this.remaining.substring(g.length),!0)}capture(g){if(!this.consumeOptional(g))throw new Error(`Expected "${g}".`)}}class Fe{constructor(g){this._root=g}get root(){return this._root.value}parent(g){const f=this.pathFromRoot(g);return f.length>1?f[f.length-2]:null}children(g){const f=Te(g,this._root);return f?f.children.map(x=>x.value):[]}firstChild(g){const f=Te(g,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(g){const f=C(g,this._root);return f.length<2?[]:f[f.length-2].children.map(M=>M.value).filter(M=>M!==g)}pathFromRoot(g){return C(g,this._root).map(f=>f.value)}}function Te(v,g){if(v===g.value)return g;for(const f of g.children){const x=Te(v,f);if(x)return x}return null}function C(v,g){if(v===g.value)return[g];for(const f of g.children){const x=C(v,f);if(x.length)return x.unshift(g),x}return[]}class l{constructor(g,f){this.value=g,this.children=f}toString(){return`TreeNode(${this.value})`}}function h(v){const g={};return v&&v.children.forEach(f=>g[f.value.outlet]=f),g}class _ extends Fe{constructor(g,f){super(g),this.snapshot=f,st(this,g)}toString(){return this.snapshot.toString()}}function R(v,g){const f=function(v,g){const fe=new Ye([],{},{},"",{},He,g,null,v.root,-1,{});return new ze("",new l(fe,[]))}(v,g),x=new B.X([new Jt("",{})]),M=new B.X({}),J=new B.X({}),fe=new B.X({}),Ce=new B.X(""),je=new le(x,M,fe,Ce,J,He,g,f.root);return je.snapshot=f.root,new _(new l(je,[]),f)}class le{constructor(g,f,x,M,J,fe,Ce,je){this.url=g,this.params=f,this.queryParams=x,this.fragment=M,this.data=J,this.outlet=fe,this.component=Ce,this._futureSnapshot=je}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,W.U)(g=>En(g)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,W.U)(g=>En(g)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ae(v,g="emptyOnly"){const f=v.pathFromRoot;let x=0;if("always"!==g)for(x=f.length-1;x>=1;){const M=f[x],J=f[x-1];if(M.routeConfig&&""===M.routeConfig.path)x--;else{if(J.component)break;x--}}return function(v){return v.reduce((g,f)=>({params:Object.assign(Object.assign({},g.params),f.params),data:Object.assign(Object.assign({},g.data),f.data),resolve:Object.assign(Object.assign({},g.resolve),f._resolvedData)}),{params:{},data:{},resolve:{}})}(f.slice(x))}class Ye{constructor(g,f,x,M,J,fe,Ce,je,it,mt,kt){this.url=g,this.params=f,this.queryParams=x,this.fragment=M,this.data=J,this.outlet=fe,this.component=Ce,this.routeConfig=je,this._urlSegment=it,this._lastPathIndex=mt,this._resolve=kt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=En(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ze extends Fe{constructor(g,f){super(f),this.url=g,st(this,f)}toString(){return Gt(this._root)}}function st(v,g){g.value._routerState=v,g.children.forEach(f=>st(v,f))}function Gt(v){const g=v.children.length>0?` { ${v.children.map(Gt).join(", ")} } `:"";return`${v.value}${g}`}function en(v){if(v.snapshot){const g=v.snapshot,f=v._futureSnapshot;v.snapshot=f,yn(g.queryParams,f.queryParams)||v.queryParams.next(f.queryParams),g.fragment!==f.fragment&&v.fragment.next(f.fragment),yn(g.params,f.params)||v.params.next(f.params),function(v,g){if(v.length!==g.length)return!1;for(let f=0;f<v.length;++f)if(!yn(v[f],g[f]))return!1;return!0}(g.url,f.url)||v.url.next(f.url),yn(g.data,f.data)||v.data.next(f.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function tn(v,g){return yn(v.params,g.params)&&function(v,g){return Ze(v,g)&&v.every((f,x)=>yn(f.parameters,g[x].parameters))}(v.url,g.url)&&!(!v.parent!=!g.parent)&&(!v.parent||tn(v.parent,g.parent))}function Dn(v,g,f){if(f&&v.shouldReuseRoute(g.value,f.value.snapshot)){const x=f.value;x._futureSnapshot=g.value;const M=function(v,g,f){return g.children.map(x=>{for(const M of f.children)if(v.shouldReuseRoute(x.value,M.value.snapshot))return Dn(v,x,M);return Dn(v,x)})}(v,g,f);return new l(x,M)}{if(v.shouldAttach(g.value)){const J=v.retrieve(g.value);if(null!==J){const fe=J.route;return Gn(g,fe),fe}}const x=function(v){return new le(new B.X(v.url),new B.X(v.params),new B.X(v.queryParams),new B.X(v.fragment),new B.X(v.data),v.outlet,v.component,v)}(g.value),M=g.children.map(J=>Dn(v,J));return new l(x,M)}}function Gn(v,g){if(v.value.routeConfig!==g.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(v.children.length!==g.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");g.value._futureSnapshot=v.value;for(let f=0;f<v.children.length;++f)Gn(v.children[f],g.children[f])}function On(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Sr(v){return"object"==typeof v&&null!=v&&v.outlets}function Ur(v,g,f,x,M){let J={};return x&&Zt(x,(fe,Ce)=>{J[Ce]=Array.isArray(fe)?fe.map(je=>`${je}`):`${fe}`}),new Mn(f.root===v?g:ii(f.root,v,g),J,M)}function ii(v,g,f){const x={};return Zt(v.children,(M,J)=>{x[J]=M===g?f:ii(M,g,f)}),new ft(v.segments,x)}class Kr{constructor(g,f,x){if(this.isAbsolute=g,this.numberOfDoubleDots=f,this.commands=x,g&&x.length>0&&On(x[0]))throw new Error("Root segment cannot have matrix parameters");const M=x.find(Sr);if(M&&M!==qn(x))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rr{constructor(g,f,x){this.segmentGroup=g,this.processChildren=f,this.index=x}}function Wr(v,g,f){if(v||(v=new ft([],{})),0===v.segments.length&&v.hasChildren())return zr(v,g,f);const x=function(v,g,f){let x=0,M=g;const J={match:!1,pathIndex:0,commandIndex:0};for(;M<v.segments.length;){if(x>=f.length)return J;const fe=v.segments[M],Ce=f[x];if(Sr(Ce))break;const je=`${Ce}`,it=x<f.length-1?f[x+1]:null;if(M>0&&void 0===je)break;if(je&&it&&"object"==typeof it&&void 0===it.outlets){if(!jr(je,it,fe))return J;x+=2}else{if(!jr(je,{},fe))return J;x++}M++}return{match:!0,pathIndex:M,commandIndex:x}}(v,g,f),M=f.slice(x.commandIndex);if(x.match&&x.pathIndex<v.segments.length){const J=new ft(v.segments.slice(0,x.pathIndex),{});return J.children[He]=new ft(v.segments.slice(x.pathIndex),v.children),zr(J,0,M)}return x.match&&0===M.length?new ft(v.segments,{}):x.match&&!v.hasChildren()?Gr(v,g,f):x.match?zr(v,0,M):Gr(v,g,f)}function zr(v,g,f){if(0===f.length)return new ft(v.segments,{});{const x=function(v){return Sr(v[0])?v[0].outlets:{[He]:v}}(f),M={};return Zt(x,(J,fe)=>{"string"==typeof J&&(J=[J]),null!==J&&(M[fe]=Wr(v.children[fe],g,J))}),Zt(v.children,(J,fe)=>{void 0===x[fe]&&(M[fe]=J)}),new ft(v.segments,M)}}function Gr(v,g,f){const x=v.segments.slice(0,g);let M=0;for(;M<f.length;){const J=f[M];if(Sr(J)){const je=qr(J.outlets);return new ft(x,je)}if(0===M&&On(f[0])){x.push(new Jt(v.segments[g].path,ur(f[0]))),M++;continue}const fe=Sr(J)?J.outlets[He]:`${J}`,Ce=M<f.length-1?f[M+1]:null;fe&&Ce&&On(Ce)?(x.push(new Jt(fe,ur(Ce))),M+=2):(x.push(new Jt(fe,{})),M++)}return new ft(x,{})}function qr(v){const g={};return Zt(v,(f,x)=>{"string"==typeof f&&(f=[f]),null!==f&&(g[x]=Gr(new ft([],{}),0,f))}),g}function ur(v){const g={};return Zt(v,(f,x)=>g[x]=`${f}`),g}function jr(v,g,f){return v==f.path&&yn(g,f.parameters)}class un{constructor(g,f,x,M){this.routeReuseStrategy=g,this.futureState=f,this.currState=x,this.forwardEvent=M}activate(g){const f=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,x,g),en(this.futureState.root),this.activateChildRoutes(f,x,g)}deactivateChildRoutes(g,f,x){const M=h(f);g.children.forEach(J=>{const fe=J.value.outlet;this.deactivateRoutes(J,M[fe],x),delete M[fe]}),Zt(M,(J,fe)=>{this.deactivateRouteAndItsChildren(J,x)})}deactivateRoutes(g,f,x){const M=g.value,J=f?f.value:null;if(M===J)if(M.component){const fe=x.getContext(M.outlet);fe&&this.deactivateChildRoutes(g,f,fe.children)}else this.deactivateChildRoutes(g,f,x);else J&&this.deactivateRouteAndItsChildren(f,x)}deactivateRouteAndItsChildren(g,f){this.routeReuseStrategy.shouldDetach(g.value.snapshot)?this.detachAndStoreRouteSubtree(g,f):this.deactivateRouteAndOutlet(g,f)}detachAndStoreRouteSubtree(g,f){const x=f.getContext(g.value.outlet);if(x&&x.outlet){const M=x.outlet.detach(),J=x.children.onOutletDeactivated();this.routeReuseStrategy.store(g.value.snapshot,{componentRef:M,route:g,contexts:J})}}deactivateRouteAndOutlet(g,f){const x=f.getContext(g.value.outlet),M=x&&g.value.component?x.children:f,J=h(g);for(const fe of Object.keys(J))this.deactivateRouteAndItsChildren(J[fe],M);x&&x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated(),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(g,f,x){const M=h(f);g.children.forEach(J=>{this.activateRoutes(J,M[J.value.outlet],x),this.forwardEvent(new Et(J.value.snapshot))}),g.children.length&&this.forwardEvent(new on(g.value.snapshot))}activateRoutes(g,f,x){const M=g.value,J=f?f.value:null;if(en(M),M===J)if(M.component){const fe=x.getOrCreateContext(M.outlet);this.activateChildRoutes(g,f,fe.children)}else this.activateChildRoutes(g,f,x);else if(M.component){const fe=x.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const Ce=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),fe.children.onOutletReAttached(Ce.contexts),fe.attachRef=Ce.componentRef,fe.route=Ce.route.value,fe.outlet&&fe.outlet.attach(Ce.componentRef,Ce.route.value),fr(Ce.route)}else{const Ce=function(v){for(let g=v.parent;g;g=g.parent){const f=g.routeConfig;if(f&&f._loadedConfig)return f._loadedConfig;if(f&&f.component)return null}return null}(M.snapshot),je=Ce?Ce.module.componentFactoryResolver:null;fe.attachRef=null,fe.route=M,fe.resolver=je,fe.outlet&&fe.outlet.activateWith(M,je),this.activateChildRoutes(g,null,fe.children)}}else this.activateChildRoutes(g,null,x)}}function fr(v){en(v.value),v.children.forEach(fr)}class cn{constructor(g,f){this.routes=g,this.module=f}}function vr(v){return"function"==typeof v}function Yn(v){return v instanceof Mn}const we=Symbol("INITIAL_VALUE");function Re(){return oe(v=>(0,D.aj)(v.map(g=>g.pipe(Ue(1),function(...v){const g=v[v.length-1];return(0,me.K)(g)?(v.pop(),f=>(0,j.z)(v,f,g)):f=>(0,j.z)(v,f)}(we)))).pipe(pt((g,f)=>{let x=!1;return f.reduce((M,J,fe)=>M!==we?M:(J===we&&(x=!0),x||!1!==J&&fe!==f.length-1&&!Yn(J)?M:J),g)},we),(0,et.h)(g=>g!==we),(0,W.U)(g=>Yn(g)?g:!0===g),Ue(1)))}let Ge=(()=>{class v{}return v.\u0275fac=function(f){return new(f||v)},v.\u0275cmp=y.Xpm({type:v,selectors:[["ng-component"]],decls:1,vars:0,template:function(f,x){1&f&&y._UZ(0,"router-outlet")},directives:function(){return[Zi]},encapsulation:2}),v})();function ht(v,g=""){for(let f=0;f<v.length;f++){const x=v[f];nn(x,Tt(g,x))}}function nn(v,g){v.children&&ht(v.children,g)}function Tt(v,g){return g?v||g.path?v&&!g.path?`${v}/`:!v&&g.path?g.path:`${v}/${g.path}`:"":v}function ln(v){const g=v.children&&v.children.map(ln),f=g?Object.assign(Object.assign({},v),{children:g}):Object.assign({},v);return!f.component&&(g||f.loadChildren)&&f.outlet&&f.outlet!==He&&(f.component=Ge),f}function At(v){return v.outlet||He}function Fn(v,g){const f=v.filter(x=>At(x)===g);return f.push(...v.filter(x=>At(x)!==g)),f}const Lt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Bn(v,g,f){var x;if(""===g.path)return"full"===g.pathMatch&&(v.hasChildren()||f.length>0)?Object.assign({},Lt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const J=(g.matcher||ir)(f,v,g);if(!J)return Object.assign({},Lt);const fe={};Zt(J.posParams,(je,it)=>{fe[it]=je.path});const Ce=J.consumed.length>0?Object.assign(Object.assign({},fe),J.consumed[J.consumed.length-1].parameters):fe;return{matched:!0,consumedSegments:J.consumed,lastChild:J.consumed.length,parameters:Ce,positionalParamSegments:null!==(x=J.posParams)&&void 0!==x?x:{}}}function Mr(v,g,f,x,M="corrected"){if(f.length>0&&function(v,g,f){return f.some(x=>bi(v,g,x)&&At(x)!==He)}(v,f,x)){const fe=new ft(g,function(v,g,f,x){const M={};M[He]=x,x._sourceSegment=v,x._segmentIndexShift=g.length;for(const J of f)if(""===J.path&&At(J)!==He){const fe=new ft([],{});fe._sourceSegment=v,fe._segmentIndexShift=g.length,M[At(J)]=fe}return M}(v,g,x,new ft(f,v.children)));return fe._sourceSegment=v,fe._segmentIndexShift=g.length,{segmentGroup:fe,slicedSegments:[]}}if(0===f.length&&function(v,g,f){return f.some(x=>bi(v,g,x))}(v,f,x)){const fe=new ft(v.segments,function(v,g,f,x,M,J){const fe={};for(const Ce of x)if(bi(v,f,Ce)&&!M[At(Ce)]){const je=new ft([],{});je._sourceSegment=v,je._segmentIndexShift="legacy"===J?v.segments.length:g.length,fe[At(Ce)]=je}return Object.assign(Object.assign({},M),fe)}(v,g,f,x,v.children,M));return fe._sourceSegment=v,fe._segmentIndexShift=g.length,{segmentGroup:fe,slicedSegments:f}}const J=new ft(v.segments,v.children);return J._sourceSegment=v,J._segmentIndexShift=g.length,{segmentGroup:J,slicedSegments:f}}function bi(v,g,f){return(!(v.hasChildren()||g.length>0)||"full"!==f.pathMatch)&&""===f.path}function Nr(v,g,f,x){return!!(At(v)===x||x!==He&&bi(g,f,v))&&("**"===v.path||Bn(g,v,f).matched)}function So(v,g,f){return 0===g.length&&!v.children[f]}class Ui{constructor(g){this.segmentGroup=g||null}}class Ft{constructor(g){this.urlTree=g}}function Do(v){return new F.y(g=>g.error(new Ui(v)))}function Oa(v){return new F.y(g=>g.error(new Ft(v)))}function Xu(v){return new F.y(g=>g.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${v}'`)))}class tc{constructor(g,f,x,M,J){this.configLoader=f,this.urlSerializer=x,this.urlTree=M,this.config=J,this.allowRedirects=!0,this.ngModule=g.get(y.h0i)}apply(){const g=Mr(this.urlTree.root,[],[],this.config).segmentGroup,f=new ft(g.segments,g.children);return this.expandSegmentGroup(this.ngModule,this.config,f,He).pipe((0,W.U)(J=>this.createUrlTree(Ke(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,lt.K)(J=>{if(J instanceof Ft)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof Ui?this.noMatchError(J):J}))}match(g){return this.expandSegmentGroup(this.ngModule,this.config,g.root,He).pipe((0,W.U)(M=>this.createUrlTree(Ke(M),g.queryParams,g.fragment))).pipe((0,lt.K)(M=>{throw M instanceof Ui?this.noMatchError(M):M}))}noMatchError(g){return new Error(`Cannot match any routes. URL Segment: '${g.segmentGroup}'`)}createUrlTree(g,f,x){const M=g.segments.length>0?new ft([],{[He]:g}):g;return new Mn(M,f,x)}expandSegmentGroup(g,f,x,M){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(g,f,x).pipe((0,W.U)(J=>new ft([],J))):this.expandSegment(g,x,f,x.segments,M,!0)}expandChildren(g,f,x){const M=[];for(const J of Object.keys(x.children))"primary"===J?M.unshift(J):M.push(J);return(0,P.D)(M).pipe((0,Pt.b)(J=>{const fe=x.children[J],Ce=Fn(f,J);return this.expandSegmentGroup(g,Ce,fe,J).pipe((0,W.U)(je=>({segment:je,outlet:J})))}),pt((J,fe)=>(J[fe.outlet]=fe.segment,J),{}),function(v,g){const f=arguments.length>=2;return x=>x.pipe(v?(0,et.h)((M,J)=>v(M,J,x)):Sn.y,ot(1),f?_n(g):gt(()=>new w.K))}())}expandSegment(g,f,x,M,J,fe){return(0,P.D)(x).pipe((0,Pt.b)(Ce=>this.expandSegmentAgainstRoute(g,f,x,Ce,M,J,fe).pipe((0,lt.K)(it=>{if(it instanceof Ui)return(0,K.of)(null);throw it}))),Ot(Ce=>!!Ce),(0,lt.K)((Ce,je)=>{if(Ce instanceof w.K||"EmptyError"===Ce.name){if(So(f,M,J))return(0,K.of)(new ft([],{}));throw new Ui(f)}throw Ce}))}expandSegmentAgainstRoute(g,f,x,M,J,fe,Ce){return Nr(M,f,J,fe)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(g,f,M,J,fe):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(g,f,x,M,J,fe):Do(f):Do(f)}expandSegmentAgainstRouteUsingRedirect(g,f,x,M,J,fe){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(g,x,M,fe):this.expandRegularSegmentAgainstRouteUsingRedirect(g,f,x,M,J,fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(g,f,x,M){const J=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?Oa(J):this.lineralizeSegments(x,J).pipe((0,ct.zg)(fe=>{const Ce=new ft(fe,{});return this.expandSegment(g,Ce,f,fe,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(g,f,x,M,J,fe){const{matched:Ce,consumedSegments:je,lastChild:it,positionalParamSegments:mt}=Bn(f,M,J);if(!Ce)return Do(f);const kt=this.applyRedirectCommands(je,M.redirectTo,mt);return M.redirectTo.startsWith("/")?Oa(kt):this.lineralizeSegments(M,kt).pipe((0,ct.zg)(an=>this.expandSegment(g,f,x,an.concat(J.slice(it)),fe,!1)))}matchSegmentAgainstRoute(g,f,x,M,J){if("**"===x.path)return x.loadChildren?(x._loadedConfig?(0,K.of)(x._loadedConfig):this.configLoader.load(g.injector,x)).pipe((0,W.U)(an=>(x._loadedConfig=an,new ft(M,{})))):(0,K.of)(new ft(M,{}));const{matched:fe,consumedSegments:Ce,lastChild:je}=Bn(f,x,M);if(!fe)return Do(f);const it=M.slice(je);return this.getChildConfig(g,x,M).pipe((0,ct.zg)(kt=>{const an=kt.module,Ut=kt.routes,{segmentGroup:Zr,slicedSegments:mr}=Mr(f,Ce,it,Ut),ui=new ft(Zr.segments,Zr.children);if(0===mr.length&&ui.hasChildren())return this.expandChildren(an,Ut,ui).pipe((0,W.U)($o=>new ft(Ce,$o)));if(0===Ut.length&&0===mr.length)return(0,K.of)(new ft(Ce,{}));const Ms=At(x)===J;return this.expandSegment(an,ui,Ut,mr,Ms?He:J,!0).pipe((0,W.U)(Bi=>new ft(Ce.concat(Bi.segments),Bi.children)))}))}getChildConfig(g,f,x){return f.children?(0,K.of)(new cn(f.children,g)):f.loadChildren?void 0!==f._loadedConfig?(0,K.of)(f._loadedConfig):this.runCanLoadGuards(g.injector,f,x).pipe((0,ct.zg)(M=>{return M?this.configLoader.load(g.injector,f).pipe((0,W.U)(J=>(f._loadedConfig=J,J))):(v=f,new F.y(g=>g.error(_t(`Cannot load children because the guard of the route "path: '${v.path}'" returned false`))));var v})):(0,K.of)(new cn([],g))}runCanLoadGuards(g,f,x){const M=f.canLoad;if(!M||0===M.length)return(0,K.of)(!0);const J=M.map(fe=>{const Ce=g.get(fe);let je;if((v=Ce)&&vr(v.canLoad))je=Ce.canLoad(f,x);else{if(!vr(Ce))throw new Error("Invalid CanLoad guard");je=Ce(f,x)}var v;return Un(je)});return(0,K.of)(J).pipe(Re(),L(fe=>{if(!Yn(fe))return;const Ce=_t(`Redirecting to "${this.urlSerializer.serialize(fe)}"`);throw Ce.url=fe,Ce}),(0,W.U)(fe=>!0===fe))}lineralizeSegments(g,f){let x=[],M=f.root;for(;;){if(x=x.concat(M.segments),0===M.numberOfChildren)return(0,K.of)(x);if(M.numberOfChildren>1||!M.children[He])return Xu(g.redirectTo);M=M.children[He]}}applyRedirectCommands(g,f,x){return this.applyRedirectCreatreUrlTree(f,this.urlSerializer.parse(f),g,x)}applyRedirectCreatreUrlTree(g,f,x,M){const J=this.createSegmentGroup(g,f.root,x,M);return new Mn(J,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(g,f){const x={};return Zt(g,(M,J)=>{if("string"==typeof M&&M.startsWith(":")){const Ce=M.substring(1);x[J]=f[Ce]}else x[J]=M}),x}createSegmentGroup(g,f,x,M){const J=this.createSegments(g,f.segments,x,M);let fe={};return Zt(f.children,(Ce,je)=>{fe[je]=this.createSegmentGroup(g,Ce,x,M)}),new ft(J,fe)}createSegments(g,f,x,M){return f.map(J=>J.path.startsWith(":")?this.findPosParam(g,J,M):this.findOrReturn(J,x))}findPosParam(g,f,x){const M=x[f.path.substring(1)];if(!M)throw new Error(`Cannot redirect to '${g}'. Cannot find '${f.path}'.`);return M}findOrReturn(g,f){let x=0;for(const M of f){if(M.path===g.path)return f.splice(x),M;x++}return g}}function Ke(v){const g={};for(const x of Object.keys(v.children)){const J=Ke(v.children[x]);(J.segments.length>0||J.hasChildren())&&(g[x]=J)}return function(v){if(1===v.numberOfChildren&&v.children[He]){const g=v.children[He];return new ft(v.segments.concat(g.segments),g.children)}return v}(new ft(v.segments,g))}class La{constructor(g){this.path=g,this.route=this.path[this.path.length-1]}}class In{constructor(g,f){this.component=g,this.route=f}}function Ua(v,g,f){const x=v._root;return ji(x,g?g._root:null,f,[x.value])}function Dr(v,g,f){const x=function(v){if(!v)return null;for(let g=v.parent;g;g=g.parent){const f=g.routeConfig;if(f&&f._loadedConfig)return f._loadedConfig}return null}(g);return(x?x.module.injector:f).get(v)}function ji(v,g,f,x,M={canDeactivateChecks:[],canActivateChecks:[]}){const J=h(g);return v.children.forEach(fe=>{(function(v,g,f,x,M={canDeactivateChecks:[],canActivateChecks:[]}){const J=v.value,fe=g?g.value:null,Ce=f?f.getContext(v.value.outlet):null;if(fe&&J.routeConfig===fe.routeConfig){const je=function(v,g,f){if("function"==typeof f)return f(v,g);switch(f){case"pathParamsChange":return!Ze(v.url,g.url);case"pathParamsOrQueryParamsChange":return!Ze(v.url,g.url)||!yn(v.queryParams,g.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tn(v,g)||!yn(v.queryParams,g.queryParams);case"paramsChange":default:return!tn(v,g)}}(fe,J,J.routeConfig.runGuardsAndResolvers);je?M.canActivateChecks.push(new La(x)):(J.data=fe.data,J._resolvedData=fe._resolvedData),ji(v,g,J.component?Ce?Ce.children:null:f,x,M),je&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&M.canDeactivateChecks.push(new In(Ce.outlet.component,fe))}else fe&&wi(g,Ce,M),M.canActivateChecks.push(new La(x)),ji(v,null,J.component?Ce?Ce.children:null:f,x,M)})(fe,J[fe.value.outlet],f,x.concat([fe.value]),M),delete J[fe.value.outlet]}),Zt(J,(fe,Ce)=>wi(fe,f.getContext(Ce),M)),M}function wi(v,g,f){const x=h(v),M=v.value;Zt(x,(J,fe)=>{wi(J,M.component?g?g.children.getContext(fe):null:g,f)}),f.canDeactivateChecks.push(new In(M.component&&g&&g.outlet&&g.outlet.isActivated?g.outlet.component:null,M))}class sc{}function Va(v){return new F.y(g=>g.error(v))}class Io{constructor(g,f,x,M,J,fe){this.rootComponentType=g,this.config=f,this.urlTree=x,this.url=M,this.paramsInheritanceStrategy=J,this.relativeLinkResolution=fe}recognize(){const g=Mr(this.urlTree.root,[],[],this.config.filter(fe=>void 0===fe.redirectTo),this.relativeLinkResolution).segmentGroup,f=this.processSegmentGroup(this.config,g,He);if(null===f)return null;const x=new Ye([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},He,this.rootComponentType,null,this.urlTree.root,-1,{}),M=new l(x,f),J=new ze(this.url,M);return this.inheritParamsAndData(J._root),J}inheritParamsAndData(g){const f=g.value,x=Ae(f,this.paramsInheritanceStrategy);f.params=Object.freeze(x.params),f.data=Object.freeze(x.data),g.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(g,f,x){return 0===f.segments.length&&f.hasChildren()?this.processChildren(g,f):this.processSegment(g,f,f.segments,x)}processChildren(g,f){const x=[];for(const J of Object.keys(f.children)){const fe=f.children[J],Ce=Fn(g,J),je=this.processSegmentGroup(Ce,fe,J);if(null===je)return null;x.push(...je)}const M=Ao(x);return M.sort((g,f)=>g.value.outlet===He?-1:f.value.outlet===He?1:g.value.outlet.localeCompare(f.value.outlet)),M}processSegment(g,f,x,M){for(const J of g){const fe=this.processSegmentAgainstRoute(J,f,x,M);if(null!==fe)return fe}return So(f,x,M)?[]:null}processSegmentAgainstRoute(g,f,x,M){if(g.redirectTo||!Nr(g,f,x,M))return null;let J,fe=[],Ce=[];if("**"===g.path){const Ut=x.length>0?qn(x).parameters:{};J=new Ye(x,Ut,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,No(g),At(g),g.component,g,Po(f),Mo(f)+x.length,Oo(g))}else{const Ut=Bn(f,g,x);if(!Ut.matched)return null;fe=Ut.consumedSegments,Ce=x.slice(Ut.lastChild),J=new Ye(fe,Ut.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,No(g),At(g),g.component,g,Po(f),Mo(f)+fe.length,Oo(g))}const je=(v=g).children?v.children:v.loadChildren?v._loadedConfig.routes:[],{segmentGroup:it,slicedSegments:mt}=Mr(f,fe,Ce,je.filter(Ut=>void 0===Ut.redirectTo),this.relativeLinkResolution);var v;if(0===mt.length&&it.hasChildren()){const Ut=this.processChildren(je,it);return null===Ut?null:[new l(J,Ut)]}if(0===je.length&&0===mt.length)return[new l(J,[])];const kt=At(g)===M,an=this.processSegment(je,it,mt,kt?He:M);return null===an?null:[new l(J,an)]}}function oc(v){const g=v.value.routeConfig;return g&&""===g.path&&void 0===g.redirectTo}function Ao(v){const g=[],f=new Set;for(const x of v){if(!oc(x)){g.push(x);continue}const M=g.find(J=>x.value.routeConfig===J.value.routeConfig);void 0!==M?(M.children.push(...x.children),f.add(M)):g.push(x)}for(const x of f){const M=Ao(x.children);g.push(new l(x.value,M))}return g.filter(x=>!f.has(x))}function Po(v){let g=v;for(;g._sourceSegment;)g=g._sourceSegment;return g}function Mo(v){let g=v,f=g._segmentIndexShift?g._segmentIndexShift:0;for(;g._sourceSegment;)g=g._sourceSegment,f+=g._segmentIndexShift?g._segmentIndexShift:0;return f-1}function No(v){return v.data||{}}function Oo(v){return v.resolve||{}}function wn(v){return oe(g=>{const f=v(g);return f?(0,P.D)(f).pipe((0,W.U)(()=>g)):(0,K.of)(g)})}class dc extends class{shouldDetach(g){return!1}store(g,f){}shouldAttach(g){return!1}retrieve(g){return null}shouldReuseRoute(g,f){return g.routeConfig===f.routeConfig}}{}const ko=new y.OlP("ROUTES");class $a{constructor(g,f,x,M){this.loader=g,this.compiler=f,this.onLoadStartListener=x,this.onLoadEndListener=M}load(g,f){if(f._loader$)return f._loader$;this.onLoadStartListener&&this.onLoadStartListener(f);const M=this.loadModuleFactory(f.loadChildren).pipe((0,W.U)(J=>{this.onLoadEndListener&&this.onLoadEndListener(f);const fe=J.create(g);return new cn(gn(fe.injector.get(ko,void 0,y.XFs.Self|y.XFs.Optional)).map(ln),fe)}),(0,lt.K)(J=>{throw f._loader$=void 0,J}));return f._loader$=new q.c(M,()=>new H.xQ).pipe((0,xt.x)()),f._loader$}loadModuleFactory(g){return"string"==typeof g?(0,P.D)(this.loader.load(g)):Un(g()).pipe((0,ct.zg)(f=>f instanceof y.YKP?(0,K.of)(f):(0,P.D)(this.compiler.compileModuleAsync(f))))}}class fc{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ai,this.attachRef=null}}class ai{constructor(){this.contexts=new Map}onChildOutletCreated(g,f){const x=this.getOrCreateContext(g);x.outlet=f,this.contexts.set(g,x)}onChildOutletDestroyed(g){const f=this.getContext(g);f&&(f.outlet=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let f=this.getContext(g);return f||(f=new fc,this.contexts.set(g,f)),f}getContext(g){return this.contexts.get(g)||null}}class Ss{shouldProcessUrl(g){return!0}extract(g){return g}merge(g,f){return g}}function Lo(v){throw v}function Ka(v,g,f){return g.parse("/")}function Wa(v,g){return(0,K.of)(null)}const Si={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},os={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gr=(()=>{class v{constructor(f,x,M,J,fe,Ce,je,it){this.rootComponentType=f,this.urlSerializer=x,this.rootContexts=M,this.location=J,this.config=it,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new H.xQ,this.errorHandler=Lo,this.malformedUriErrorHandler=Ka,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wa,afterPreactivation:Wa},this.urlHandlingStrategy=new Ss,this.routeReuseStrategy=new dc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=fe.get(y.h0i),this.console=fe.get(y.c2e);const an=fe.get(y.R0b);this.isNgZoneEnabled=an instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(it),this.currentUrlTree=new Mn(new ft([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $a(Ce,je,Ut=>this.triggerEvent(new We(Ut)),Ut=>this.triggerEvent(new pn(Ut))),this.routerState=R(this.currentUrlTree,this.rootComponentType),this.transitions=new B.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var f;return null===(f=this.location.getState())||void 0===f?void 0:f.\u0275routerPageId}setupNavigations(f){const x=this.events;return f.pipe((0,et.h)(M=>0!==M.id),(0,W.U)(M=>Object.assign(Object.assign({},M),{extractedUrl:this.urlHandlingStrategy.extract(M.rawUrl)})),oe(M=>{let J=!1,fe=!1;return(0,K.of)(M).pipe(L(Ce=>{this.currentNavigation={id:Ce.id,initialUrl:Ce.currentRawUrl,extractedUrl:Ce.extractedUrl,trigger:Ce.source,extras:Ce.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),oe(Ce=>{const je=!this.navigated||Ce.extractedUrl.toString()!==this.browserUrlTree.toString(),it=("reload"===this.onSameUrlNavigation||je)&&this.urlHandlingStrategy.shouldProcessUrl(Ce.rawUrl);if(Di(Ce.source)&&(this.browserUrlTree=Ce.rawUrl),it)return(0,K.of)(Ce).pipe(oe(mt=>{const kt=this.transitions.getValue();return x.next(new ke(mt.id,this.serializeUrl(mt.extractedUrl),mt.source,mt.restoredState)),kt!==this.transitions.getValue()?k.E:Promise.resolve(mt)}),function(v,g,f,x){return oe(M=>function(v,g,f,x,M){return new tc(v,g,f,x,M).apply()}(v,g,f,M.extractedUrl,x).pipe((0,W.U)(J=>Object.assign(Object.assign({},M),{urlAfterRedirects:J}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),L(mt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:mt.urlAfterRedirects})}),function(v,g,f,x,M){return(0,ct.zg)(J=>function(v,g,f,x,M="emptyOnly",J="legacy"){try{const fe=new Io(v,g,f,x,M,J).recognize();return null===fe?Va(new sc):(0,K.of)(fe)}catch(fe){return Va(fe)}}(v,g,J.urlAfterRedirects,f(J.urlAfterRedirects),x,M).pipe((0,W.U)(fe=>Object.assign(Object.assign({},J),{targetSnapshot:fe}))))}(this.rootComponentType,this.config,mt=>this.serializeUrl(mt),this.paramsInheritanceStrategy,this.relativeLinkResolution),L(mt=>{"eager"===this.urlUpdateStrategy&&(mt.extras.skipLocationChange||this.setBrowserUrl(mt.urlAfterRedirects,mt),this.browserUrlTree=mt.urlAfterRedirects);const kt=new $e(mt.id,this.serializeUrl(mt.extractedUrl),this.serializeUrl(mt.urlAfterRedirects),mt.targetSnapshot);x.next(kt)}));if(je&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:kt,extractedUrl:an,source:Ut,restoredState:Zr,extras:mr}=Ce,ui=new ke(kt,this.serializeUrl(an),Ut,Zr);x.next(ui);const Ms=R(an,this.rootComponentType).snapshot;return(0,K.of)(Object.assign(Object.assign({},Ce),{targetSnapshot:Ms,urlAfterRedirects:an,extras:Object.assign(Object.assign({},mr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ce.rawUrl,this.browserUrlTree=Ce.urlAfterRedirects,Ce.resolve(null),k.E}),wn(Ce=>{const{targetSnapshot:je,id:it,extractedUrl:mt,rawUrl:kt,extras:{skipLocationChange:an,replaceUrl:Ut}}=Ce;return this.hooks.beforePreactivation(je,{navigationId:it,appliedUrlTree:mt,rawUrlTree:kt,skipLocationChange:!!an,replaceUrl:!!Ut})}),L(Ce=>{const je=new tt(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot);this.triggerEvent(je)}),(0,W.U)(Ce=>Object.assign(Object.assign({},Ce),{guards:Ua(Ce.targetSnapshot,Ce.currentSnapshot,this.rootContexts)})),function(v,g){return(0,ct.zg)(f=>{const{targetSnapshot:x,currentSnapshot:M,guards:{canActivateChecks:J,canDeactivateChecks:fe}}=f;return 0===fe.length&&0===J.length?(0,K.of)(Object.assign(Object.assign({},f),{guardsResult:!0})):function(v,g,f,x){return(0,P.D)(v).pipe((0,ct.zg)(M=>function(v,g,f,x,M){const J=g&&g.routeConfig?g.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,K.of)(!0);const fe=J.map(Ce=>{const je=Dr(Ce,g,M);let it;if(function(v){return v&&vr(v.canDeactivate)}(je))it=Un(je.canDeactivate(v,g,f,x));else{if(!vr(je))throw new Error("Invalid CanDeactivate guard");it=Un(je(v,g,f,x))}return it.pipe(Ot())});return(0,K.of)(fe).pipe(Re())}(M.component,M.route,f,g,x)),Ot(M=>!0!==M,!0))}(fe,x,M,v).pipe((0,ct.zg)(Ce=>Ce&&function(v){return"boolean"==typeof v}(Ce)?function(v,g,f,x){return(0,P.D)(g).pipe((0,Pt.b)(M=>(0,j.z)(function(v,g){return null!==v&&g&&g(new jt(v)),(0,K.of)(!0)}(M.route.parent,x),function(v,g){return null!==v&&g&&g(new Ct(v)),(0,K.of)(!0)}(M.route,x),function(v,g,f){const x=g[g.length-1],J=g.slice(0,g.length-1).reverse().map(fe=>function(v){const g=v.routeConfig?v.routeConfig.canActivateChild:null;return g&&0!==g.length?{node:v,guards:g}:null}(fe)).filter(fe=>null!==fe).map(fe=>(0,V.P)(()=>{const Ce=fe.guards.map(je=>{const it=Dr(je,fe.node,f);let mt;if(function(v){return v&&vr(v.canActivateChild)}(it))mt=Un(it.canActivateChild(x,v));else{if(!vr(it))throw new Error("Invalid CanActivateChild guard");mt=Un(it(x,v))}return mt.pipe(Ot())});return(0,K.of)(Ce).pipe(Re())}));return(0,K.of)(J).pipe(Re())}(v,M.path,f),function(v,g,f){const x=g.routeConfig?g.routeConfig.canActivate:null;if(!x||0===x.length)return(0,K.of)(!0);const M=x.map(J=>(0,V.P)(()=>{const fe=Dr(J,g,f);let Ce;if(function(v){return v&&vr(v.canActivate)}(fe))Ce=Un(fe.canActivate(g,v));else{if(!vr(fe))throw new Error("Invalid CanActivate guard");Ce=Un(fe(g,v))}return Ce.pipe(Ot())}));return(0,K.of)(M).pipe(Re())}(v,M.route,f))),Ot(M=>!0!==M,!0))}(x,J,v,g):(0,K.of)(Ce)),(0,W.U)(Ce=>Object.assign(Object.assign({},f),{guardsResult:Ce})))})}(this.ngModule.injector,Ce=>this.triggerEvent(Ce)),L(Ce=>{if(Yn(Ce.guardsResult)){const it=_t(`Redirecting to "${this.serializeUrl(Ce.guardsResult)}"`);throw it.url=Ce.guardsResult,it}const je=new $(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot,!!Ce.guardsResult);this.triggerEvent(je)}),(0,et.h)(Ce=>!!Ce.guardsResult||(this.restoreHistory(Ce),this.cancelNavigationTransition(Ce,""),!1)),wn(Ce=>{if(Ce.guards.canActivateChecks.length)return(0,K.of)(Ce).pipe(L(je=>{const it=new Qe(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(it)}),oe(je=>{let it=!1;return(0,K.of)(je).pipe(function(v,g){return(0,ct.zg)(f=>{const{targetSnapshot:x,guards:{canActivateChecks:M}}=f;if(!M.length)return(0,K.of)(f);let J=0;return(0,P.D)(M).pipe((0,Pt.b)(fe=>function(v,g,f,x){return function(v,g,f,x){const M=Object.keys(v);if(0===M.length)return(0,K.of)({});const J={};return(0,P.D)(M).pipe((0,ct.zg)(fe=>function(v,g,f,x){const M=Dr(v,g,x);return Un(M.resolve?M.resolve(g,f):M(g,f))}(v[fe],g,f,x).pipe(L(Ce=>{J[fe]=Ce}))),ot(1),(0,ct.zg)(()=>Object.keys(J).length===M.length?(0,K.of)(J):k.E))}(v._resolve,v,g,x).pipe((0,W.U)(J=>(v._resolvedData=J,v.data=Object.assign(Object.assign({},v.data),Ae(v,f).resolve),null)))}(fe.route,x,v,g)),L(()=>J++),ot(1),(0,ct.zg)(fe=>J===M.length?(0,K.of)(f):k.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),L({next:()=>it=!0,complete:()=>{it||(this.restoreHistory(je),this.cancelNavigationTransition(je,"At least one route resolver didn't emit any value."))}}))}),L(je=>{const it=new rt(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(it)}))}),wn(Ce=>{const{targetSnapshot:je,id:it,extractedUrl:mt,rawUrl:kt,extras:{skipLocationChange:an,replaceUrl:Ut}}=Ce;return this.hooks.afterPreactivation(je,{navigationId:it,appliedUrlTree:mt,rawUrlTree:kt,skipLocationChange:!!an,replaceUrl:!!Ut})}),(0,W.U)(Ce=>{const je=function(v,g,f){const x=Dn(v,g._root,f?f._root:void 0);return new _(x,g)}(this.routeReuseStrategy,Ce.targetSnapshot,Ce.currentRouterState);return Object.assign(Object.assign({},Ce),{targetRouterState:je})}),L(Ce=>{this.currentUrlTree=Ce.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Ce.rawUrl),this.routerState=Ce.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ce.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ce),this.browserUrlTree=Ce.urlAfterRedirects)}),((v,g,f)=>(0,W.U)(x=>(new un(g,x.targetRouterState,x.currentRouterState,f).activate(v),x)))(this.rootContexts,this.routeReuseStrategy,Ce=>this.triggerEvent(Ce)),L({next(){J=!0},complete(){J=!0}}),function(v){return g=>g.lift(new Me(v))}(()=>{if(!J&&!fe){const Ce=`Navigation ID ${M.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(M),this.cancelNavigationTransition(M,Ce)):this.cancelNavigationTransition(M,Ce)}this.currentNavigation=null}),(0,lt.K)(Ce=>{if(fe=!0,function(v){return v&&v[zt]}(Ce)){const je=Yn(Ce.url);je||(this.navigated=!0,this.restoreHistory(M,!0));const it=new be(M.id,this.serializeUrl(M.extractedUrl),Ce.message);x.next(it),je?setTimeout(()=>{const mt=this.urlHandlingStrategy.merge(Ce.url,this.rawUrlTree),kt={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Di(M.source)};this.scheduleNavigation(mt,"imperative",null,kt,{resolve:M.resolve,reject:M.reject,promise:M.promise})},0):M.resolve(!1)}else{this.restoreHistory(M,!0);const je=new Oe(M.id,this.serializeUrl(M.extractedUrl),Ce);x.next(je);try{M.resolve(this.errorHandler(Ce))}catch(it){M.reject(it)}}return k.E}))}))}resetRootComponentType(f){this.rootComponentType=f,this.routerState.root.component=this.rootComponentType}getTransition(){const f=this.transitions.value;return f.urlAfterRedirects=this.browserUrlTree,f}setTransition(f){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),f))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const x=this.extractLocationChangeInfoFromEvent(f);this.shouldScheduleNavigation(this.lastLocationChangeInfo,x)&&setTimeout(()=>{const{source:M,state:J,urlTree:fe}=x,Ce={replaceUrl:!0};if(J){const je=Object.assign({},J);delete je.navigationId,delete je.\u0275routerPageId,0!==Object.keys(je).length&&(Ce.state=je)}this.scheduleNavigation(fe,M,J,Ce)},0),this.lastLocationChangeInfo=x}))}extractLocationChangeInfoFromEvent(f){var x;return{source:"popstate"===f.type?"popstate":"hashchange",urlTree:this.parseUrl(f.url),state:(null===(x=f.state)||void 0===x?void 0:x.navigationId)?f.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(f,x){if(!f)return!0;const M=x.urlTree.toString()===f.urlTree.toString();return x.transitionId!==f.transitionId||!M||!("hashchange"===x.source&&"popstate"===f.source||"popstate"===x.source&&"hashchange"===f.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(f){this.events.next(f)}resetConfig(f){ht(f),this.config=f.map(ln),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(f,x={}){const{relativeTo:M,queryParams:J,fragment:fe,queryParamsHandling:Ce,preserveFragment:je}=x,it=M||this.routerState.root,mt=je?this.currentUrlTree.fragment:fe;let kt=null;switch(Ce){case"merge":kt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),J);break;case"preserve":kt=this.currentUrlTree.queryParams;break;default:kt=J||null}return null!==kt&&(kt=this.removeEmptyProps(kt)),function(v,g,f,x,M){if(0===f.length)return Ur(g.root,g.root,g,x,M);const J=function(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Kr(!0,0,v);let g=0,f=!1;const x=v.reduce((M,J,fe)=>{if("object"==typeof J&&null!=J){if(J.outlets){const Ce={};return Zt(J.outlets,(je,it)=>{Ce[it]="string"==typeof je?je.split("/"):je}),[...M,{outlets:Ce}]}if(J.segmentPath)return[...M,J.segmentPath]}return"string"!=typeof J?[...M,J]:0===fe?(J.split("/").forEach((Ce,je)=>{0==je&&"."===Ce||(0==je&&""===Ce?f=!0:".."===Ce?g++:""!=Ce&&M.push(Ce))}),M):[...M,J]},[]);return new Kr(f,g,x)}(f);if(J.toRoot())return Ur(g.root,new ft([],{}),g,x,M);const fe=function(v,g,f){if(v.isAbsolute)return new Rr(g.root,!0,0);if(-1===f.snapshot._lastPathIndex){const J=f.snapshot._urlSegment;return new Rr(J,J===g.root,0)}const x=On(v.commands[0])?0:1;return function(v,g,f){let x=v,M=g,J=f;for(;J>M;){if(J-=M,x=x.parent,!x)throw new Error("Invalid number of '../'");M=x.segments.length}return new Rr(x,!1,M-J)}(f.snapshot._urlSegment,f.snapshot._lastPathIndex+x,v.numberOfDoubleDots)}(J,g,v),Ce=fe.processChildren?zr(fe.segmentGroup,fe.index,J.commands):Wr(fe.segmentGroup,fe.index,J.commands);return Ur(fe.segmentGroup,Ce,g,x,M)}(it,this.currentUrlTree,f,kt,null!=mt?mt:null)}navigateByUrl(f,x={skipLocationChange:!1}){const M=Yn(f)?f:this.parseUrl(f),J=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(J,"imperative",null,x)}navigate(f,x={skipLocationChange:!1}){return function(v){for(let g=0;g<v.length;g++){const f=v[g];if(null==f)throw new Error(`The requested path contains ${f} segment at index ${g}`)}}(f),this.navigateByUrl(this.createUrlTree(f,x),x)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let x;try{x=this.urlSerializer.parse(f)}catch(M){x=this.malformedUriErrorHandler(M,this.urlSerializer,f)}return x}isActive(f,x){let M;if(M=!0===x?Object.assign({},Si):!1===x?Object.assign({},os):x,Yn(f))return sr(this.currentUrlTree,f,M);const J=this.parseUrl(f);return sr(this.currentUrlTree,J,M)}removeEmptyProps(f){return Object.keys(f).reduce((x,M)=>{const J=f[M];return null!=J&&(x[M]=J),x},{})}processNavigations(){this.navigations.subscribe(f=>{this.navigated=!0,this.lastSuccessfulId=f.id,this.currentPageId=f.targetPageId,this.events.next(new ne(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,f.resolve(!0)},f=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(f,x,M,J,fe){var Ce,je;if(this.disposed)return Promise.resolve(!1);const it=this.getTransition(),mt=Di(x)&&it&&!Di(it.source),Ut=(this.lastSuccessfulId===it.id||this.currentNavigation?it.rawUrl:it.urlAfterRedirects).toString()===f.toString();if(mt&&Ut)return Promise.resolve(!0);let Zr,mr,ui;fe?(Zr=fe.resolve,mr=fe.reject,ui=fe.promise):ui=new Promise((Bi,$o)=>{Zr=Bi,mr=$o});const Ms=++this.navigationId;let Qi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(M=this.location.getState()),Qi=M&&M.\u0275routerPageId?M.\u0275routerPageId:J.replaceUrl||J.skipLocationChange?null!==(Ce=this.browserPageId)&&void 0!==Ce?Ce:0:(null!==(je=this.browserPageId)&&void 0!==je?je:0)+1):Qi=0,this.setTransition({id:Ms,targetPageId:Qi,source:x,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:f,extras:J,resolve:Zr,reject:mr,promise:ui,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ui.catch(Bi=>Promise.reject(Bi))}setBrowserUrl(f,x){const M=this.urlSerializer.serialize(f),J=Object.assign(Object.assign({},x.extras.state),this.generateNgRouterState(x.id,x.targetPageId));this.location.isCurrentPathEqualTo(M)||x.extras.replaceUrl?this.location.replaceState(M,"",J):this.location.go(M,"",J)}restoreHistory(f,x=!1){var M,J;if("computed"===this.canceledNavigationResolution){const fe=this.currentPageId-f.targetPageId;"popstate"!==f.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(M=this.currentNavigation)||void 0===M?void 0:M.finalUrl)||0===fe?this.currentUrlTree===(null===(J=this.currentNavigation)||void 0===J?void 0:J.finalUrl)&&0===fe&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(fe)}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(f,x){const M=new be(f.id,this.serializeUrl(f.extractedUrl),x);this.triggerEvent(M),f.resolve(!1)}generateNgRouterState(f,x){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:x}:{navigationId:f}}}return v.\u0275fac=function(f){return new(f||v)(y.LFG(y.DyG),y.LFG($t),y.LFG(ai),y.LFG(I.Ye),y.LFG(y.zs3),y.LFG(y.v3s),y.LFG(y.Sil),y.LFG(void 0))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();function Di(v){return"imperative"!==v}let Ds=(()=>{class v{constructor(f,x,M){this.router=f,this.route=x,this.locationStrategy=M,this.commands=[],this.onChanges=new H.xQ,this.subscription=f.events.subscribe(J=>{J instanceof ne&&this.updateTargetUrlAndHref()})}set routerLink(f){this.commands=null!=f?Array.isArray(f)?f:[f]:[]}ngOnChanges(f){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(f,x,M,J,fe){if(0!==f||x||M||J||fe||"string"==typeof this.target&&"_self"!=this.target)return!0;const Ce={skipLocationChange:Yi(this.skipLocationChange),replaceUrl:Yi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ce),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Yi(this.preserveFragment)})}}return v.\u0275fac=function(f){return new(f||v)(y.Y36(gr),y.Y36(le),y.Y36(I.S$))},v.\u0275dir=y.lG2({type:v,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(f,x){1&f&&y.NdJ("click",function(J){return x.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&f&&(y.Ikx("href",x.href,y.LSH),y.uIk("target",x.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[y.TTD]}),v})();function Yi(v){return""===v||!!v}let Zi=(()=>{class v{constructor(f,x,M,J,fe){this.parentContexts=f,this.location=x,this.resolver=M,this.changeDetector=fe,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.name=J||He,f.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const f=this.parentContexts.getContext(this.name);f&&f.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,f}attach(f,x){this.activated=f,this._activatedRoute=x,this.location.insert(f.hostView)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,x){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=f;const fe=(x=x||this.resolver).resolveComponentFactory(f._futureSnapshot.routeConfig.component),Ce=this.parentContexts.getOrCreateContext(this.name).children,je=new za(f,Ce,this.location.injector);this.activated=this.location.createComponent(fe,this.location.length,je),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(f){return new(f||v)(y.Y36(ai),y.Y36(y.s_b),y.Y36(y._Vd),y.$8M("name"),y.Y36(y.sBO))},v.\u0275dir=y.lG2({type:v,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),v})();class za{constructor(g,f,x){this.route=g,this.childContexts=f,this.parent=x}get(g,f){return g===le?this.route:g===ai?this.childContexts:this.parent.get(g,f)}}class xs{}class Uo{preload(g,f){return(0,K.of)(null)}}let jo=(()=>{class v{constructor(f,x,M,J,fe){this.router=f,this.injector=J,this.preloadingStrategy=fe,this.loader=new $a(x,M,it=>f.triggerEvent(new We(it)),it=>f.triggerEvent(new pn(it)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,et.h)(f=>f instanceof ne),(0,Pt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const f=this.injector.get(y.h0i);return this.processRoutes(f,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,x){const M=[];for(const J of x)if(J.loadChildren&&!J.canLoad&&J._loadedConfig){const fe=J._loadedConfig;M.push(this.processRoutes(fe.module,fe.routes))}else J.loadChildren&&!J.canLoad?M.push(this.preloadConfig(f,J)):J.children&&M.push(this.processRoutes(f,J.children));return(0,P.D)(M).pipe((0,Wt.J)(),(0,W.U)(J=>{}))}preloadConfig(f,x){return this.preloadingStrategy.preload(x,()=>(x._loadedConfig?(0,K.of)(x._loadedConfig):this.loader.load(f.injector,x)).pipe((0,ct.zg)(J=>(x._loadedConfig=J,this.processRoutes(J.module,J.routes)))))}}return v.\u0275fac=function(f){return new(f||v)(y.LFG(gr),y.LFG(y.v3s),y.LFG(y.Sil),y.LFG(y.zs3),y.LFG(xs))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})(),xi=(()=>{class v{constructor(f,x,M={}){this.router=f,this.viewportScroller=x,this.options=M,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},M.scrollPositionRestoration=M.scrollPositionRestoration||"disabled",M.anchorScrolling=M.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(f=>{f instanceof ke?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof ne&&(this.lastId=f.id,this.scheduleScrollEvent(f,this.router.parseUrl(f.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(f=>{f instanceof Tn&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,x){this.router.triggerEvent(new Tn(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return v.\u0275fac=function(f){return new(f||v)(y.LFG(gr),y.LFG(I.EM),y.LFG(void 0))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();const Or=new y.OlP("ROUTER_CONFIGURATION"),Is=new y.OlP("ROUTER_FORROOT_GUARD"),zd=[I.Ye,{provide:$t,useClass:Nn},{provide:gr,useFactory:function(v,g,f,x,M,J,fe,Ce={},je,it){const mt=new gr(null,v,g,f,x,M,J,gn(fe));return je&&(mt.urlHandlingStrategy=je),it&&(mt.routeReuseStrategy=it),function(v,g){v.errorHandler&&(g.errorHandler=v.errorHandler),v.malformedUriErrorHandler&&(g.malformedUriErrorHandler=v.malformedUriErrorHandler),v.onSameUrlNavigation&&(g.onSameUrlNavigation=v.onSameUrlNavigation),v.paramsInheritanceStrategy&&(g.paramsInheritanceStrategy=v.paramsInheritanceStrategy),v.relativeLinkResolution&&(g.relativeLinkResolution=v.relativeLinkResolution),v.urlUpdateStrategy&&(g.urlUpdateStrategy=v.urlUpdateStrategy)}(Ce,mt),Ce.enableTracing&&mt.events.subscribe(kt=>{var an,Ut;null===(an=console.group)||void 0===an||an.call(console,`Router Event: ${kt.constructor.name}`),console.log(kt.toString()),console.log(kt),null===(Ut=console.groupEnd)||void 0===Ut||Ut.call(console)}),mt},deps:[$t,ai,I.Ye,y.zs3,y.v3s,y.Sil,ko,Or,[class{},new y.FiY],[class{},new y.FiY]]},ai,{provide:le,useFactory:function(v){return v.routerState.root},deps:[gr]},{provide:y.v3s,useClass:y.EAV},jo,Uo,class{preload(g,f){return f().pipe((0,lt.K)(()=>(0,K.of)(null)))}},{provide:Or,useValue:{enableTracing:!1}}];function Ga(){return new y.PXZ("Router",gr)}let qa=(()=>{class v{constructor(f,x){}static forRoot(f,x){return{ngModule:v,providers:[zd,As(f),{provide:Is,useFactory:us,deps:[[gr,new y.FiY,new y.tp0]]},{provide:Or,useValue:x||{}},{provide:I.S$,useFactory:gc,deps:[I.lw,[new y.tBr(I.mr),new y.FiY],Or]},{provide:xi,useFactory:pc,deps:[gr,I.EM,Or]},{provide:xs,useExisting:x&&x.preloadingStrategy?x.preloadingStrategy:Uo},{provide:y.PXZ,multi:!0,useFactory:Ga},[Vo,{provide:y.ip1,multi:!0,useFactory:Ja,deps:[Vo]},{provide:Ho,useFactory:Ya,deps:[Vo]},{provide:y.tb,multi:!0,useExisting:Ho}]]}}static forChild(f){return{ngModule:v,providers:[As(f)]}}}return v.\u0275fac=function(f){return new(f||v)(y.LFG(Is,8),y.LFG(gr,8))},v.\u0275mod=y.oAB({type:v}),v.\u0275inj=y.cJS({}),v})();function pc(v,g,f){return f.scrollOffset&&g.setOffset(f.scrollOffset),new xi(v,g,f)}function gc(v,g,f={}){return f.useHash?new I.Do(v,g):new I.b0(v,g)}function us(v){return"guarded"}function As(v){return[{provide:y.deG,multi:!0,useValue:v},{provide:ko,multi:!0,useValue:v}]}let Vo=(()=>{class v{constructor(f){this.injector=f,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new H.xQ}appInitializer(){return this.injector.get(I.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let x=null;const M=new Promise(Ce=>x=Ce),J=this.injector.get(gr),fe=this.injector.get(Or);return"disabled"===fe.initialNavigation?(J.setUpLocationChangeListener(),x(!0)):"enabled"===fe.initialNavigation||"enabledBlocking"===fe.initialNavigation?(J.hooks.afterPreactivation=()=>this.initNavigation?(0,K.of)(null):(this.initNavigation=!0,x(!0),this.resultOfPreactivationDone),J.initialNavigation()):x(!0),M})}bootstrapListener(f){const x=this.injector.get(Or),M=this.injector.get(jo),J=this.injector.get(xi),fe=this.injector.get(gr),Ce=this.injector.get(y.z2F);f===Ce.components[0]&&(("enabledNonBlocking"===x.initialNavigation||void 0===x.initialNavigation)&&fe.initialNavigation(),M.setUpPreloading(),J.init(),fe.resetRootComponentType(Ce.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return v.\u0275fac=function(f){return new(f||v)(y.LFG(y.zs3))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();function Ja(v){return v.appInitializer.bind(v)}function Ya(v){return v.bootstrapListener.bind(v)}const Ho=new y.OlP("Router Initializer")},7e3:function(at){at.exports=function(xe){var b={};function I(y){if(b[y])return b[y].exports;var P=b[y]={i:y,l:!1,exports:{}};return xe[y].call(P.exports,P,P.exports,I),P.l=!0,P.exports}return I.m=xe,I.c=b,I.d=function(y,P,K){I.o(y,P)||Object.defineProperty(y,P,{enumerable:!0,get:K})},I.r=function(y){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},I.t=function(y,P){if(1&P&&(y=I(y)),8&P||4&P&&"object"==typeof y&&y&&y.__esModule)return y;var K=Object.create(null);if(I.r(K),Object.defineProperty(K,"default",{enumerable:!0,value:y}),2&P&&"string"!=typeof y)for(var B in y)I.d(K,B,function(D){return y[D]}.bind(null,B));return K},I.n=function(y){var P=y&&y.__esModule?function(){return y.default}:function(){return y};return I.d(P,"a",P),P},I.o=function(y,P){return Object.prototype.hasOwnProperty.call(y,P)},I.p="",I(I.s=22)}([function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var y=function(){function D(F,w){for(var j=0;j<w.length;j++){var V=w[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(F,V.key,V)}}return function(F,w,j){return w&&D(F.prototype,w),j&&D(F,j),F}}(),P={debug:function(){},info:function(){},warn:function(){},error:function(){}},K=void 0,B=void 0;(b.Log=function(){function D(){!function(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}(this,D)}return D.reset=function(){B=3,K=P},D.debug=function(){if(B>=4){for(var w=arguments.length,j=Array(w),V=0;V<w;V++)j[V]=arguments[V];K.debug.apply(K,Array.from(j))}},D.info=function(){if(B>=3){for(var w=arguments.length,j=Array(w),V=0;V<w;V++)j[V]=arguments[V];K.info.apply(K,Array.from(j))}},D.warn=function(){if(B>=2){for(var w=arguments.length,j=Array(w),V=0;V<w;V++)j[V]=arguments[V];K.warn.apply(K,Array.from(j))}},D.error=function(){if(B>=1){for(var w=arguments.length,j=Array(w),V=0;V<w;V++)j[V]=arguments[V];K.error.apply(K,Array.from(j))}},y(D,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return B},set:function(w){if(!(0<=w&&w<=4))throw new Error("Invalid log level");B=w}},{key:"logger",get:function(){return K},set:function(w){if(!w.debug&&w.info&&(w.debug=w.info),!(w.debug&&w.info&&w.warn&&w.error))throw new Error("Invalid logger");K=w}}]),D}()).reset()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var y=function(){function D(F,w){for(var j=0;j<w.length;j++){var V=w[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(F,V.key,V)}}return function(F,w,j){return w&&D(F.prototype,w),j&&D(F,j),F}}(),P={setInterval:function(D){function F(w,j){return D.apply(this,arguments)}return F.toString=function(){return D.toString()},F}(function(D,F){return setInterval(D,F)}),clearInterval:function(D){function F(w){return D.apply(this,arguments)}return F.toString=function(){return D.toString()},F}(function(D){return clearInterval(D)})},K=!1,B=null;b.Global=function(){function D(){!function(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}(this,D)}return D._testing=function(){K=!0},D.setXMLHttpRequest=function(w){B=w},y(D,null,[{key:"location",get:function(){if(!K)return location}},{key:"localStorage",get:function(){if(!K&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!K&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!K&&"undefined"!=typeof window)return B||XMLHttpRequest}},{key:"timer",get:function(){if(!K)return P}}]),D}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MetadataService=void 0;var y=function(){function F(w,j){for(var V=0;V<j.length;V++){var k=j[V];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,j,V){return j&&F(w.prototype,j),V&&F(w,V),w}}(),P=I(0),K=I(7);function B(F,w){if(!(F instanceof w))throw new TypeError("Cannot call a class as a function")}var D=".well-known/openid-configuration";b.MetadataService=function(){function F(w){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K.JsonService;if(B(this,F),!w)throw P.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=w,this._jsonService=new j(["application/jwk-set+json"])}return F.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},F.prototype.getMetadata=function(){var j=this;return this._settings.metadata?(P.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(P.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(V){return P.Log.debug("MetadataService.getMetadata: json received"),j._settings.metadata=Object.assign({},j._settings.metadataSeed||{},V),j._settings.metadata})):(P.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},F.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},F.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},F.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},F.prototype.getTokenEndpoint=function(){return this._getMetadataProperty("token_endpoint",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])},F.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},F.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},F.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},F.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},F.prototype._getMetadataProperty=function(j){var V=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return P.Log.debug("MetadataService.getMetadataProperty for: "+j),this.getMetadata().then(function(k){if(P.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===k[j]){if(!0===V)return void P.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+j);throw P.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+j),new Error("Metadata does not contain property "+j)}return k[j]})},F.prototype.getSigningKeys=function(){var j=this;return this._settings.signingKeys?(P.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(V){return P.Log.debug("MetadataService.getSigningKeys: jwks_uri received",V),j._jsonService.getJson(V).then(function(k){if(P.Log.debug("MetadataService.getSigningKeys: key set received",k),!k.keys)throw P.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return j._settings.signingKeys=k.keys,j._settings.signingKeys})})},y(F,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(D)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=D))),this._metadataUrl}}]),F}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UrlUtility=void 0;var y=I(0),P=I(1);b.UrlUtility=function(){function K(){!function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")}(this,K)}return K.addQueryParam=function(D,F,w){return D.indexOf("?")<0&&(D+="?"),"?"!==D[D.length-1]&&(D+="&"),D+=encodeURIComponent(F),(D+="=")+encodeURIComponent(w)},K.parseUrlFragment=function(D){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";"string"!=typeof D&&(D=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.Global).location.href);var j=D.lastIndexOf(F);j>=0&&(D=D.substr(j+1)),"?"===F&&(j=D.indexOf("#"))>=0&&(D=D.substr(0,j));for(var V,k={},q=/([^&=]+)=([^&]*)/g,H=0;V=q.exec(D);)if(k[decodeURIComponent(V[1])]=decodeURIComponent(V[2].replace(/\+/g," ")),H++>50)return y.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",D),{error:"Response exceeded expected number of parameters"};for(var W in k)return k;return{}},K}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JoseUtil=void 0;var B,y=I(26),P=(B=I(33))&&B.__esModule?B:{default:B};b.JoseUtil=(0,P.default)({jws:y.jws,KeyUtil:y.KeyUtil,X509:y.X509,crypto:y.crypto,hextob64u:y.hextob64u,b64tohex:y.b64tohex,AllowedSigningAlgs:y.AllowedSigningAlgs})},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OidcClientSettings=void 0;var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&"function"==typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},P=function(){function W(Q,oe){for(var ae=0;ae<oe.length;ae++){var ge=oe[ae];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(Q,ge.key,ge)}}return function(Q,oe,ae){return oe&&W(Q.prototype,oe),ae&&W(Q,ae),Q}}(),K=I(0),B=I(23),D=I(6),F=I(24),w=I(2);function j(W,Q){if(!(W instanceof Q))throw new TypeError("Cannot call a class as a function")}var V=".well-known/openid-configuration",k="id_token",q="openid",H="client_secret_post";b.OidcClientSettings=function(){function W(){var Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},oe=Q.authority,ae=Q.metadataUrl,ge=Q.metadata,ve=Q.signingKeys,pe=Q.metadataSeed,Ue=Q.client_id,Be=Q.client_secret,Le=Q.response_type,me=void 0===Le?k:Le,nt=Q.scope,pt=void 0===nt?q:nt,dt=Q.redirect_uri,wt=Q.post_logout_redirect_uri,et=Q.client_authentication,ot=void 0===et?H:et,vt=Q.prompt,qe=Q.display,gt=Q.max_age,Vt=Q.ui_locales,mn=Q.acr_values,rn=Q.resource,_n=Q.response_mode,Cn=Q.filterProtocolClaims,Kn=void 0===Cn||Cn,Sn=Q.loadUserInfo,sn=void 0===Sn||Sn,Ot=Q.staleStateAge,ut=void 0===Ot?900:Ot,de=Q.clockSkew,L=void 0===de?300:de,U=Q.clockService,ce=void 0===U?new B.ClockService:U,Ee=Q.userInfoJwtIssuer,De=void 0===Ee?"OP":Ee,Me=Q.mergeClaims,Xe=void 0!==Me&&Me,lt=Q.stateStore,Pt=void 0===lt?new D.WebStorageStateStore:lt,ct=Q.ResponseValidatorCtor,xt=void 0===ct?F.ResponseValidator:ct,Wt=Q.MetadataServiceCtor,Ht=void 0===Wt?w.MetadataService:Wt,ke=Q.extraQueryParams,ne=void 0===ke?{}:ke,be=Q.extraTokenParams,Oe=void 0===be?{}:be;j(this,W),this._authority=oe,this._metadataUrl=ae,this._metadata=ge,this._metadataSeed=pe,this._signingKeys=ve,this._client_id=Ue,this._client_secret=Be,this._response_type=me,this._scope=pt,this._redirect_uri=dt,this._post_logout_redirect_uri=wt,this._client_authentication=ot,this._prompt=vt,this._display=qe,this._max_age=gt,this._ui_locales=Vt,this._acr_values=mn,this._resource=rn,this._response_mode=_n,this._filterProtocolClaims=!!Kn,this._loadUserInfo=!!sn,this._staleStateAge=ut,this._clockSkew=L,this._clockService=ce,this._userInfoJwtIssuer=De,this._mergeClaims=!!Xe,this._stateStore=Pt,this._validator=new xt(this),this._metadataService=new Ht(this),this._extraQueryParams="object"===(void 0===ne?"undefined":y(ne))?ne:{},this._extraTokenParams="object"===(void 0===Oe?"undefined":y(Oe))?Oe:{}}return W.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},P(W,[{key:"client_id",get:function(){return this._client_id},set:function(oe){if(this._client_id)throw K.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=oe}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(oe){if(this._authority)throw K.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=oe}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(V)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=V)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(oe){this._metadata=oe}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(oe){this._metadataSeed=oe}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(oe){this._signingKeys=oe}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(oe){this._extraQueryParams="object"===(void 0===oe?"undefined":y(oe))?oe:{}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(oe){this._extraTokenParams="object"===(void 0===oe?"undefined":y(oe))?oe:{}}}]),W}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WebStorageStateStore=void 0;var y=I(0),P=I(1);function K(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")}b.WebStorageStateStore=function(){function B(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=D.prefix,w=void 0===F?"oidc.":F,j=D.store,V=void 0===j?P.Global.localStorage:j;K(this,B),this._store=V,this._prefix=w}return B.prototype.set=function(F,w){return y.Log.debug("WebStorageStateStore.set",F),this._store.setItem(F=this._prefix+F,w),Promise.resolve()},B.prototype.get=function(F){y.Log.debug("WebStorageStateStore.get",F);var w=this._store.getItem(F=this._prefix+F);return Promise.resolve(w)},B.prototype.remove=function(F){y.Log.debug("WebStorageStateStore.remove",F);var w=this._store.getItem(F=this._prefix+F);return this._store.removeItem(F),Promise.resolve(w)},B.prototype.getAllKeys=function(){y.Log.debug("WebStorageStateStore.getAllKeys");for(var F=[],w=0;w<this._store.length;w++){var j=this._store.key(w);0===j.indexOf(this._prefix)&&F.push(j.substr(this._prefix.length))}return Promise.resolve(F)},B}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JsonService=void 0;var y=I(0),P=I(1);function K(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")}b.JsonService=function(){function B(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.Global.XMLHttpRequest,w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;K(this,B),this._contentTypes=D&&Array.isArray(D)?D.slice():[],this._contentTypes.push("application/json"),w&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=F,this._jwtHandler=w}return B.prototype.getJson=function(F,w){var j=this;if(!F)throw y.Log.error("JsonService.getJson: No url passed"),new Error("url");return y.Log.debug("JsonService.getJson, url: ",F),new Promise(function(V,k){var q=new j._XMLHttpRequest;q.open("GET",F);var H=j._contentTypes,W=j._jwtHandler;q.onload=function(){if(y.Log.debug("JsonService.getJson: HTTP response received, status",q.status),200===q.status){var Q=q.getResponseHeader("Content-Type");if(Q){var oe=H.find(function(ae){if(Q.startsWith(ae))return!0});if("application/jwt"==oe)return void W(q).then(V,k);if(oe)try{return void V(JSON.parse(q.responseText))}catch(ae){return y.Log.error("JsonService.getJson: Error parsing JSON response",ae.message),void k(ae)}}k(Error("Invalid response Content-Type: "+Q+", from URL: "+F))}else k(Error(q.statusText+" ("+q.status+")"))},q.onerror=function(){y.Log.error("JsonService.getJson: network error"),k(Error("Network Error"))},w&&(y.Log.debug("JsonService.getJson: token passed, setting Authorization header"),q.setRequestHeader("Authorization","Bearer "+w)),q.send()})},B.prototype.postForm=function(F,w,j){var V=this;if(!F)throw y.Log.error("JsonService.postForm: No url passed"),new Error("url");return y.Log.debug("JsonService.postForm, url: ",F),new Promise(function(k,q){var H=new V._XMLHttpRequest;H.open("POST",F);var W=V._contentTypes;H.onload=function(){if(y.Log.debug("JsonService.postForm: HTTP response received, status",H.status),200!==H.status){if(400===H.status&&(ve=H.getResponseHeader("Content-Type"))&&W.find(function(pe){if(ve.startsWith(pe))return!0}))try{var ge=JSON.parse(H.responseText);if(ge&&ge.error)return y.Log.error("JsonService.postForm: Error from server: ",ge.error),void q(new Error(ge.error))}catch(pe){return y.Log.error("JsonService.postForm: Error parsing JSON response",pe.message),void q(pe)}q(Error(H.statusText+" ("+H.status+")"))}else{var ve;if((ve=H.getResponseHeader("Content-Type"))&&W.find(function(pe){if(ve.startsWith(pe))return!0}))try{return void k(JSON.parse(H.responseText))}catch(pe){return y.Log.error("JsonService.postForm: Error parsing JSON response",pe.message),void q(pe)}q(Error("Invalid response Content-Type: "+ve+", from URL: "+F))}},H.onerror=function(){y.Log.error("JsonService.postForm: network error"),q(Error("Network Error"))};var Q="";for(var oe in w){var ae=w[oe];ae&&(Q.length>0&&(Q+="&"),Q+=encodeURIComponent(oe),Q+="=",Q+=encodeURIComponent(ae))}H.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==j&&H.setRequestHeader("Authorization","Basic "+btoa(j)),H.send(Q)})},B}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SigninRequest=void 0;var y=I(0),P=I(3),K=I(13);b.SigninRequest=function(){function B(D){var F=D.url,w=D.client_id,j=D.redirect_uri,V=D.response_type,k=D.scope,q=D.authority,H=D.data,W=D.prompt,Q=D.display,oe=D.max_age,ae=D.ui_locales,ge=D.id_token_hint,ve=D.login_hint,pe=D.acr_values,Ue=D.resource,Be=D.response_mode,Le=D.request,me=D.request_uri,nt=D.extraQueryParams,pt=D.request_type,dt=D.client_secret,wt=D.extraTokenParams,et=D.skipUserInfo;if(function(rn,_n){if(!(rn instanceof _n))throw new TypeError("Cannot call a class as a function")}(this,B),!F)throw y.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!w)throw y.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!j)throw y.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!V)throw y.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!k)throw y.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!q)throw y.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var ot=B.isOidc(V),vt=B.isCode(V);Be||(Be=B.isCode(V)?"query":null),this.state=new K.SigninState({nonce:ot,data:H,client_id:w,authority:q,redirect_uri:j,code_verifier:vt,request_type:pt,response_mode:Be,client_secret:dt,scope:k,extraTokenParams:wt,skipUserInfo:et}),F=P.UrlUtility.addQueryParam(F,"client_id",w),F=P.UrlUtility.addQueryParam(F,"redirect_uri",j),F=P.UrlUtility.addQueryParam(F,"response_type",V),F=P.UrlUtility.addQueryParam(F,"scope",k),F=P.UrlUtility.addQueryParam(F,"state",this.state.id),ot&&(F=P.UrlUtility.addQueryParam(F,"nonce",this.state.nonce)),vt&&(F=P.UrlUtility.addQueryParam(F,"code_challenge",this.state.code_challenge),F=P.UrlUtility.addQueryParam(F,"code_challenge_method","S256"));var qe={prompt:W,display:Q,max_age:oe,ui_locales:ae,id_token_hint:ge,login_hint:ve,acr_values:pe,resource:Ue,request:Le,request_uri:me,response_mode:Be};for(var gt in qe)qe[gt]&&(F=P.UrlUtility.addQueryParam(F,gt,qe[gt]));for(var Vt in nt)F=P.UrlUtility.addQueryParam(F,Vt,nt[Vt]);this.url=F}return B.isOidc=function(F){return!!F.split(/\s+/g).filter(function(w){return"id_token"===w})[0]},B.isOAuth=function(F){return!!F.split(/\s+/g).filter(function(w){return"token"===w})[0]},B.isCode=function(F){return!!F.split(/\s+/g).filter(function(w){return"code"===w})[0]},B}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.State=void 0;var F,y=function(){function D(F,w){for(var j=0;j<w.length;j++){var V=w[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(F,V.key,V)}}return function(F,w,j){return w&&D(F.prototype,w),j&&D(F,j),F}}(),P=I(0),K=(F=I(14))&&F.__esModule?F:{default:F};function B(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")}b.State=function(){function D(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},w=F.id,j=F.data,V=F.created,k=F.request_type;B(this,D),this._id=w||(0,K.default)(),this._data=j,this._created="number"==typeof V&&V>0?V:parseInt(Date.now()/1e3),this._request_type=k}return D.prototype.toStorageString=function(){return P.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},D.fromStorageString=function(w){return P.Log.debug("State.fromStorageString"),new D(JSON.parse(w))},D.clearStaleState=function(w,j){var V=Date.now()/1e3-j;return w.getAllKeys().then(function(k){P.Log.debug("State.clearStaleState: got keys",k);for(var q=[],H=function(ae){var ge=k[ae];Q=w.get(ge).then(function(ve){var pe=!1;if(ve)try{var Ue=D.fromStorageString(ve);P.Log.debug("State.clearStaleState: got item from key: ",ge,Ue.created),Ue.created<=V&&(pe=!0)}catch(Be){P.Log.error("State.clearStaleState: Error parsing state for key",ge,Be.message),pe=!0}else P.Log.debug("State.clearStaleState: no item in storage for key: ",ge),pe=!0;if(pe)return P.Log.debug("State.clearStaleState: removed item for key: ",ge),w.remove(ge)}),q.push(Q)},W=0;W<k.length;W++){var Q;H(W)}return P.Log.debug("State.clearStaleState: waiting on promise count:",q.length),Promise.all(q)})},y(D,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),D}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OidcClient=void 0;var y=function(){function H(W,Q){for(var oe=0;oe<Q.length;oe++){var ae=Q[oe];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(W,ae.key,ae)}}return function(W,Q,oe){return Q&&H(W.prototype,Q),oe&&H(W,oe),W}}(),P=I(0),K=I(5),B=I(12),D=I(8),F=I(34),w=I(35),j=I(36),V=I(13),k=I(9);function q(H,W){if(!(H instanceof W))throw new TypeError("Cannot call a class as a function")}b.OidcClient=function(){function H(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};q(this,H),this._settings=W instanceof K.OidcClientSettings?W:new K.OidcClientSettings(W)}return H.prototype.createSigninRequest=function(){var Q=this,oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ae=oe.response_type,ge=oe.scope,ve=oe.redirect_uri,pe=oe.data,Ue=oe.state,Be=oe.prompt,Le=oe.display,me=oe.max_age,nt=oe.ui_locales,pt=oe.id_token_hint,dt=oe.login_hint,wt=oe.acr_values,et=oe.resource,ot=oe.request,vt=oe.request_uri,qe=oe.response_mode,gt=oe.extraQueryParams,Vt=oe.extraTokenParams,mn=oe.request_type,rn=oe.skipUserInfo,_n=arguments[1];P.Log.debug("OidcClient.createSigninRequest");var Cn=this._settings.client_id;ge=ge||this._settings.scope,ve=ve||this._settings.redirect_uri,Be=Be||this._settings.prompt,Le=Le||this._settings.display,me=me||this._settings.max_age,nt=nt||this._settings.ui_locales,wt=wt||this._settings.acr_values,et=et||this._settings.resource,qe=qe||this._settings.response_mode,gt=gt||this._settings.extraQueryParams,Vt=Vt||this._settings.extraTokenParams;var Kn=this._settings.authority;return D.SigninRequest.isCode(ae=ae||this._settings.response_type)&&"code"!==ae?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Sn){P.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Sn);var sn=new D.SigninRequest({url:Sn,client_id:Cn,redirect_uri:ve,response_type:ae,scope:ge,data:pe||Ue,authority:Kn,prompt:Be,display:Le,max_age:me,ui_locales:nt,id_token_hint:pt,login_hint:dt,acr_values:wt,resource:et,request:ot,request_uri:vt,extraQueryParams:gt,extraTokenParams:Vt,request_type:mn,response_mode:qe,client_secret:Q._settings.client_secret,skipUserInfo:rn}),Ot=sn.state;return(_n=_n||Q._stateStore).set(Ot.id,Ot.toStorageString()).then(function(){return sn})})},H.prototype.readSigninResponseState=function(Q,oe){var ae=arguments.length>2&&void 0!==arguments[2]&&arguments[2];P.Log.debug("OidcClient.readSigninResponseState");var ge="query"===this._settings.response_mode||!this._settings.response_mode&&D.SigninRequest.isCode(this._settings.response_type),pe=new F.SigninResponse(Q,ge?"?":"#");return pe.state?(oe=oe||this._stateStore,(ae?oe.remove.bind(oe):oe.get.bind(oe))(pe.state).then(function(Be){if(!Be)throw P.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:V.SigninState.fromStorageString(Be),response:pe}})):(P.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},H.prototype.processSigninResponse=function(Q,oe){var ae=this;return P.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(Q,oe,!0).then(function(ge){var ve=ge.state,pe=ge.response;return P.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),ae._validator.validateSigninResponse(ve,pe)})},H.prototype.createSignoutRequest=function(){var Q=this,oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ae=oe.id_token_hint,ge=oe.data,ve=oe.state,pe=oe.post_logout_redirect_uri,Ue=oe.extraQueryParams,Be=oe.request_type,Le=arguments[1];return P.Log.debug("OidcClient.createSignoutRequest"),pe=pe||this._settings.post_logout_redirect_uri,Ue=Ue||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(me){if(!me)throw P.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");P.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",me);var nt=new w.SignoutRequest({url:me,id_token_hint:ae,post_logout_redirect_uri:pe,data:ge||ve,extraQueryParams:Ue,request_type:Be}),pt=nt.state;return pt&&(P.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(Le=Le||Q._stateStore).set(pt.id,pt.toStorageString())),nt})},H.prototype.readSignoutResponseState=function(Q,oe){var ae=arguments.length>2&&void 0!==arguments[2]&&arguments[2];P.Log.debug("OidcClient.readSignoutResponseState");var ge=new j.SignoutResponse(Q);if(!ge.state)return P.Log.debug("OidcClient.readSignoutResponseState: No state in response"),ge.error?(P.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",ge.error),Promise.reject(new B.ErrorResponse(ge))):Promise.resolve({state:void 0,response:ge});var ve=ge.state;return oe=oe||this._stateStore,(ae?oe.remove.bind(oe):oe.get.bind(oe))(ve).then(function(Ue){if(!Ue)throw P.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:k.State.fromStorageString(Ue),response:ge}})},H.prototype.processSignoutResponse=function(Q,oe){var ae=this;return P.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(Q,oe,!0).then(function(ge){var ve=ge.state,pe=ge.response;return ve?(P.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),ae._validator.validateSignoutResponse(ve,pe)):(P.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),pe)})},H.prototype.clearStaleState=function(Q){return P.Log.debug("OidcClient.clearStaleState"),k.State.clearStaleState(Q=Q||this._stateStore,this.settings.staleStateAge)},y(H,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),H}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TokenClient=void 0;var y=I(7),P=I(2),K=I(0);function B(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")}b.TokenClient=function(){function D(F){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.JsonService,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.MetadataService;if(B(this,D),!F)throw K.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=F,this._jsonService=new w,this._metadataService=new j(this._settings)}return D.prototype.exchangeCode=function(){var w=this,j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(j=Object.assign({},j)).grant_type=j.grant_type||"authorization_code",j.client_id=j.client_id||this._settings.client_id,j.client_secret=j.client_secret||this._settings.client_secret,j.redirect_uri=j.redirect_uri||this._settings.redirect_uri;var V=void 0,k=j._client_authentication||this._settings._client_authentication;return delete j._client_authentication,j.code?j.redirect_uri?j.code_verifier?j.client_id?j.client_secret||"client_secret_basic"!=k?("client_secret_basic"==k&&(V=j.client_id+":"+j.client_secret,delete j.client_id,delete j.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(q){return K.Log.debug("TokenClient.exchangeCode: Received token endpoint"),w._jsonService.postForm(q,j,V).then(function(H){return K.Log.debug("TokenClient.exchangeCode: response received"),H})})):(K.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(K.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(K.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(K.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(K.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},D.prototype.exchangeRefreshToken=function(){var w=this,j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(j=Object.assign({},j)).grant_type=j.grant_type||"refresh_token",j.client_id=j.client_id||this._settings.client_id,j.client_secret=j.client_secret||this._settings.client_secret;var V=void 0,k=j._client_authentication||this._settings._client_authentication;return delete j._client_authentication,j.refresh_token?j.client_id?("client_secret_basic"==k&&(V=j.client_id+":"+j.client_secret,delete j.client_id,delete j.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(q){return K.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),w._jsonService.postForm(q,j,V).then(function(H){return K.Log.debug("TokenClient.exchangeRefreshToken: response received"),H})})):(K.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(K.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},D}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ErrorResponse=void 0;var y=I(0);function P(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")}function K(B,D){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!D||"object"!=typeof D&&"function"!=typeof D?B:D}b.ErrorResponse=function(B){function D(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},w=F.error,j=F.error_description,V=F.error_uri,k=F.state,q=F.session_state;if(P(this,D),!w)throw y.Log.error("No error passed to ErrorResponse"),new Error("error");var H=K(this,B.call(this,j||w));return H.name="ErrorResponse",H.error=w,H.error_description=j,H.error_uri=V,H.state=k,H.session_state=q,H}return function(w,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}(D,B),D}(Error)},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SigninState=void 0;var V,y=function(){function j(V,k){for(var q=0;q<k.length;q++){var H=k[q];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(V,H.key,H)}}return function(V,k,q){return k&&j(V.prototype,k),q&&j(V,q),V}}(),P=I(0),K=I(9),B=I(4),D=(V=I(14))&&V.__esModule?V:{default:V};function F(j,V){if(!(j instanceof V))throw new TypeError("Cannot call a class as a function")}function w(j,V){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?j:V}b.SigninState=function(j){function V(){var k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},q=k.nonce,H=k.authority,W=k.client_id,Q=k.redirect_uri,oe=k.code_verifier,ae=k.response_mode,ge=k.client_secret,ve=k.scope,pe=k.extraTokenParams,Ue=k.skipUserInfo;F(this,V);var Be=w(this,j.call(this,arguments[0]));if(!0===q?Be._nonce=(0,D.default)():q&&(Be._nonce=q),!0===oe?Be._code_verifier=(0,D.default)()+(0,D.default)()+(0,D.default)():oe&&(Be._code_verifier=oe),Be.code_verifier){var Le=B.JoseUtil.hashString(Be.code_verifier,"SHA256");Be._code_challenge=B.JoseUtil.hexToBase64Url(Le)}return Be._redirect_uri=Q,Be._authority=H,Be._client_id=W,Be._response_mode=ae,Be._client_secret=ge,Be._scope=ve,Be._extraTokenParams=pe,Be._skipUserInfo=Ue,Be}return function(q,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function, not "+typeof H);q.prototype=Object.create(H&&H.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(q,H):q.__proto__=H)}(V,j),V.prototype.toStorageString=function(){return P.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},V.fromStorageString=function(q){return P.Log.debug("SigninState.fromStorageString"),new V(JSON.parse(q))},y(V,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),V}(K.State)},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(){return("undefined"!=y&&null!==y&&void 0!==y.getRandomValues?P:K)().replace(/-/g,"")};var y="undefined"!=typeof window?window.crypto||window.msCrypto:null;function P(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(B){return(B^y.getRandomValues(new Uint8Array(1))[0]&15>>B/4).toString(16)})}function K(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(B){return(B^16*Math.random()>>B/4).toString(16)})}xe.exports=b.default},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.User=void 0;var y=function(){function K(B,D){for(var F=0;F<D.length;F++){var w=D[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(B,w.key,w)}}return function(B,D,F){return D&&K(B.prototype,D),F&&K(B,F),B}}(),P=I(0);b.User=function(){function K(B){var D=B.id_token,F=B.session_state,w=B.access_token,j=B.refresh_token,V=B.token_type,k=B.scope,q=B.profile,H=B.expires_at,W=B.state;(function(oe,ae){if(!(oe instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,K),this.id_token=D,this.session_state=F,this.access_token=w,this.refresh_token=j,this.token_type=V,this.scope=k,this.profile=q,this.expires_at=H,this.state=W}return K.prototype.toStorageString=function(){return P.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},K.fromStorageString=function(D){return P.Log.debug("User.fromStorageString"),new K(JSON.parse(D))},y(K,[{key:"expires_in",get:function(){if(this.expires_at){var D=parseInt(Date.now()/1e3);return this.expires_at-D}},set:function(D){var F=parseInt(D);if("number"==typeof F&&F>0){var w=parseInt(Date.now()/1e3);this.expires_at=w+F}}},{key:"expired",get:function(){var D=this.expires_in;if(void 0!==D)return D<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),K}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AccessTokenEvents=void 0;var y=I(0),P=I(46);function K(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")}b.AccessTokenEvents=function(){function B(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=D.accessTokenExpiringNotificationTime,w=void 0===F?60:F,j=D.accessTokenExpiringTimer,V=void 0===j?new P.Timer("Access token expiring"):j,k=D.accessTokenExpiredTimer,q=void 0===k?new P.Timer("Access token expired"):k;K(this,B),this._accessTokenExpiringNotificationTime=w,this._accessTokenExpiring=V,this._accessTokenExpired=q}return B.prototype.load=function(F){if(F.access_token&&void 0!==F.expires_in){var w=F.expires_in;if(y.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",w),w>0){var j=w-this._accessTokenExpiringNotificationTime;j<=0&&(j=1),y.Log.debug("AccessTokenEvents.load: registering expiring timer in:",j),this._accessTokenExpiring.init(j)}else y.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var V=w+1;y.Log.debug("AccessTokenEvents.load: registering expired timer in:",V),this._accessTokenExpired.init(V)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},B.prototype.unload=function(){y.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},B.prototype.addAccessTokenExpiring=function(F){this._accessTokenExpiring.addHandler(F)},B.prototype.removeAccessTokenExpiring=function(F){this._accessTokenExpiring.removeHandler(F)},B.prototype.addAccessTokenExpired=function(F){this._accessTokenExpired.addHandler(F)},B.prototype.removeAccessTokenExpired=function(F){this._accessTokenExpired.removeHandler(F)},B}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Event=void 0;var y=I(0);b.Event=function(){function P(K){(function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")})(this,P),this._name=K,this._callbacks=[]}return P.prototype.addHandler=function(B){this._callbacks.push(B)},P.prototype.removeHandler=function(B){var D=this._callbacks.findIndex(function(F){return F===B});D>=0&&this._callbacks.splice(D,1)},P.prototype.raise=function(){y.Log.debug("Event: Raising event: "+this._name);for(var B=0;B<this._callbacks.length;B++){var D;(D=this._callbacks)[B].apply(D,arguments)}},P}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SessionMonitor=void 0;var y=function(){function F(w,j){for(var V=0;V<j.length;V++){var k=j[V];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,j,V){return j&&F(w.prototype,j),V&&F(w,V),w}}(),P=I(0),K=I(19),B=I(1);function D(F,w){if(!(F instanceof w))throw new TypeError("Cannot call a class as a function")}b.SessionMonitor=function(){function F(w){var j=this,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K.CheckSessionIFrame,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.Global.timer;if(D(this,F),!w)throw P.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=w,this._CheckSessionIFrameCtor=V,this._timer=k,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(q){q?j._start(q):j._settings.monitorAnonymousSession&&j._userManager.querySessionStatus().then(function(H){var W={session_state:H.session_state};H.sub&&H.sid&&(W.profile={sub:H.sub,sid:H.sid}),j._start(W)}).catch(function(H){P.Log.error("SessionMonitor ctor: error from querySessionStatus:",H.message)})}).catch(function(q){P.Log.error("SessionMonitor ctor: error from getUser:",q.message)}))}return F.prototype._start=function(j){var V=this,k=j.session_state;k&&(j.profile?(this._sub=j.profile.sub,this._sid=j.profile.sid,P.Log.debug("SessionMonitor._start: session_state:",k,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,P.Log.debug("SessionMonitor._start: session_state:",k,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(k):this._metadataService.getCheckSessionIframe().then(function(q){if(q){P.Log.debug("SessionMonitor._start: Initializing check session iframe");var H=V._client_id,W=V._checkSessionInterval,Q=V._stopCheckSessionOnError;V._checkSessionIFrame=new V._CheckSessionIFrameCtor(V._callback.bind(V),H,q,W,Q),V._checkSessionIFrame.load().then(function(){V._checkSessionIFrame.start(k)})}else P.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(q){P.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",q.message)}))},F.prototype._stop=function(){var j=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(P.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var V=this._timer.setInterval(function(){j._timer.clearInterval(V),j._userManager.querySessionStatus().then(function(k){var q={session_state:k.session_state};k.sub&&k.sid&&(q.profile={sub:k.sub,sid:k.sid}),j._start(q)}).catch(function(k){P.Log.error("SessionMonitor: error from querySessionStatus:",k.message)})},1e3)},F.prototype._callback=function(){var j=this;this._userManager.querySessionStatus().then(function(V){var k=!0;V?V.sub===j._sub?(k=!1,j._checkSessionIFrame.start(V.session_state),V.sid===j._sid?P.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",V.session_state):(P.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",V.session_state),j._userManager.events._raiseUserSessionChanged())):P.Log.debug("SessionMonitor._callback: Different subject signed into OP:",V.sub):P.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),k&&(j._sub?(P.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),j._userManager.events._raiseUserSignedOut()):(P.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),j._userManager.events._raiseUserSignedIn()))}).catch(function(V){j._sub&&(P.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",V.message),j._userManager.events._raiseUserSignedOut())})},y(F,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),F}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CheckSessionIFrame=void 0;var y=I(0);function P(K,B){if(!(K instanceof B))throw new TypeError("Cannot call a class as a function")}b.CheckSessionIFrame=function(){function K(B,D,F,w){var j=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];P(this,K),this._callback=B,this._client_id=D,this._url=F,this._interval=w||2e3,this._stopOnError=j;var V=F.indexOf("/",F.indexOf("//")+2);this._frame_origin=F.substr(0,V),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=F}return K.prototype.load=function(){var D=this;return new Promise(function(F){D._frame.onload=function(){F()},window.document.body.appendChild(D._frame),D._boundMessageEvent=D._message.bind(D),window.addEventListener("message",D._boundMessageEvent,!1)})},K.prototype._message=function(D){D.origin===this._frame_origin&&D.source===this._frame.contentWindow&&("error"===D.data?(y.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===D.data?(y.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):y.Log.debug("CheckSessionIFrame: "+D.data+" message from check session op iframe"))},K.prototype.start=function(D){var F=this;if(this._session_state!==D){y.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=D;var w=function(){F._frame.contentWindow.postMessage(F._client_id+" "+F._session_state,F._frame_origin)};w(),this._timer=window.setInterval(w,this._interval)}},K.prototype.stop=function(){this._session_state=null,this._timer&&(y.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},K}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TokenRevocationClient=void 0;var y=I(0),P=I(2),K=I(1);function B(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}var D="access_token",F="refresh_token";b.TokenRevocationClient=function(){function w(j){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K.Global.XMLHttpRequest,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.MetadataService;if(B(this,w),!j)throw y.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=j,this._XMLHttpRequestCtor=V,this._metadataService=new k(this._settings)}return w.prototype.revoke=function(V,k){var q=this,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!V)throw y.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(H!==D&&H!=F)throw y.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(W){if(W)return y.Log.debug("TokenRevocationClient.revoke: Revoking "+H),q._revoke(W,q._settings.client_id,q._settings.client_secret,V,H);if(k)throw y.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},w.prototype._revoke=function(V,k,q,H,W){var Q=this;return new Promise(function(oe,ae){var ge=new Q._XMLHttpRequestCtor;ge.open("POST",V),ge.onload=function(){y.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",ge.status),200===ge.status?oe():ae(Error(ge.statusText+" ("+ge.status+")"))},ge.onerror=function(){y.Log.debug("TokenRevocationClient.revoke: Network Error."),ae("Network Error")};var ve="client_id="+encodeURIComponent(k);q&&(ve+="&client_secret="+encodeURIComponent(q)),ve+="&token_type_hint="+encodeURIComponent(W),ve+="&token="+encodeURIComponent(H),ge.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),ge.send(ve)})},w}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CordovaPopupWindow=void 0;var y=function(){function K(B,D){for(var F=0;F<D.length;F++){var w=D[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(B,w.key,w)}}return function(B,D,F){return D&&K(B.prototype,D),F&&K(B,F),B}}(),P=I(0);b.CordovaPopupWindow=function(){function K(B){var D=this;(function(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")})(this,K),this._promise=new Promise(function(F,w){D._resolve=F,D._reject=w}),this.features=B.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=B.popupWindowTarget||"_blank",this.redirect_uri=B.startUrl,P.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return K.prototype._isInAppBrowserInstalled=function(D){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(F){return D.hasOwnProperty(F)})},K.prototype.navigate=function(D){if(D&&D.url){if(!window.cordova)return this._error("cordova is undefined");var F=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(F))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(D.url,this.target,this.features),this._popup?(P.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},K.prototype._loadStartCallback=function(D){0===D.url.indexOf(this.redirect_uri)&&this._success({url:D.url})},K.prototype._exitCallback=function(D){this._error(D)},K.prototype._success=function(D){this._cleanup(),P.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(D)},K.prototype._error=function(D){this._cleanup(),P.Log.error(D),this._reject(new Error(D))},K.prototype.close=function(){this._cleanup()},K.prototype._cleanup=function(){this._popup&&(P.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},y(K,[{key:"promise",get:function(){return this._promise}}]),K}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var y=I(0),P=I(10),K=I(5),B=I(6),D=I(37),F=I(38),w=I(16),j=I(2),V=I(48),k=I(49),q=I(19),H=I(20),W=I(18),Q=I(1),oe=I(15),ae=I(50);b.default={Version:ae.Version,Log:y.Log,OidcClient:P.OidcClient,OidcClientSettings:K.OidcClientSettings,WebStorageStateStore:B.WebStorageStateStore,InMemoryWebStorage:D.InMemoryWebStorage,UserManager:F.UserManager,AccessTokenEvents:w.AccessTokenEvents,MetadataService:j.MetadataService,CordovaPopupNavigator:V.CordovaPopupNavigator,CordovaIFrameNavigator:k.CordovaIFrameNavigator,CheckSessionIFrame:q.CheckSessionIFrame,TokenRevocationClient:H.TokenRevocationClient,SessionMonitor:W.SessionMonitor,Global:Q.Global,User:oe.User},xe.exports=b.default},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ClockService=function(){function y(){!function(K,B){if(!(K instanceof B))throw new TypeError("Cannot call a class as a function")}(this,y)}return y.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},y}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ResponseValidator=void 0;var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},P=I(0),K=I(2),B=I(25),D=I(11),F=I(12),w=I(4);function j(k,q){if(!(k instanceof q))throw new TypeError("Cannot call a class as a function")}var V=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];b.ResponseValidator=function(){function k(q){var H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K.MetadataService,W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.UserInfoService,Q=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w.JoseUtil,oe=arguments.length>4&&void 0!==arguments[4]?arguments[4]:D.TokenClient;if(j(this,k),!q)throw P.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=q,this._metadataService=new H(this._settings),this._userInfoService=new W(this._settings),this._joseUtil=Q,this._tokenClient=new oe(this._settings)}return k.prototype.validateSigninResponse=function(H,W){var Q=this;return P.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(H,W).then(function(oe){return P.Log.debug("ResponseValidator.validateSigninResponse: state processed"),Q._validateTokens(H,oe).then(function(ae){return P.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),Q._processClaims(H,ae).then(function(ge){return P.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),ge})})})},k.prototype.validateSignoutResponse=function(H,W){return H.id!==W.state?(P.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(P.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),W.state=H.data,W.error?(P.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",W.error),Promise.reject(new F.ErrorResponse(W))):Promise.resolve(W))},k.prototype._processSigninParams=function(H,W){if(H.id!==W.state)return P.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!H.client_id)return P.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!H.authority)return P.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==H.authority)return P.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=H.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==H.client_id)return P.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=H.client_id;return P.Log.debug("ResponseValidator._processSigninParams: state validated"),W.state=H.data,W.error?(P.Log.warn("ResponseValidator._processSigninParams: Response was error",W.error),Promise.reject(new F.ErrorResponse(W))):H.nonce&&!W.id_token?(P.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!H.nonce&&W.id_token?(P.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):H.code_verifier&&!W.code?(P.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!H.code_verifier&&W.code?(P.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(W.scope||(W.scope=H.scope),Promise.resolve(W))},k.prototype._processClaims=function(H,W){var Q=this;if(W.isOpenIdConnect){if(P.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),W.profile=this._filterProtocolClaims(W.profile),!0!==H.skipUserInfo&&this._settings.loadUserInfo&&W.access_token)return P.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(W.access_token).then(function(oe){return P.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),oe.sub!==W.profile.sub?(P.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(W.profile=Q._mergeClaims(W.profile,oe),P.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",W.profile),W)});P.Log.debug("ResponseValidator._processClaims: not loading user info")}else P.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(W)},k.prototype._mergeClaims=function(H,W){var Q=Object.assign({},H);for(var oe in W){var ae=W[oe];Array.isArray(ae)||(ae=[ae]);for(var ge=0;ge<ae.length;ge++){var ve=ae[ge];Q[oe]?Array.isArray(Q[oe])?Q[oe].indexOf(ve)<0&&Q[oe].push(ve):Q[oe]!==ve&&(Q[oe]="object"===(void 0===ve?"undefined":y(ve))&&this._settings.mergeClaims?this._mergeClaims(Q[oe],ve):[Q[oe],ve]):Q[oe]=ve}}return Q},k.prototype._filterProtocolClaims=function(H){P.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",H);var W=Object.assign({},H);return this._settings._filterProtocolClaims?(V.forEach(function(Q){delete W[Q]}),P.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",W)):P.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),W},k.prototype._validateTokens=function(H,W){return W.code?(P.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(H,W)):W.id_token?W.access_token?(P.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(H,W)):(P.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(H,W)):(P.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(W))},k.prototype._processCode=function(H,W){var Q=this,oe={client_id:H.client_id,client_secret:H.client_secret,code:W.code,redirect_uri:H.redirect_uri,code_verifier:H.code_verifier};return H.extraTokenParams&&"object"===y(H.extraTokenParams)&&Object.assign(oe,H.extraTokenParams),this._tokenClient.exchangeCode(oe).then(function(ae){for(var ge in ae)W[ge]=ae[ge];return W.id_token?(P.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),Q._validateIdTokenAttributes(H,W)):(P.Log.debug("ResponseValidator._processCode: token response successful, returning response"),W)})},k.prototype._validateIdTokenAttributes=function(H,W){var Q=this;return this._metadataService.getIssuer().then(function(oe){var ae=H.client_id,ge=Q._settings.clockSkew;return P.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",ge),Q._settings.getEpochTime().then(function(ve){return Q._joseUtil.validateJwtAttributes(W.id_token,oe,ae,ge,ve).then(function(pe){return H.nonce&&H.nonce!==pe.nonce?(P.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):pe.sub?(W.profile=pe,W):(P.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},k.prototype._validateIdTokenAndAccessToken=function(H,W){var Q=this;return this._validateIdToken(H,W).then(function(oe){return Q._validateAccessToken(oe)})},k.prototype._getSigningKeyForJwt=function(H){var W=this;return this._metadataService.getSigningKeys().then(function(Q){var oe=H.header.kid;if(!Q)return P.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));P.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var ae=void 0;if(oe)ae=Q.filter(function(ge){return ge.kid===oe})[0];else{if((Q=W._filterByAlg(Q,H.header.alg)).length>1)return P.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));ae=Q[0]}return Promise.resolve(ae)})},k.prototype._getSigningKeyForJwtWithSingleRetry=function(H){var W=this;return this._getSigningKeyForJwt(H).then(function(Q){return Q?Promise.resolve(Q):(W._metadataService.resetSigningKeys(),W._getSigningKeyForJwt(H))})},k.prototype._validateIdToken=function(H,W){var Q=this;if(!H.nonce)return P.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var oe=this._joseUtil.parseJwt(W.id_token);return oe&&oe.header&&oe.payload?H.nonce!==oe.payload.nonce?(P.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(ae){return P.Log.debug("ResponseValidator._validateIdToken: Received issuer"),Q._getSigningKeyForJwtWithSingleRetry(oe).then(function(ge){if(!ge)return P.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var ve=H.client_id,pe=Q._settings.clockSkew;return P.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",pe),Q._joseUtil.validateJwt(W.id_token,ge,ae,ve,pe).then(function(){return P.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),oe.payload.sub?(W.profile=oe.payload,W):(P.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(P.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",oe),Promise.reject(new Error("Failed to parse id_token")))},k.prototype._filterByAlg=function(H,W){var Q=null;if(W.startsWith("RS"))Q="RSA";else if(W.startsWith("PS"))Q="PS";else{if(!W.startsWith("ES"))return P.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",W),[];Q="EC"}return P.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",Q),H=H.filter(function(oe){return oe.kty===Q}),P.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",Q,H.length),H},k.prototype._validateAccessToken=function(H){if(!H.profile)return P.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!H.profile.at_hash)return P.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!H.id_token)return P.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var W=this._joseUtil.parseJwt(H.id_token);if(!W||!W.header)return P.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",W),Promise.reject(new Error("Failed to parse id_token"));var Q=W.header.alg;if(!Q||5!==Q.length)return P.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",Q),Promise.reject(new Error("Unsupported alg: "+Q));var oe=Q.substr(2,3);if(!oe)return P.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",Q,oe),Promise.reject(new Error("Unsupported alg: "+Q));if(256!==(oe=parseInt(oe))&&384!==oe&&512!==oe)return P.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",Q,oe),Promise.reject(new Error("Unsupported alg: "+Q));var ae="sha"+oe,ge=this._joseUtil.hashString(H.access_token,ae);if(!ge)return P.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",ae),Promise.reject(new Error("Failed to validate at_hash"));var ve=ge.substr(0,ge.length/2),pe=this._joseUtil.hexToBase64Url(ve);return pe!==H.profile.at_hash?(P.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",pe,H.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(P.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(H))},k}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserInfoService=void 0;var y=I(7),P=I(2),K=I(0),B=I(4);function D(F,w){if(!(F instanceof w))throw new TypeError("Cannot call a class as a function")}b.UserInfoService=function(){function F(w){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.JsonService,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.MetadataService,k=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B.JoseUtil;if(D(this,F),!w)throw K.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=w,this._jsonService=new j(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new V(this._settings),this._joseUtil=k}return F.prototype.getClaims=function(j){var V=this;return j?this._metadataService.getUserInfoEndpoint().then(function(k){return K.Log.debug("UserInfoService.getClaims: received userinfo url",k),V._jsonService.getJson(k,j).then(function(q){return K.Log.debug("UserInfoService.getClaims: claims received",q),q})}):(K.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},F.prototype._getClaimsFromJwt=function(j){var V=this;try{var k=this._joseUtil.parseJwt(j.responseText);if(!k||!k.header||!k.payload)return K.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",k),Promise.reject(new Error("Failed to parse id_token"));var q=k.header.kid,H=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":H=this._metadataService.getIssuer();break;case"ANY":H=Promise.resolve(k.payload.iss);break;default:H=Promise.resolve(this._settings.userInfoJwtIssuer)}return H.then(function(W){return K.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+W),V._metadataService.getSigningKeys().then(function(Q){if(!Q)return K.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));K.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var oe=void 0;if(q)oe=Q.filter(function(ve){return ve.kid===q})[0];else{if((Q=V._filterByAlg(Q,k.header.alg)).length>1)return K.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));oe=Q[0]}if(!oe)return K.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var ae=V._settings.client_id,ge=V._settings.clockSkew;return K.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",ge),V._joseUtil.validateJwt(j.responseText,oe,W,ae,ge,void 0,!0).then(function(){return K.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),k.payload})})})}catch(W){return K.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",W.message),void reject(W)}},F.prototype._filterByAlg=function(j,V){var k=null;if(V.startsWith("RS"))k="RSA";else if(V.startsWith("PS"))k="PS";else{if(!V.startsWith("ES"))return K.Log.debug("UserInfoService._filterByAlg: alg not supported: ",V),[];k="EC"}return K.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",k),j=j.filter(function(q){return q.kty===k}),K.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",k,j.length),j},F}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AllowedSigningAlgs=b.b64tohex=b.hextob64u=b.crypto=b.X509=b.KeyUtil=b.jws=void 0;var y=I(27);b.jws=y.jws,b.KeyUtil=y.KEYUTIL,b.X509=y.X509,b.crypto=y.crypto,b.hextob64u=y.hextob64u,b.b64tohex=y.b64tohex,b.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(xe,b,I){"use strict";(function(y){Object.defineProperty(b,"__esModule",{value:!0});var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},K={userAgent:!1},B={};if(void 0===D)var D={};D.lang={extend:function(o,c,p){if(!c||!o)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var E=function(){};if(E.prototype=c.prototype,o.prototype=new E,o.prototype.constructor=o,o.superclass=c.prototype,c.prototype.constructor==Object.prototype.constructor&&(c.prototype.constructor=c),p){var O;for(O in p)o.prototype[O]=p[O];var z=function(){},se=["toString","valueOf"];try{/MSIE/.test(K.userAgent)&&(z=function(re,ie){for(O=0;O<se.length;O+=1){var ue=se[O],he=ie[ue];"function"==typeof he&&he!=Object.prototype[ue]&&(re[ue]=he)}})}catch(ee){}z(o.prototype,p)}}};var F,w,j,V,k,q,H,W,Q,oe,ae,o,c,p,E,ge=ge||(F=Math,j=(w={}).lib={},V=j.Base=function(){function a(){}return{extend:function(c){a.prototype=this;var p=new a;return c&&p.mixIn(c),p.hasOwnProperty("init")||(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var c=this.extend();return c.init.apply(c,arguments),c},init:function(){},mixIn:function(c){for(var p in c)c.hasOwnProperty(p)&&(this[p]=c[p]);c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),k=j.WordArray=V.extend({init:function(o,c){o=this.words=o||[],this.sigBytes=null!=c?c:4*o.length},toString:function(o){return(o||H).stringify(this)},concat:function(o){var c=this.words,p=o.words,E=this.sigBytes,O=o.sigBytes;if(this.clamp(),E%4)for(var z=0;z<O;z++)c[E+z>>>2]|=(p[z>>>2]>>>24-z%4*8&255)<<24-(E+z)%4*8;else for(z=0;z<O;z+=4)c[E+z>>>2]=p[z>>>2];return this.sigBytes+=O,this},clamp:function(){var o=this.words,c=this.sigBytes;o[c>>>2]&=4294967295<<32-c%4*8,o.length=F.ceil(c/4)},clone:function(){var o=V.clone.call(this);return o.words=this.words.slice(0),o},random:function(o){for(var c=[],p=0;p<o;p+=4)c.push(4294967296*F.random()|0);return new k.init(c,o)}}),q=w.enc={},H=q.Hex={stringify:function(o){for(var c=o.words,p=o.sigBytes,E=[],O=0;O<p;O++){var z=c[O>>>2]>>>24-O%4*8&255;E.push((z>>>4).toString(16)),E.push((15&z).toString(16))}return E.join("")},parse:function(o){for(var c=o.length,p=[],E=0;E<c;E+=2)p[E>>>3]|=parseInt(o.substr(E,2),16)<<24-E%8*4;return new k.init(p,c/2)}},W=q.Latin1={stringify:function(o){for(var c=o.words,p=o.sigBytes,E=[],O=0;O<p;O++)E.push(String.fromCharCode(c[O>>>2]>>>24-O%4*8&255));return E.join("")},parse:function(o){for(var c=o.length,p=[],E=0;E<c;E++)p[E>>>2]|=(255&o.charCodeAt(E))<<24-E%4*8;return new k.init(p,c)}},Q=q.Utf8={stringify:function(o){try{return decodeURIComponent(escape(W.stringify(o)))}catch(c){throw new Error("Malformed UTF-8 data")}},parse:function(o){return W.parse(unescape(encodeURIComponent(o)))}},oe=j.BufferedBlockAlgorithm=V.extend({reset:function(){this._data=new k.init,this._nDataBytes=0},_append:function(o){"string"==typeof o&&(o=Q.parse(o)),this._data.concat(o),this._nDataBytes+=o.sigBytes},_process:function(o){var c=this._data,p=c.words,E=c.sigBytes,O=this.blockSize,z=E/(4*O),se=(z=o?F.ceil(z):F.max((0|z)-this._minBufferSize,0))*O,ee=F.min(4*se,E);if(se){for(var re=0;re<se;re+=O)this._doProcessBlock(p,re);var ie=p.splice(0,se);c.sigBytes-=ee}return new k.init(ie,ee)},clone:function(){var o=V.clone.call(this);return o._data=this._data.clone(),o},_minBufferSize:0}),j.Hasher=oe.extend({cfg:V.extend(),init:function(o){this.cfg=this.cfg.extend(o),this.reset()},reset:function(){oe.reset.call(this),this._doReset()},update:function(o){return this._append(o),this._process(),this},finalize:function(o){return o&&this._append(o),this._doFinalize()},blockSize:16,_createHelper:function(o){return function(c,p){return new o.init(p).finalize(c)}},_createHmacHelper:function(o){return function(c,p){return new ae.HMAC.init(o,p).finalize(c)}}}),ae=w.algo={},w);c=(o=ge).lib,p=c.Base,E=c.WordArray,(o=o.x64={}).Word=p.extend({init:function(z,se){this.high=z,this.low=se}}),o.WordArray=p.extend({init:function(z,se){z=this.words=z||[],this.sigBytes=null!=se?se:8*z.length},toX32:function(){for(var z=this.words,se=z.length,ee=[],re=0;re<se;re++){var ie=z[re];ee.push(ie.high),ee.push(ie.low)}return E.create(ee,this.sigBytes)},clone:function(){for(var z=p.clone.call(this),se=z.words=this.words.slice(0),ee=se.length,re=0;re<ee;re++)se[re]=se[re].clone();return z}}),function(){var o=ge.lib.WordArray;ge.enc.Base64={stringify:function(p){var E=p.words,O=p.sigBytes,z=this._map;p.clamp(),p=[];for(var se=0;se<O;se+=3)for(var ee=(E[se>>>2]>>>24-se%4*8&255)<<16|(E[se+1>>>2]>>>24-(se+1)%4*8&255)<<8|E[se+2>>>2]>>>24-(se+2)%4*8&255,re=0;4>re&&se+.75*re<O;re++)p.push(z.charAt(ee>>>6*(3-re)&63));if(E=z.charAt(64))for(;p.length%4;)p.push(E);return p.join("")},parse:function(p){var E=p.length,O=this._map;(z=O.charAt(64))&&-1!=(z=p.indexOf(z))&&(E=z);for(var z=[],se=0,ee=0;ee<E;ee++)if(ee%4){var re=O.indexOf(p.charAt(ee-1))<<ee%4*2,ie=O.indexOf(p.charAt(ee))>>>6-ee%4*2;z[se>>>2]|=(re|ie)<<24-se%4*8,se++}return o.create(z,se)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(a){for(var o=ge,c=(E=o.lib).WordArray,p=E.Hasher,E=o.algo,O=[],z=[],se=function(Te){return 4294967296*(Te-(0|Te))|0},ee=2,re=0;64>re;){var ie;e:{for(var ue=a.sqrt(ie=ee),he=2;he<=ue;he++)if(!(ie%he)){ie=!1;break e}ie=!0}ie&&(8>re&&(O[re]=se(a.pow(ee,.5))),z[re]=se(a.pow(ee,1/3)),re++),ee++}var _e=[];E=E.SHA256=p.extend({_doReset:function(){this._hash=new c.init(O.slice(0))},_doProcessBlock:function(Te,C){for(var l=this._hash.words,h=l[0],_=l[1],R=l[2],X=l[3],le=l[4],Ae=l[5],Pe=l[6],Ye=l[7],ze=0;64>ze;ze++){if(16>ze)_e[ze]=0|Te[C+ze];else{var st=_e[ze-15],Gt=_e[ze-2];_e[ze]=((st<<25|st>>>7)^(st<<14|st>>>18)^st>>>3)+_e[ze-7]+((Gt<<15|Gt>>>17)^(Gt<<13|Gt>>>19)^Gt>>>10)+_e[ze-16]}st=Ye+((le<<26|le>>>6)^(le<<21|le>>>11)^(le<<7|le>>>25))+(le&Ae^~le&Pe)+z[ze]+_e[ze],Gt=((h<<30|h>>>2)^(h<<19|h>>>13)^(h<<10|h>>>22))+(h&_^h&R^_&R),Ye=Pe,Pe=Ae,Ae=le,le=X+st|0,X=R,R=_,_=h,h=st+Gt|0}l[0]=l[0]+h|0,l[1]=l[1]+_|0,l[2]=l[2]+R|0,l[3]=l[3]+X|0,l[4]=l[4]+le|0,l[5]=l[5]+Ae|0,l[6]=l[6]+Pe|0,l[7]=l[7]+Ye|0},_doFinalize:function(){var Te=this._data,C=Te.words,l=8*this._nDataBytes,h=8*Te.sigBytes;return C[h>>>5]|=128<<24-h%32,C[14+(h+64>>>9<<4)]=a.floor(l/4294967296),C[15+(h+64>>>9<<4)]=l,Te.sigBytes=4*C.length,this._process(),this._hash},clone:function(){var Te=p.clone.call(this);return Te._hash=this._hash.clone(),Te}}),o.SHA256=p._createHelper(E),o.HmacSHA256=p._createHmacHelper(E)}(Math),function(){function a(){return p.create.apply(p,arguments)}for(var o=ge,c=o.lib.Hasher,p=(O=o.x64).Word,E=O.WordArray,O=o.algo,z=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],se=[],ee=0;80>ee;ee++)se[ee]=a();O=O.SHA512=c.extend({_doReset:function(){this._hash=new E.init([new p.init(1779033703,4089235720),new p.init(3144134277,2227873595),new p.init(1013904242,4271175723),new p.init(2773480762,1595750129),new p.init(1359893119,2917565137),new p.init(2600822924,725511199),new p.init(528734635,4215389547),new p.init(1541459225,327033209)])},_doProcessBlock:function(ie,ue){for(var he=(_=this._hash.words)[0],_e=_[1],Fe=_[2],Te=_[3],C=_[4],l=_[5],h=_[6],_=_[7],R=he.high,X=he.low,le=_e.high,Ae=_e.low,Pe=Fe.high,Ye=Fe.low,ze=Te.high,st=Te.low,Gt=C.high,en=C.low,tn=l.high,Xn=l.low,Dn=h.high,Gn=h.low,bn=_.high,xn=_.low,jn=R,On=X,Sr=le,Ur=Ae,ii=Pe,Kr=Ye,Ei=ze,Rr=st,ar=Gt,er=en,Li=tn,Wr=Xn,zr=Dn,dr=Gn,Gr=bn,qr=xn,ur=0;80>ur;ur++){var jr=se[ur];if(16>ur)var Pr=jr.high=0|ie[ue+2*ur],un=jr.low=0|ie[ue+2*ur+1];else{Pr=((un=(Pr=se[ur-15]).high)>>>1|(fr=Pr.low)<<31)^(un>>>8|fr<<24)^un>>>7;var fr=(fr>>>1|un<<31)^(fr>>>8|un<<24)^(fr>>>7|un<<25),Jr=((un=(Jr=se[ur-2]).high)>>>19|(cn=Jr.low)<<13)^(un<<3|cn>>>29)^un>>>6,cn=(cn>>>19|un<<13)^(cn<<3|un>>>29)^(cn>>>6|un<<26),vr=(un=se[ur-7]).high,kn=(Yn=se[ur-16]).high,Yn=Yn.low;Pr=(Pr=(Pr=Pr+vr+((un=fr+un.low)>>>0<fr>>>0?1:0))+Jr+((un+=cn)>>>0<cn>>>0?1:0))+kn+((un+=Yn)>>>0<Yn>>>0?1:0),jr.high=Pr,jr.low=un}vr=ar&Li^~ar&zr,Yn=er&Wr^~er&dr,jr=jn&Sr^jn&ii^Sr&ii;var T=On&Ur^On&Kr^Ur&Kr,G=(fr=(jn>>>28|On<<4)^(jn<<30|On>>>2)^(jn<<25|On>>>7),Jr=(On>>>28|jn<<4)^(On<<30|jn>>>2)^(On<<25|jn>>>7),(cn=z[ur]).high),A=cn.low;kn=Gr+((ar>>>14|er<<18)^(ar>>>18|er<<14)^(ar<<23|er>>>9))+((cn=qr+((er>>>14|ar<<18)^(er>>>18|ar<<14)^(er<<23|ar>>>9)))>>>0<qr>>>0?1:0),Gr=zr,qr=dr,zr=Li,dr=Wr,Li=ar,Wr=er,ar=Ei+(kn=(kn=(kn=kn+vr+((cn+=Yn)>>>0<Yn>>>0?1:0))+G+((cn+=A)>>>0<A>>>0?1:0))+Pr+((cn+=un)>>>0<un>>>0?1:0))+((er=Rr+cn|0)>>>0<Rr>>>0?1:0)|0,Ei=ii,Rr=Kr,ii=Sr,Kr=Ur,Sr=jn,Ur=On,jn=kn+(jr=fr+jr+((un=Jr+T)>>>0<Jr>>>0?1:0))+((On=cn+un|0)>>>0<cn>>>0?1:0)|0}X=he.low=X+On,he.high=R+jn+(X>>>0<On>>>0?1:0),Ae=_e.low=Ae+Ur,_e.high=le+Sr+(Ae>>>0<Ur>>>0?1:0),Ye=Fe.low=Ye+Kr,Fe.high=Pe+ii+(Ye>>>0<Kr>>>0?1:0),st=Te.low=st+Rr,Te.high=ze+Ei+(st>>>0<Rr>>>0?1:0),en=C.low=en+er,C.high=Gt+ar+(en>>>0<er>>>0?1:0),Xn=l.low=Xn+Wr,l.high=tn+Li+(Xn>>>0<Wr>>>0?1:0),Gn=h.low=Gn+dr,h.high=Dn+zr+(Gn>>>0<dr>>>0?1:0),xn=_.low=xn+qr,_.high=bn+Gr+(xn>>>0<qr>>>0?1:0)},_doFinalize:function(){var ie=this._data,ue=ie.words,he=8*this._nDataBytes,_e=8*ie.sigBytes;return ue[_e>>>5]|=128<<24-_e%32,ue[30+(_e+128>>>10<<5)]=Math.floor(he/4294967296),ue[31+(_e+128>>>10<<5)]=he,ie.sigBytes=4*ue.length,this._process(),this._hash.toX32()},clone:function(){var ie=c.clone.call(this);return ie._hash=this._hash.clone(),ie},blockSize:32}),o.SHA512=c._createHelper(O),o.HmacSHA512=c._createHmacHelper(O)}(),function(){var a=ge,o=(E=a.x64).Word,c=E.WordArray,p=(E=a.algo).SHA512,E=E.SHA384=p.extend({_doReset:function(){this._hash=new c.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var z=p._doFinalize.call(this);return z.sigBytes-=16,z}});a.SHA384=p._createHelper(E),a.HmacSHA384=p._createHmacHelper(E)}();var ve,pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Ue(a){var o,c,p="";for(o=0;o+3<=a.length;o+=3)c=parseInt(a.substring(o,o+3),16),p+=pe.charAt(c>>6)+pe.charAt(63&c);for(o+1==a.length?(c=parseInt(a.substring(o,o+1),16),p+=pe.charAt(c<<2)):o+2==a.length&&(c=parseInt(a.substring(o,o+2),16),p+=pe.charAt(c>>2)+pe.charAt((3&c)<<4));(3&p.length)>0;)p+="=";return p}function Be(a){var o,c,p,E="",O=0;for(o=0;o<a.length&&"="!=a.charAt(o);++o)(p=pe.indexOf(a.charAt(o)))<0||(0==O?(E+=et(p>>2),c=3&p,O=1):1==O?(E+=et(c<<2|p>>4),c=15&p,O=2):2==O?(E+=et(c),E+=et(p>>2),c=3&p,O=3):(E+=et(c<<2|p>>4),E+=et(15&p),O=0));return 1==O&&(E+=et(c<<2)),E}function Le(a){var o,c=Be(a),p=new Array;for(o=0;2*o<c.length;++o)p[o]=parseInt(c.substring(2*o,2*o+2),16);return p}function me(a,o,c){null!=a&&("number"==typeof a?this.fromNumber(a,o,c):this.fromString(a,null==o&&"string"!=typeof a?256:o))}function nt(){return new me(null)}"Microsoft Internet Explorer"==K.appName?(me.prototype.am=function(o,c,p,E,O,z){for(var se=32767&c,ee=c>>15;--z>=0;){var re=32767&this[o],ie=this[o++]>>15,ue=ee*re+ie*se;O=((re=se*re+((32767&ue)<<15)+p[E]+(1073741823&O))>>>30)+(ue>>>15)+ee*ie+(O>>>30),p[E++]=1073741823&re}return O},ve=30):"Netscape"!=K.appName?(me.prototype.am=function(o,c,p,E,O,z){for(;--z>=0;){var se=c*this[o++]+p[E]+O;O=Math.floor(se/67108864),p[E++]=67108863&se}return O},ve=26):(me.prototype.am=function(o,c,p,E,O,z){for(var se=16383&c,ee=c>>14;--z>=0;){var re=16383&this[o],ie=this[o++]>>14,ue=ee*re+ie*se;O=((re=se*re+((16383&ue)<<14)+p[E]+O)>>28)+(ue>>14)+ee*ie,p[E++]=268435455&re}return O},ve=28),me.prototype.DB=ve,me.prototype.DM=(1<<ve)-1,me.prototype.DV=1<<ve,me.prototype.FV=Math.pow(2,52),me.prototype.F1=52-ve,me.prototype.F2=2*ve-52;var pt,dt,wt=new Array;for(pt="0".charCodeAt(0),dt=0;dt<=9;++dt)wt[pt++]=dt;for(pt="a".charCodeAt(0),dt=10;dt<36;++dt)wt[pt++]=dt;for(pt="A".charCodeAt(0),dt=10;dt<36;++dt)wt[pt++]=dt;function et(a){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(a)}function ot(a,o){var c=wt[a.charCodeAt(o)];return null==c?-1:c}function vt(a){var o=nt();return o.fromInt(a),o}function qe(a){var o,c=1;return 0!=(o=a>>>16)&&(a=o,c+=16),0!=(o=a>>8)&&(a=o,c+=8),0!=(o=a>>4)&&(a=o,c+=4),0!=(o=a>>2)&&(a=o,c+=2),0!=(o=a>>1)&&(a=o,c+=1),c}function gt(a){this.m=a}function Vt(a){this.m=a,this.mp=a.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<a.DB-15)-1,this.mt2=2*a.t}function mn(a,o){return a&o}function rn(a,o){return a|o}function _n(a,o){return a^o}function Cn(a,o){return a&~o}function Kn(a){if(0==a)return-1;var o=0;return 0==(65535&a)&&(a>>=16,o+=16),0==(255&a)&&(a>>=8,o+=8),0==(15&a)&&(a>>=4,o+=4),0==(3&a)&&(a>>=2,o+=2),0==(1&a)&&++o,o}function Sn(a){for(var o=0;0!=a;)a&=a-1,++o;return o}function sn(){}function Ot(a){return a}function ut(a){this.r2=nt(),this.q3=nt(),me.ONE.dlShiftTo(2*a.t,this.r2),this.mu=this.r2.divide(a),this.m=a}gt.prototype.convert=function(o){return o.s<0||o.compareTo(this.m)>=0?o.mod(this.m):o},gt.prototype.revert=function(o){return o},gt.prototype.reduce=function(o){o.divRemTo(this.m,null,o)},gt.prototype.mulTo=function(o,c,p){o.multiplyTo(c,p),this.reduce(p)},gt.prototype.sqrTo=function(o,c){o.squareTo(c),this.reduce(c)},Vt.prototype.convert=function(o){var c=nt();return o.abs().dlShiftTo(this.m.t,c),c.divRemTo(this.m,null,c),o.s<0&&c.compareTo(me.ZERO)>0&&this.m.subTo(c,c),c},Vt.prototype.revert=function(o){var c=nt();return o.copyTo(c),this.reduce(c),c},Vt.prototype.reduce=function(o){for(;o.t<=this.mt2;)o[o.t++]=0;for(var c=0;c<this.m.t;++c){var p=32767&o[c],E=p*this.mpl+((p*this.mph+(o[c]>>15)*this.mpl&this.um)<<15)&o.DM;for(o[p=c+this.m.t]+=this.m.am(0,E,o,c,0,this.m.t);o[p]>=o.DV;)o[p]-=o.DV,o[++p]++}o.clamp(),o.drShiftTo(this.m.t,o),o.compareTo(this.m)>=0&&o.subTo(this.m,o)},Vt.prototype.mulTo=function(o,c,p){o.multiplyTo(c,p),this.reduce(p)},Vt.prototype.sqrTo=function(o,c){o.squareTo(c),this.reduce(c)},me.prototype.copyTo=function(o){for(var c=this.t-1;c>=0;--c)o[c]=this[c];o.t=this.t,o.s=this.s},me.prototype.fromInt=function(o){this.t=1,this.s=o<0?-1:0,o>0?this[0]=o:o<-1?this[0]=o+this.DV:this.t=0},me.prototype.fromString=function(o,c){var p;if(16==c)p=4;else if(8==c)p=3;else if(256==c)p=8;else if(2==c)p=1;else if(32==c)p=5;else{if(4!=c)return void this.fromRadix(o,c);p=2}this.t=0,this.s=0;for(var E=o.length,O=!1,z=0;--E>=0;){var se=8==p?255&o[E]:ot(o,E);se<0?"-"==o.charAt(E)&&(O=!0):(O=!1,0==z?this[this.t++]=se:z+p>this.DB?(this[this.t-1]|=(se&(1<<this.DB-z)-1)<<z,this[this.t++]=se>>this.DB-z):this[this.t-1]|=se<<z,(z+=p)>=this.DB&&(z-=this.DB))}8==p&&0!=(128&o[0])&&(this.s=-1,z>0&&(this[this.t-1]|=(1<<this.DB-z)-1<<z)),this.clamp(),O&&me.ZERO.subTo(this,this)},me.prototype.clamp=function(){for(var o=this.s&this.DM;this.t>0&&this[this.t-1]==o;)--this.t},me.prototype.dlShiftTo=function(o,c){var p;for(p=this.t-1;p>=0;--p)c[p+o]=this[p];for(p=o-1;p>=0;--p)c[p]=0;c.t=this.t+o,c.s=this.s},me.prototype.drShiftTo=function(o,c){for(var p=o;p<this.t;++p)c[p-o]=this[p];c.t=Math.max(this.t-o,0),c.s=this.s},me.prototype.lShiftTo=function(o,c){var p,E=o%this.DB,O=this.DB-E,z=(1<<O)-1,se=Math.floor(o/this.DB),ee=this.s<<E&this.DM;for(p=this.t-1;p>=0;--p)c[p+se+1]=this[p]>>O|ee,ee=(this[p]&z)<<E;for(p=se-1;p>=0;--p)c[p]=0;c[se]=ee,c.t=this.t+se+1,c.s=this.s,c.clamp()},me.prototype.rShiftTo=function(o,c){c.s=this.s;var p=Math.floor(o/this.DB);if(p>=this.t)c.t=0;else{var E=o%this.DB,O=this.DB-E,z=(1<<E)-1;c[0]=this[p]>>E;for(var se=p+1;se<this.t;++se)c[se-p-1]|=(this[se]&z)<<O,c[se-p]=this[se]>>E;E>0&&(c[this.t-p-1]|=(this.s&z)<<O),c.t=this.t-p,c.clamp()}},me.prototype.subTo=function(o,c){for(var p=0,E=0,O=Math.min(o.t,this.t);p<O;)E+=this[p]-o[p],c[p++]=E&this.DM,E>>=this.DB;if(o.t<this.t){for(E-=o.s;p<this.t;)E+=this[p],c[p++]=E&this.DM,E>>=this.DB;E+=this.s}else{for(E+=this.s;p<o.t;)E-=o[p],c[p++]=E&this.DM,E>>=this.DB;E-=o.s}c.s=E<0?-1:0,E<-1?c[p++]=this.DV+E:E>0&&(c[p++]=E),c.t=p,c.clamp()},me.prototype.multiplyTo=function(o,c){var p=this.abs(),E=o.abs(),O=p.t;for(c.t=O+E.t;--O>=0;)c[O]=0;for(O=0;O<E.t;++O)c[O+p.t]=p.am(0,E[O],c,O,0,p.t);c.s=0,c.clamp(),this.s!=o.s&&me.ZERO.subTo(c,c)},me.prototype.squareTo=function(o){for(var c=this.abs(),p=o.t=2*c.t;--p>=0;)o[p]=0;for(p=0;p<c.t-1;++p){var E=c.am(p,c[p],o,2*p,0,1);(o[p+c.t]+=c.am(p+1,2*c[p],o,2*p+1,E,c.t-p-1))>=c.DV&&(o[p+c.t]-=c.DV,o[p+c.t+1]=1)}o.t>0&&(o[o.t-1]+=c.am(p,c[p],o,2*p,0,1)),o.s=0,o.clamp()},me.prototype.divRemTo=function(o,c,p){var E=o.abs();if(!(E.t<=0)){var O=this.abs();if(O.t<E.t)return null!=c&&c.fromInt(0),void(null!=p&&this.copyTo(p));null==p&&(p=nt());var z=nt(),se=this.s,ee=o.s,re=this.DB-qe(E[E.t-1]);re>0?(E.lShiftTo(re,z),O.lShiftTo(re,p)):(E.copyTo(z),O.copyTo(p));var ie=z.t,ue=z[ie-1];if(0!=ue){var he=ue*(1<<this.F1)+(ie>1?z[ie-2]>>this.F2:0),_e=this.FV/he,Fe=(1<<this.F1)/he,Te=1<<this.F2,C=p.t,l=C-ie,h=null==c?nt():c;for(z.dlShiftTo(l,h),p.compareTo(h)>=0&&(p[p.t++]=1,p.subTo(h,p)),me.ONE.dlShiftTo(ie,h),h.subTo(z,z);z.t<ie;)z[z.t++]=0;for(;--l>=0;){var _=p[--C]==ue?this.DM:Math.floor(p[C]*_e+(p[C-1]+Te)*Fe);if((p[C]+=z.am(0,_,p,l,0,ie))<_)for(z.dlShiftTo(l,h),p.subTo(h,p);p[C]<--_;)p.subTo(h,p)}null!=c&&(p.drShiftTo(ie,c),se!=ee&&me.ZERO.subTo(c,c)),p.t=ie,p.clamp(),re>0&&p.rShiftTo(re,p),se<0&&me.ZERO.subTo(p,p)}}},me.prototype.invDigit=function(){if(this.t<1)return 0;var o=this[0];if(0==(1&o))return 0;var c=3&o;return(c=(c=(c=(c=c*(2-(15&o)*c)&15)*(2-(255&o)*c)&255)*(2-((65535&o)*c&65535))&65535)*(2-o*c%this.DV)%this.DV)>0?this.DV-c:-c},me.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},me.prototype.exp=function(o,c){if(o>4294967295||o<1)return me.ONE;var p=nt(),E=nt(),O=c.convert(this),z=qe(o)-1;for(O.copyTo(p);--z>=0;)if(c.sqrTo(p,E),(o&1<<z)>0)c.mulTo(E,O,p);else{var se=p;p=E,E=se}return c.revert(p)},me.prototype.toString=function(o){if(this.s<0)return"-"+this.negate().toString(o);var c;if(16==o)c=4;else if(8==o)c=3;else if(2==o)c=1;else if(32==o)c=5;else{if(4!=o)return this.toRadix(o);c=2}var p,E=(1<<c)-1,O=!1,z="",se=this.t,ee=this.DB-se*this.DB%c;if(se-- >0)for(ee<this.DB&&(p=this[se]>>ee)>0&&(O=!0,z=et(p));se>=0;)ee<c?(p=(this[se]&(1<<ee)-1)<<c-ee,p|=this[--se]>>(ee+=this.DB-c)):(p=this[se]>>(ee-=c)&E,ee<=0&&(ee+=this.DB,--se)),p>0&&(O=!0),O&&(z+=et(p));return O?z:"0"},me.prototype.negate=function(){var o=nt();return me.ZERO.subTo(this,o),o},me.prototype.abs=function(){return this.s<0?this.negate():this},me.prototype.compareTo=function(o){var c=this.s-o.s;if(0!=c)return c;var p=this.t;if(0!=(c=p-o.t))return this.s<0?-c:c;for(;--p>=0;)if(0!=(c=this[p]-o[p]))return c;return 0},me.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+qe(this[this.t-1]^this.s&this.DM)},me.prototype.mod=function(o){var c=nt();return this.abs().divRemTo(o,null,c),this.s<0&&c.compareTo(me.ZERO)>0&&o.subTo(c,c),c},me.prototype.modPowInt=function(o,c){var p;return p=o<256||c.isEven()?new gt(c):new Vt(c),this.exp(o,p)},me.ZERO=vt(0),me.ONE=vt(1),sn.prototype.convert=Ot,sn.prototype.revert=Ot,sn.prototype.mulTo=function(o,c,p){o.multiplyTo(c,p)},sn.prototype.sqrTo=function(o,c){o.squareTo(c)},ut.prototype.convert=function(o){if(o.s<0||o.t>2*this.m.t)return o.mod(this.m);if(o.compareTo(this.m)<0)return o;var c=nt();return o.copyTo(c),this.reduce(c),c},ut.prototype.revert=function(o){return o},ut.prototype.reduce=function(o){for(o.drShiftTo(this.m.t-1,this.r2),o.t>this.m.t+1&&(o.t=this.m.t+1,o.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);o.compareTo(this.r2)<0;)o.dAddOffset(1,this.m.t+1);for(o.subTo(this.r2,o);o.compareTo(this.m)>=0;)o.subTo(this.m,o)},ut.prototype.mulTo=function(o,c,p){o.multiplyTo(c,p),this.reduce(p)},ut.prototype.sqrTo=function(o,c){o.squareTo(c),this.reduce(c)};var ce,Ee,De,de=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],L=(1<<26)/de[de.length-1];function U(){this.i=0,this.j=0,this.S=new Array}function Me(){!function(o){Ee[De++]^=255&o,Ee[De++]^=o>>8&255,Ee[De++]^=o>>16&255,Ee[De++]^=o>>24&255,De>=256&&(De-=256)}((new Date).getTime())}if(me.prototype.chunkSize=function(o){return Math.floor(Math.LN2*this.DB/Math.log(o))},me.prototype.toRadix=function(o){if(null==o&&(o=10),0==this.signum()||o<2||o>36)return"0";var c=this.chunkSize(o),p=Math.pow(o,c),E=vt(p),O=nt(),z=nt(),se="";for(this.divRemTo(E,O,z);O.signum()>0;)se=(p+z.intValue()).toString(o).substr(1)+se,O.divRemTo(E,O,z);return z.intValue().toString(o)+se},me.prototype.fromRadix=function(o,c){this.fromInt(0),null==c&&(c=10);for(var p=this.chunkSize(c),E=Math.pow(c,p),O=!1,z=0,se=0,ee=0;ee<o.length;++ee){var re=ot(o,ee);re<0?"-"==o.charAt(ee)&&0==this.signum()&&(O=!0):(se=c*se+re,++z>=p&&(this.dMultiply(E),this.dAddOffset(se,0),z=0,se=0))}z>0&&(this.dMultiply(Math.pow(c,z)),this.dAddOffset(se,0)),O&&me.ZERO.subTo(this,this)},me.prototype.fromNumber=function(o,c,p){if("number"==typeof c)if(o<2)this.fromInt(1);else for(this.fromNumber(o,p),this.testBit(o-1)||this.bitwiseTo(me.ONE.shiftLeft(o-1),rn,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(c);)this.dAddOffset(2,0),this.bitLength()>o&&this.subTo(me.ONE.shiftLeft(o-1),this);else{var E=new Array,O=7&o;E.length=1+(o>>3),c.nextBytes(E),O>0?E[0]&=(1<<O)-1:E[0]=0,this.fromString(E,256)}},me.prototype.bitwiseTo=function(o,c,p){var E,O,z=Math.min(o.t,this.t);for(E=0;E<z;++E)p[E]=c(this[E],o[E]);if(o.t<this.t){for(O=o.s&this.DM,E=z;E<this.t;++E)p[E]=c(this[E],O);p.t=this.t}else{for(O=this.s&this.DM,E=z;E<o.t;++E)p[E]=c(O,o[E]);p.t=o.t}p.s=c(this.s,o.s),p.clamp()},me.prototype.changeBit=function(o,c){var p=me.ONE.shiftLeft(o);return this.bitwiseTo(p,c,p),p},me.prototype.addTo=function(o,c){for(var p=0,E=0,O=Math.min(o.t,this.t);p<O;)E+=this[p]+o[p],c[p++]=E&this.DM,E>>=this.DB;if(o.t<this.t){for(E+=o.s;p<this.t;)E+=this[p],c[p++]=E&this.DM,E>>=this.DB;E+=this.s}else{for(E+=this.s;p<o.t;)E+=o[p],c[p++]=E&this.DM,E>>=this.DB;E+=o.s}c.s=E<0?-1:0,E>0?c[p++]=E:E<-1&&(c[p++]=this.DV+E),c.t=p,c.clamp()},me.prototype.dMultiply=function(o){this[this.t]=this.am(0,o-1,this,0,0,this.t),++this.t,this.clamp()},me.prototype.dAddOffset=function(o,c){if(0!=o){for(;this.t<=c;)this[this.t++]=0;for(this[c]+=o;this[c]>=this.DV;)this[c]-=this.DV,++c>=this.t&&(this[this.t++]=0),++this[c]}},me.prototype.multiplyLowerTo=function(o,c,p){var E,O=Math.min(this.t+o.t,c);for(p.s=0,p.t=O;O>0;)p[--O]=0;for(E=p.t-this.t;O<E;++O)p[O+this.t]=this.am(0,o[O],p,O,0,this.t);for(E=Math.min(o.t,c);O<E;++O)this.am(0,o[O],p,O,0,c-O);p.clamp()},me.prototype.multiplyUpperTo=function(o,c,p){--c;var E=p.t=this.t+o.t-c;for(p.s=0;--E>=0;)p[E]=0;for(E=Math.max(c-this.t,0);E<o.t;++E)p[this.t+E-c]=this.am(c-E,o[E],p,0,0,this.t+E-c);p.clamp(),p.drShiftTo(1,p)},me.prototype.modInt=function(o){if(o<=0)return 0;var c=this.DV%o,p=this.s<0?o-1:0;if(this.t>0)if(0==c)p=this[0]%o;else for(var E=this.t-1;E>=0;--E)p=(c*p+this[E])%o;return p},me.prototype.millerRabin=function(o){var c=this.subtract(me.ONE),p=c.getLowestSetBit();if(p<=0)return!1;var E=c.shiftRight(p);(o=o+1>>1)>de.length&&(o=de.length);for(var O=nt(),z=0;z<o;++z){O.fromInt(de[Math.floor(Math.random()*de.length)]);var se=O.modPow(E,this);if(0!=se.compareTo(me.ONE)&&0!=se.compareTo(c)){for(var ee=1;ee++<p&&0!=se.compareTo(c);)if(0==(se=se.modPowInt(2,this)).compareTo(me.ONE))return!1;if(0!=se.compareTo(c))return!1}}return!0},me.prototype.clone=function(){var o=nt();return this.copyTo(o),o},me.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},me.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},me.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},me.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},me.prototype.toByteArray=function(){var o=this.t,c=new Array;c[0]=this.s;var p,E=this.DB-o*this.DB%8,O=0;if(o-- >0)for(E<this.DB&&(p=this[o]>>E)!=(this.s&this.DM)>>E&&(c[O++]=p|this.s<<this.DB-E);o>=0;)E<8?(p=(this[o]&(1<<E)-1)<<8-E,p|=this[--o]>>(E+=this.DB-8)):(p=this[o]>>(E-=8)&255,E<=0&&(E+=this.DB,--o)),0!=(128&p)&&(p|=-256),0==O&&(128&this.s)!=(128&p)&&++O,(O>0||p!=this.s)&&(c[O++]=p);return c},me.prototype.equals=function(o){return 0==this.compareTo(o)},me.prototype.min=function(o){return this.compareTo(o)<0?this:o},me.prototype.max=function(o){return this.compareTo(o)>0?this:o},me.prototype.and=function(o){var c=nt();return this.bitwiseTo(o,mn,c),c},me.prototype.or=function(o){var c=nt();return this.bitwiseTo(o,rn,c),c},me.prototype.xor=function(o){var c=nt();return this.bitwiseTo(o,_n,c),c},me.prototype.andNot=function(o){var c=nt();return this.bitwiseTo(o,Cn,c),c},me.prototype.not=function(){for(var o=nt(),c=0;c<this.t;++c)o[c]=this.DM&~this[c];return o.t=this.t,o.s=~this.s,o},me.prototype.shiftLeft=function(o){var c=nt();return o<0?this.rShiftTo(-o,c):this.lShiftTo(o,c),c},me.prototype.shiftRight=function(o){var c=nt();return o<0?this.lShiftTo(-o,c):this.rShiftTo(o,c),c},me.prototype.getLowestSetBit=function(){for(var o=0;o<this.t;++o)if(0!=this[o])return o*this.DB+Kn(this[o]);return this.s<0?this.t*this.DB:-1},me.prototype.bitCount=function(){for(var o=0,c=this.s&this.DM,p=0;p<this.t;++p)o+=Sn(this[p]^c);return o},me.prototype.testBit=function(o){var c=Math.floor(o/this.DB);return c>=this.t?0!=this.s:0!=(this[c]&1<<o%this.DB)},me.prototype.setBit=function(o){return this.changeBit(o,rn)},me.prototype.clearBit=function(o){return this.changeBit(o,Cn)},me.prototype.flipBit=function(o){return this.changeBit(o,_n)},me.prototype.add=function(o){var c=nt();return this.addTo(o,c),c},me.prototype.subtract=function(o){var c=nt();return this.subTo(o,c),c},me.prototype.multiply=function(o){var c=nt();return this.multiplyTo(o,c),c},me.prototype.divide=function(o){var c=nt();return this.divRemTo(o,c,null),c},me.prototype.remainder=function(o){var c=nt();return this.divRemTo(o,null,c),c},me.prototype.divideAndRemainder=function(o){var c=nt(),p=nt();return this.divRemTo(o,c,p),new Array(c,p)},me.prototype.modPow=function(o,c){var p,E,O=o.bitLength(),z=vt(1);if(O<=0)return z;p=O<18?1:O<48?3:O<144?4:O<768?5:6,E=O<8?new gt(c):c.isEven()?new ut(c):new Vt(c);var se=new Array,ee=3,re=p-1,ie=(1<<p)-1;if(se[1]=E.convert(this),p>1){var ue=nt();for(E.sqrTo(se[1],ue);ee<=ie;)se[ee]=nt(),E.mulTo(ue,se[ee-2],se[ee]),ee+=2}var he,_e,Fe=o.t-1,Te=!0,C=nt();for(O=qe(o[Fe])-1;Fe>=0;){for(O>=re?he=o[Fe]>>O-re&ie:(he=(o[Fe]&(1<<O+1)-1)<<re-O,Fe>0&&(he|=o[Fe-1]>>this.DB+O-re)),ee=p;0==(1&he);)he>>=1,--ee;if((O-=ee)<0&&(O+=this.DB,--Fe),Te)se[he].copyTo(z),Te=!1;else{for(;ee>1;)E.sqrTo(z,C),E.sqrTo(C,z),ee-=2;ee>0?E.sqrTo(z,C):(_e=z,z=C,C=_e),E.mulTo(C,se[he],z)}for(;Fe>=0&&0==(o[Fe]&1<<O);)E.sqrTo(z,C),_e=z,z=C,C=_e,--O<0&&(O=this.DB-1,--Fe)}return E.revert(z)},me.prototype.modInverse=function(o){var c=o.isEven();if(this.isEven()&&c||0==o.signum())return me.ZERO;for(var p=o.clone(),E=this.clone(),O=vt(1),z=vt(0),se=vt(0),ee=vt(1);0!=p.signum();){for(;p.isEven();)p.rShiftTo(1,p),c?(O.isEven()&&z.isEven()||(O.addTo(this,O),z.subTo(o,z)),O.rShiftTo(1,O)):z.isEven()||z.subTo(o,z),z.rShiftTo(1,z);for(;E.isEven();)E.rShiftTo(1,E),c?(se.isEven()&&ee.isEven()||(se.addTo(this,se),ee.subTo(o,ee)),se.rShiftTo(1,se)):ee.isEven()||ee.subTo(o,ee),ee.rShiftTo(1,ee);p.compareTo(E)>=0?(p.subTo(E,p),c&&O.subTo(se,O),z.subTo(ee,z)):(E.subTo(p,E),c&&se.subTo(O,se),ee.subTo(z,ee))}return 0!=E.compareTo(me.ONE)?me.ZERO:ee.compareTo(o)>=0?ee.subtract(o):ee.signum()<0?(ee.addTo(o,ee),ee.signum()<0?ee.add(o):ee):ee},me.prototype.pow=function(o){return this.exp(o,new sn)},me.prototype.gcd=function(o){var c=this.s<0?this.negate():this.clone(),p=o.s<0?o.negate():o.clone();if(c.compareTo(p)<0){var E=c;c=p,p=E}var O=c.getLowestSetBit(),z=p.getLowestSetBit();if(z<0)return c;for(O<z&&(z=O),z>0&&(c.rShiftTo(z,c),p.rShiftTo(z,p));c.signum()>0;)(O=c.getLowestSetBit())>0&&c.rShiftTo(O,c),(O=p.getLowestSetBit())>0&&p.rShiftTo(O,p),c.compareTo(p)>=0?(c.subTo(p,c),c.rShiftTo(1,c)):(p.subTo(c,p),p.rShiftTo(1,p));return z>0&&p.lShiftTo(z,p),p},me.prototype.isProbablePrime=function(o){var c,p=this.abs();if(1==p.t&&p[0]<=de[de.length-1]){for(c=0;c<de.length;++c)if(p[0]==de[c])return!0;return!1}if(p.isEven())return!1;for(c=1;c<de.length;){for(var E=de[c],O=c+1;O<de.length&&E<L;)E*=de[O++];for(E=p.modInt(E);c<O;)if(E%de[c++]==0)return!1}return p.millerRabin(o)},me.prototype.square=function(){var o=nt();return this.squareTo(o),o},U.prototype.init=function(o){var c,p,E;for(c=0;c<256;++c)this.S[c]=c;for(p=0,c=0;c<256;++c)E=this.S[c],this.S[c]=this.S[p=p+this.S[c]+o[c%o.length]&255],this.S[p]=E;this.i=0,this.j=0},U.prototype.next=function(){var o;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,o=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=o,this.S[o+this.S[this.i]&255]},null==Ee){var Xe;if(Ee=new Array,De=0,void 0!==B&&(void 0!==B.crypto||void 0!==B.msCrypto)){var lt=B.crypto||B.msCrypto;if(lt.getRandomValues){var Pt=new Uint8Array(32);for(lt.getRandomValues(Pt),Xe=0;Xe<32;++Xe)Ee[De++]=Pt[Xe]}else if("Netscape"==K.appName&&K.appVersion<"5"){var ct=B.crypto.random(32);for(Xe=0;Xe<ct.length;++Xe)Ee[De++]=255&ct.charCodeAt(Xe)}}for(;De<256;)Xe=Math.floor(65536*Math.random()),Ee[De++]=Xe>>>8,Ee[De++]=255&Xe;De=0,Me()}function xt(){if(null==ce){for(Me(),(ce=new U).init(Ee),De=0;De<Ee.length;++De)Ee[De]=0;De=0}return ce.next()}function Wt(){}function Ht(a,o){return new me(a,o)}function ke(a,o,c){for(var p="",E=0;p.length<o;)p+=c(String.fromCharCode.apply(String,a.concat([(4278190080&E)>>24,(16711680&E)>>16,(65280&E)>>8,255&E]))),E+=1;return p}function ne(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function be(a,o){this.x=o,this.q=a}function Oe(a,o,c,p){this.curve=a,this.x=o,this.y=c,this.z=null==p?me.ONE:p,this.zinv=null}function $e(a,o,c){this.q=a,this.a=this.fromBigInteger(o),this.b=this.fromBigInteger(c),this.infinity=new Oe(this,null,null)}Wt.prototype.nextBytes=function(o){var c;for(c=0;c<o.length;++c)o[c]=xt()},ne.prototype.doPublic=function(o){return o.modPowInt(this.e,this.n)},ne.prototype.setPublic=function(o,c){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof o)this.n=o,this.e=c;else{if(!(null!=o&&null!=c&&o.length>0&&c.length>0))throw"Invalid RSA public key";this.n=Ht(o,16),this.e=parseInt(c,16)}},ne.prototype.encrypt=function(o){var c=function(z,se){if(se<z.length+11)throw"Message too long for RSA";for(var ee=new Array,re=z.length-1;re>=0&&se>0;){var ie=z.charCodeAt(re--);ie<128?ee[--se]=ie:ie>127&&ie<2048?(ee[--se]=63&ie|128,ee[--se]=ie>>6|192):(ee[--se]=63&ie|128,ee[--se]=ie>>6&63|128,ee[--se]=ie>>12|224)}ee[--se]=0;for(var ue=new Wt,he=new Array;se>2;){for(he[0]=0;0==he[0];)ue.nextBytes(he);ee[--se]=he[0]}return ee[--se]=2,ee[--se]=0,new me(ee)}(o,this.n.bitLength()+7>>3);if(null==c)return null;var p=this.doPublic(c);if(null==p)return null;var E=p.toString(16);return 0==(1&E.length)?E:"0"+E},ne.prototype.encryptOAEP=function(o,c,p){var E=function(ee,re,ie,ue){var he=$.crypto.MessageDigest,_e=$.crypto.Util,Fe=null;if(ie||(ie="sha1"),"string"==typeof ie&&(Fe=he.getCanonicalAlgName(ie),ue=he.getHashLength(Fe),ie=function(Pe){return _t(_e.hashHex(An(Pe),Fe))}),ee.length+2*ue+2>re)throw"Message too long for RSA";var Te,C="";for(Te=0;Te<re-ee.length-2*ue-2;Te+=1)C+="\0";var l=ie("")+C+"\x01"+ee,h=new Array(ue);(new Wt).nextBytes(h);var _=ke(h,l.length,ie),R=[];for(Te=0;Te<l.length;Te+=1)R[Te]=l.charCodeAt(Te)^_.charCodeAt(Te);var X=ke(R,h.length,ie),le=[0];for(Te=0;Te<h.length;Te+=1)le[Te+1]=h[Te]^X.charCodeAt(Te);return new me(le.concat(R))}(o,this.n.bitLength()+7>>3,c,p);if(null==E)return null;var O=this.doPublic(E);if(null==O)return null;var z=O.toString(16);return 0==(1&z.length)?z:"0"+z},ne.prototype.type="RSA",be.prototype.equals=function(o){return o==this||this.q.equals(o.q)&&this.x.equals(o.x)},be.prototype.toBigInteger=function(){return this.x},be.prototype.negate=function(){return new be(this.q,this.x.negate().mod(this.q))},be.prototype.add=function(o){return new be(this.q,this.x.add(o.toBigInteger()).mod(this.q))},be.prototype.subtract=function(o){return new be(this.q,this.x.subtract(o.toBigInteger()).mod(this.q))},be.prototype.multiply=function(o){return new be(this.q,this.x.multiply(o.toBigInteger()).mod(this.q))},be.prototype.square=function(){return new be(this.q,this.x.square().mod(this.q))},be.prototype.divide=function(o){return new be(this.q,this.x.multiply(o.toBigInteger().modInverse(this.q)).mod(this.q))},Oe.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Oe.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Oe.prototype.equals=function(o){return o==this||(this.isInfinity()?o.isInfinity():o.isInfinity()?this.isInfinity():!!o.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(o.z)).mod(this.curve.q).equals(me.ZERO)&&o.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(o.z)).mod(this.curve.q).equals(me.ZERO))},Oe.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(me.ZERO)&&!this.y.toBigInteger().equals(me.ZERO)},Oe.prototype.negate=function(){return new Oe(this.curve,this.x,this.y.negate(),this.z)},Oe.prototype.add=function(o){if(this.isInfinity())return o;if(o.isInfinity())return this;var c=o.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(o.z)).mod(this.curve.q),p=o.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(o.z)).mod(this.curve.q);if(me.ZERO.equals(p))return me.ZERO.equals(c)?this.twice():this.curve.getInfinity();var E=new me("3"),O=this.x.toBigInteger(),z=this.y.toBigInteger(),se=(o.x.toBigInteger(),o.y.toBigInteger(),p.square()),ee=se.multiply(p),re=O.multiply(se),ie=c.square().multiply(this.z),ue=ie.subtract(re.shiftLeft(1)).multiply(o.z).subtract(ee).multiply(p).mod(this.curve.q),he=re.multiply(E).multiply(c).subtract(z.multiply(ee)).subtract(ie.multiply(c)).multiply(o.z).add(c.multiply(ee)).mod(this.curve.q),_e=ee.multiply(this.z).multiply(o.z).mod(this.curve.q);return new Oe(this.curve,this.curve.fromBigInteger(ue),this.curve.fromBigInteger(he),_e)},Oe.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var o=new me("3"),c=this.x.toBigInteger(),p=this.y.toBigInteger(),E=p.multiply(this.z),O=E.multiply(p).mod(this.curve.q),z=this.curve.a.toBigInteger(),se=c.square().multiply(o);me.ZERO.equals(z)||(se=se.add(this.z.square().multiply(z)));var ee=(se=se.mod(this.curve.q)).square().subtract(c.shiftLeft(3).multiply(O)).shiftLeft(1).multiply(E).mod(this.curve.q),re=se.multiply(o).multiply(c).subtract(O.shiftLeft(1)).shiftLeft(2).multiply(O).subtract(se.square().multiply(se)).mod(this.curve.q),ie=E.square().multiply(E).shiftLeft(3).mod(this.curve.q);return new Oe(this.curve,this.curve.fromBigInteger(ee),this.curve.fromBigInteger(re),ie)},Oe.prototype.multiply=function(o){if(this.isInfinity())return this;if(0==o.signum())return this.curve.getInfinity();var c,p=o,E=p.multiply(new me("3")),O=this.negate(),z=this,se=this.curve.q.subtract(o),ee=se.multiply(new me("3")),re=new Oe(this.curve,this.x,this.y),ie=re.negate();for(c=E.bitLength()-2;c>0;--c){z=z.twice();var ue=E.testBit(c);ue!=p.testBit(c)&&(z=z.add(ue?this:O))}for(c=ee.bitLength()-2;c>0;--c){re=re.twice();var he=ee.testBit(c);he!=se.testBit(c)&&(re=re.add(he?re:ie))}return z},Oe.prototype.multiplyTwo=function(o,c,p){var E;E=o.bitLength()>p.bitLength()?o.bitLength()-1:p.bitLength()-1;for(var O=this.curve.getInfinity(),z=this.add(c);E>=0;)O=O.twice(),o.testBit(E)?O=p.testBit(E)?O.add(z):O.add(this):p.testBit(E)&&(O=O.add(c)),--E;return O},$e.prototype.getQ=function(){return this.q},$e.prototype.getA=function(){return this.a},$e.prototype.getB=function(){return this.b},$e.prototype.equals=function(o){return o==this||this.q.equals(o.q)&&this.a.equals(o.a)&&this.b.equals(o.b)},$e.prototype.getInfinity=function(){return this.infinity},$e.prototype.fromBigInteger=function(o){return new be(this.q,o)},$e.prototype.decodePointHex=function(o){switch(parseInt(o.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var c=(o.length-2)/2,p=o.substr(2,c),E=o.substr(c+2,c);return new Oe(this,this.fromBigInteger(new me(p,16)),this.fromBigInteger(new me(E,16)));default:return null}},be.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Oe.prototype.getEncoded=function(a){var o=function(z,se){var ee=z.toByteArrayUnsigned();if(se<ee.length)ee=ee.slice(ee.length-se);else for(;se>ee.length;)ee.unshift(0);return ee},c=this.getX().toBigInteger(),p=this.getY().toBigInteger(),E=o(c,32);return a?p.isEven()?E.unshift(2):E.unshift(3):(E.unshift(4),E=E.concat(o(p,32))),E},Oe.decodeFrom=function(a,o){var c=o.length-1,p=o.slice(1,1+c/2),E=o.slice(1+c/2,1+c);p.unshift(0),E.unshift(0);var O=new me(p),z=new me(E);return new Oe(a,a.fromBigInteger(O),a.fromBigInteger(z))},Oe.decodeFromHex=function(a,o){o.substr(0,2);var c=o.length-2,p=o.substr(2,c/2),E=o.substr(2+c/2,c/2),O=new me(p,16),z=new me(E,16);return new Oe(a,a.fromBigInteger(O),a.fromBigInteger(z))},Oe.prototype.add2D=function(a){if(this.isInfinity())return a;if(a.isInfinity())return this;if(this.x.equals(a.x))return this.y.equals(a.y)?this.twice():this.curve.getInfinity();var o=a.x.subtract(this.x),c=a.y.subtract(this.y).divide(o),p=c.square().subtract(this.x).subtract(a.x),E=c.multiply(this.x.subtract(p)).subtract(this.y);return new Oe(this.curve,p,E)},Oe.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var a=this.curve.fromBigInteger(me.valueOf(2)),o=this.curve.fromBigInteger(me.valueOf(3)),c=this.x.square().multiply(o).add(this.curve.a).divide(this.y.multiply(a)),p=c.square().subtract(this.x.multiply(a)),E=c.multiply(this.x.subtract(p)).subtract(this.y);return new Oe(this.curve,p,E)},Oe.prototype.multiply2D=function(a){if(this.isInfinity())return this;if(0==a.signum())return this.curve.getInfinity();var o,c=a,p=c.multiply(new me("3")),E=this.negate(),O=this;for(o=p.bitLength()-2;o>0;--o){O=O.twice();var z=p.testBit(o);z!=c.testBit(o)&&(O=O.add2D(z?this:E))}return O},Oe.prototype.isOnCurve=function(){var a=this.getX().toBigInteger(),o=this.getY().toBigInteger(),c=this.curve.getA().toBigInteger(),p=this.curve.getB().toBigInteger(),E=this.curve.getQ(),O=o.multiply(o).mod(E),z=a.multiply(a).multiply(a).add(c.multiply(a)).add(p).mod(E);return O.equals(z)},Oe.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Oe.prototype.validate=function(){var a=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var o=this.getX().toBigInteger(),c=this.getY().toBigInteger();if(o.compareTo(me.ONE)<0||o.compareTo(a.subtract(me.ONE))>0)throw new Error("x coordinate out of bounds");if(c.compareTo(me.ONE)<0||c.compareTo(a.subtract(me.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(a).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var tt=function(){var a=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),o=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),c={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function p(z,se,ee){return se?c[se]:String.fromCharCode(parseInt(ee,16))}var E=new String(""),O=Object.hasOwnProperty;return function(z,se){var ee,re,ie=z.match(a),ue=ie[0],he=!1;"{"===ue?ee={}:"["===ue?ee=[]:(ee=[],he=!0);for(var _e=[ee],Fe=1-he,Te=ie.length;Fe<Te;++Fe){var C;switch((ue=ie[Fe]).charCodeAt(0)){default:(C=_e[0])[re||C.length]=+ue,re=void 0;break;case 34:if(-1!==(ue=ue.substring(1,ue.length-1)).indexOf("\\")&&(ue=ue.replace(o,p)),C=_e[0],!re){if(!(C instanceof Array)){re=ue||E;break}re=C.length}C[re]=ue,re=void 0;break;case 91:_e.unshift((C=_e[0])[re||C.length]=[]),re=void 0;break;case 93:_e.shift();break;case 102:(C=_e[0])[re||C.length]=!1,re=void 0;break;case 110:(C=_e[0])[re||C.length]=null,re=void 0;break;case 116:(C=_e[0])[re||C.length]=!0,re=void 0;break;case 123:_e.unshift((C=_e[0])[re||C.length]={}),re=void 0;break;case 125:_e.shift()}}if(he){if(1!==_e.length)throw new Error;ee=ee[0]}else if(_e.length)throw new Error;return se&&(ee=function l(h,_){var R=h[_];if(R&&"object"===(void 0===R?"undefined":P(R))){var X=null;for(var le in R)if(O.call(R,le)&&R!==h){var Ae=l(R,le);void 0!==Ae?R[le]=Ae:(X||(X=[]),X.push(le))}if(X)for(var Pe=X.length;--Pe>=0;)delete R[X[Pe]]}return se.call(h,_,R)}({"":ee},"")),ee}}();void 0!==$&&$||(b.KJUR=$={}),void 0!==$.asn1&&$.asn1||($.asn1={}),$.asn1.ASN1Util=new function(){this.integerToByteHex=function(a){var o=a.toString(16);return o.length%2==1&&(o="0"+o),o},this.bigIntToMinTwosComplementsHex=function(a){var o=a.toString(16);if("-"!=o.substr(0,1))o.length%2==1?o="0"+o:o.match(/^[0-7]/)||(o="00"+o);else{var c=o.substr(1).length;c%2==1?c+=1:o.match(/^[0-7]/)||(c+=2);for(var p="",E=0;E<c;E++)p+="f";o=new me(p,16).xor(a).add(me.ONE).toString(16).replace(/^-/,"")}return o},this.getPEMStringFromHex=function(a,o){return vn(a,o)},this.newObject=function(a){var o=$.asn1,c=o.ASN1Object,p=o.DERBoolean,E=o.DERInteger,O=o.DERBitString,z=o.DEROctetString,se=o.DERNull,ee=o.DERObjectIdentifier,re=o.DEREnumerated,ie=o.DERUTF8String,ue=o.DERNumericString,he=o.DERPrintableString,_e=o.DERTeletexString,Fe=o.DERIA5String,Te=o.DERUTCTime,C=o.DERGeneralizedTime,l=o.DERVisibleString,h=o.DERBMPString,_=o.DERSequence,R=o.DERSet,X=o.DERTaggedObject,le=o.ASN1Util.newObject;if(a instanceof o.ASN1Object)return a;var Ae=Object.keys(a);if(1!=Ae.length)throw new Error("key of param shall be only one.");var Pe=Ae[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Pe+":"))throw new Error("undefined key: "+Pe);if("bool"==Pe)return new p(a[Pe]);if("int"==Pe)return new E(a[Pe]);if("bitstr"==Pe)return new O(a[Pe]);if("octstr"==Pe)return new z(a[Pe]);if("null"==Pe)return new se(a[Pe]);if("oid"==Pe)return new ee(a[Pe]);if("enum"==Pe)return new re(a[Pe]);if("utf8str"==Pe)return new ie(a[Pe]);if("numstr"==Pe)return new ue(a[Pe]);if("prnstr"==Pe)return new he(a[Pe]);if("telstr"==Pe)return new _e(a[Pe]);if("ia5str"==Pe)return new Fe(a[Pe]);if("utctime"==Pe)return new Te(a[Pe]);if("gentime"==Pe)return new C(a[Pe]);if("visstr"==Pe)return new l(a[Pe]);if("bmpstr"==Pe)return new h(a[Pe]);if("asn1"==Pe)return new c(a[Pe]);if("seq"==Pe){for(var Ye=a[Pe],ze=[],st=0;st<Ye.length;st++){var Gt=le(Ye[st]);ze.push(Gt)}return new _({array:ze})}if("set"==Pe){for(Ye=a[Pe],ze=[],st=0;st<Ye.length;st++)Gt=le(Ye[st]),ze.push(Gt);return new R({array:ze})}if("tag"==Pe){var en=a[Pe];if("[object Array]"===Object.prototype.toString.call(en)&&3==en.length){var tn=le(en[2]);return new X({tag:en[0],explicit:en[1],obj:tn})}return new X(en)}},this.jsonToASN1HEX=function(a){return this.newObject(a).getEncodedHex()}},$.asn1.ASN1Util.oidHexToInt=function(a){for(var o="",c=parseInt(a.substr(0,2),16),p=(o=Math.floor(c/40)+"."+c%40,""),E=2;E<a.length;E+=2){var O=("00000000"+parseInt(a.substr(E,2),16).toString(2)).slice(-8);p+=O.substr(1,7),"0"==O.substr(0,1)&&(o=o+"."+new me(p,2).toString(10),p="")}return o},$.asn1.ASN1Util.oidIntToHex=function(a){var o=function(ee){var re=ee.toString(16);return 1==re.length&&(re="0"+re),re},c=function(ee){var re="",ie=new me(ee,10).toString(2),ue=7-ie.length%7;7==ue&&(ue=0);for(var he="",_e=0;_e<ue;_e++)he+="0";for(ie=he+ie,_e=0;_e<ie.length-1;_e+=7){var Fe=ie.substr(_e,7);_e!=ie.length-7&&(Fe="1"+Fe),re+=o(parseInt(Fe,2))}return re};if(!a.match(/^[0-9.]+$/))throw"malformed oid string: "+a;var p="",E=a.split("."),O=40*parseInt(E[0])+parseInt(E[1]);p+=o(O),E.splice(0,2);for(var z=0;z<E.length;z++)p+=c(E[z]);return p},$.asn1.ASN1Object=function(a){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var o=this.hV.length/2,c=o.toString(16);if(c.length%2==1&&(c="0"+c),o<128)return c;var p=c.length/2;if(p>15)throw"ASN.1 length too long to represent by 8x: n = "+o.toString(16);return(128+p).toString(16)+c},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(o){this.params=o},null!=a&&null!=a.tlv&&(this.hTLV=a.tlv,this.isModified=!1)},$.asn1.DERAbstractString=function(a){$.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(o){this.hTLV=null,this.isModified=!0,this.s=o,this.hV=En(this.s).toLowerCase()},this.setStringHex=function(o){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=o},this.getFreshValueHex=function(){return this.hV},void 0!==a&&("string"==typeof a?this.setString(a):void 0!==a.str?this.setString(a.str):void 0!==a.hex&&this.setStringHex(a.hex))},D.lang.extend($.asn1.DERAbstractString,$.asn1.ASN1Object),$.asn1.DERAbstractTime=function(a){$.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(o){var c=o.getTime()+6e4*o.getTimezoneOffset();return new Date(c)},this.formatDate=function(o,c,p){var E=this.zeroPadding,O=this.localDateToUTC(o),z=String(O.getFullYear());"utc"==c&&(z=z.substr(2,2));var se=z+E(String(O.getMonth()+1),2)+E(String(O.getDate()),2)+E(String(O.getHours()),2)+E(String(O.getMinutes()),2)+E(String(O.getSeconds()),2);if(!0===p){var ee=O.getMilliseconds();if(0!=ee){var re=E(String(ee),3);se=se+"."+(re=re.replace(/[0]+$/,""))}}return se+"Z"},this.zeroPadding=function(o,c){return o.length>=c?o:new Array(c-o.length+1).join("0")+o},this.getString=function(){return this.s},this.setString=function(o){this.hTLV=null,this.isModified=!0,this.s=o,this.hV=Ct(o)},this.setByDateValue=function(o,c,p,E,O,z){var se=new Date(Date.UTC(o,c-1,p,E,O,z,0));this.setByDate(se)},this.getFreshValueHex=function(){return this.hV}},D.lang.extend($.asn1.DERAbstractTime,$.asn1.ASN1Object),$.asn1.DERAbstractStructured=function(a){$.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(o){this.hTLV=null,this.isModified=!0,this.asn1Array=o},this.appendASN1Object=function(o){this.hTLV=null,this.isModified=!0,this.asn1Array.push(o)},this.asn1Array=new Array,void 0!==a&&void 0!==a.array&&(this.asn1Array=a.array)},D.lang.extend($.asn1.DERAbstractStructured,$.asn1.ASN1Object),$.asn1.DERBoolean=function(a){$.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==a?"010100":"0101ff"},D.lang.extend($.asn1.DERBoolean,$.asn1.ASN1Object),$.asn1.DERInteger=function(a){$.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(o){this.hTLV=null,this.isModified=!0,this.hV=$.asn1.ASN1Util.bigIntToMinTwosComplementsHex(o)},this.setByInteger=function(o){var c=new me(String(o),10);this.setByBigInteger(c)},this.setValueHex=function(o){this.hV=o},this.getFreshValueHex=function(){return this.hV},void 0!==a&&(void 0!==a.bigint?this.setByBigInteger(a.bigint):void 0!==a.int?this.setByInteger(a.int):"number"==typeof a?this.setByInteger(a):void 0!==a.hex&&this.setValueHex(a.hex))},D.lang.extend($.asn1.DERInteger,$.asn1.ASN1Object),$.asn1.DERBitString=function(a){if(void 0!==a&&void 0!==a.obj){var o=$.asn1.ASN1Util.newObject(a.obj);a.hex="00"+o.getEncodedHex()}$.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(c){this.hTLV=null,this.isModified=!0,this.hV=c},this.setUnusedBitsAndHexValue=function(c,p){if(c<0||7<c)throw"unused bits shall be from 0 to 7: u = "+c;var E="0"+c;this.hTLV=null,this.isModified=!0,this.hV=E+p},this.setByBinaryString=function(c){var p=8-(c=c.replace(/0+$/,"")).length%8;8==p&&(p=0);for(var E=0;E<=p;E++)c+="0";var O="";for(E=0;E<c.length-1;E+=8){var z=c.substr(E,8),se=parseInt(z,2).toString(16);1==se.length&&(se="0"+se),O+=se}this.hTLV=null,this.isModified=!0,this.hV="0"+p+O},this.setByBooleanArray=function(c){for(var p="",E=0;E<c.length;E++)p+=1==c[E]?"1":"0";this.setByBinaryString(p)},this.newFalseArray=function(c){for(var p=new Array(c),E=0;E<c;E++)p[E]=!1;return p},this.getFreshValueHex=function(){return this.hV},void 0!==a&&("string"==typeof a&&a.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(a):void 0!==a.hex?this.setHexValueIncludingUnusedBits(a.hex):void 0!==a.bin?this.setByBinaryString(a.bin):void 0!==a.array&&this.setByBooleanArray(a.array))},D.lang.extend($.asn1.DERBitString,$.asn1.ASN1Object),$.asn1.DEROctetString=function(a){if(void 0!==a&&void 0!==a.obj){var o=$.asn1.ASN1Util.newObject(a.obj);a.hex=o.getEncodedHex()}$.asn1.DEROctetString.superclass.constructor.call(this,a),this.hT="04"},D.lang.extend($.asn1.DEROctetString,$.asn1.DERAbstractString),$.asn1.DERNull=function(){$.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},D.lang.extend($.asn1.DERNull,$.asn1.ASN1Object),$.asn1.DERObjectIdentifier=function(a){$.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(o){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=o},this.setValueOidString=function(o){var c=function(E){var O=function(he){var _e=he.toString(16);return 1==_e.length&&(_e="0"+_e),_e},z=function(he){var _e="",Fe=parseInt(he,10).toString(2),Te=7-Fe.length%7;7==Te&&(Te=0);for(var C="",l=0;l<Te;l++)C+="0";for(Fe=C+Fe,l=0;l<Fe.length-1;l+=7){var h=Fe.substr(l,7);l!=Fe.length-7&&(h="1"+h),_e+=O(parseInt(h,2))}return _e};try{if(!E.match(/^[0-9.]+$/))return null;var se="",ee=E.split("."),re=40*parseInt(ee[0],10)+parseInt(ee[1],10);se+=O(re),ee.splice(0,2);for(var ie=0;ie<ee.length;ie++)se+=z(ee[ie]);return se}catch(ue){return null}}(o);if(null==c)throw new Error("malformed oid string: "+o);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=c},this.setValueName=function(o){var c=$.asn1.x509.OID.name2oid(o);if(""===c)throw new Error("DERObjectIdentifier oidName undefined: "+o);this.setValueOidString(c)},this.setValueNameOrOid=function(o){o.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(o):this.setValueName(o)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(o){"string"==typeof o?this.setValueNameOrOid(o):void 0!==o.oid?this.setValueNameOrOid(o.oid):void 0!==o.name?this.setValueNameOrOid(o.name):void 0!==o.hex&&this.setValueHex(o.hex)},void 0!==a&&this.setByParam(a)},D.lang.extend($.asn1.DERObjectIdentifier,$.asn1.ASN1Object),$.asn1.DEREnumerated=function(a){$.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(o){this.hTLV=null,this.isModified=!0,this.hV=$.asn1.ASN1Util.bigIntToMinTwosComplementsHex(o)},this.setByInteger=function(o){var c=new me(String(o),10);this.setByBigInteger(c)},this.setValueHex=function(o){this.hV=o},this.getFreshValueHex=function(){return this.hV},void 0!==a&&(void 0!==a.int?this.setByInteger(a.int):"number"==typeof a?this.setByInteger(a):void 0!==a.hex&&this.setValueHex(a.hex))},D.lang.extend($.asn1.DEREnumerated,$.asn1.ASN1Object),$.asn1.DERUTF8String=function(a){$.asn1.DERUTF8String.superclass.constructor.call(this,a),this.hT="0c"},D.lang.extend($.asn1.DERUTF8String,$.asn1.DERAbstractString),$.asn1.DERNumericString=function(a){$.asn1.DERNumericString.superclass.constructor.call(this,a),this.hT="12"},D.lang.extend($.asn1.DERNumericString,$.asn1.DERAbstractString),$.asn1.DERPrintableString=function(a){$.asn1.DERPrintableString.superclass.constructor.call(this,a),this.hT="13"},D.lang.extend($.asn1.DERPrintableString,$.asn1.DERAbstractString),$.asn1.DERTeletexString=function(a){$.asn1.DERTeletexString.superclass.constructor.call(this,a),this.hT="14"},D.lang.extend($.asn1.DERTeletexString,$.asn1.DERAbstractString),$.asn1.DERIA5String=function(a){$.asn1.DERIA5String.superclass.constructor.call(this,a),this.hT="16"},D.lang.extend($.asn1.DERIA5String,$.asn1.DERAbstractString),$.asn1.DERVisibleString=function(a){$.asn1.DERIA5String.superclass.constructor.call(this,a),this.hT="1a"},D.lang.extend($.asn1.DERVisibleString,$.asn1.DERAbstractString),$.asn1.DERBMPString=function(a){$.asn1.DERBMPString.superclass.constructor.call(this,a),this.hT="1e"},D.lang.extend($.asn1.DERBMPString,$.asn1.DERAbstractString),$.asn1.DERUTCTime=function(a){$.asn1.DERUTCTime.superclass.constructor.call(this,a),this.hT="17",this.setByDate=function(o){this.hTLV=null,this.isModified=!0,this.date=o,this.s=this.formatDate(this.date,"utc"),this.hV=Ct(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Ct(this.s)),this.hV},void 0!==a&&(void 0!==a.str?this.setString(a.str):"string"==typeof a&&a.match(/^[0-9]{12}Z$/)?this.setString(a):void 0!==a.hex?this.setStringHex(a.hex):void 0!==a.date&&this.setByDate(a.date))},D.lang.extend($.asn1.DERUTCTime,$.asn1.DERAbstractTime),$.asn1.DERGeneralizedTime=function(a){$.asn1.DERGeneralizedTime.superclass.constructor.call(this,a),this.hT="18",this.withMillis=!1,this.setByDate=function(o){this.hTLV=null,this.isModified=!0,this.date=o,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ct(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ct(this.s)),this.hV},void 0!==a&&(void 0!==a.str?this.setString(a.str):"string"==typeof a&&a.match(/^[0-9]{14}Z$/)?this.setString(a):void 0!==a.hex?this.setStringHex(a.hex):void 0!==a.date&&this.setByDate(a.date),!0===a.millis&&(this.withMillis=!0))},D.lang.extend($.asn1.DERGeneralizedTime,$.asn1.DERAbstractTime),$.asn1.DERSequence=function(a){$.asn1.DERSequence.superclass.constructor.call(this,a),this.hT="30",this.getFreshValueHex=function(){for(var o="",c=0;c<this.asn1Array.length;c++)o+=this.asn1Array[c].getEncodedHex();return this.hV=o,this.hV}},D.lang.extend($.asn1.DERSequence,$.asn1.DERAbstractStructured),$.asn1.DERSet=function(a){$.asn1.DERSet.superclass.constructor.call(this,a),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var o=new Array,c=0;c<this.asn1Array.length;c++)o.push(this.asn1Array[c].getEncodedHex());return 1==this.sortFlag&&o.sort(),this.hV=o.join(""),this.hV},void 0!==a&&void 0!==a.sortflag&&0==a.sortflag&&(this.sortFlag=!1)},D.lang.extend($.asn1.DERSet,$.asn1.DERAbstractStructured),$.asn1.DERTaggedObject=function(a){$.asn1.DERTaggedObject.superclass.constructor.call(this);var o=$.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(c,p,E){this.hT=p,this.isExplicit=c,this.asn1Object=E,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=E.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,p),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(c){null!=c.tag&&(this.hT=c.tag),null!=c.explicit&&(this.isExplicit=c.explicit),null!=c.tage&&(this.hT=c.tage,this.isExplicit=!0),null!=c.tagi&&(this.hT=c.tagi,this.isExplicit=!1),null!=c.obj&&(c.obj instanceof o.ASN1Object?(this.asn1Object=c.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==P(c.obj)&&(this.asn1Object=o.ASN1Util.newObject(c.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=a&&this.setByParam(a)},D.lang.extend($.asn1.DERTaggedObject,$.asn1.ASN1Object);var $,Qe,rt,We=new function(){};function pn(a){for(var o=new Array,c=0;c<a.length;c++)o[c]=a.charCodeAt(c);return o}function jt(a){for(var o="",c=0;c<a.length;c++)o+=String.fromCharCode(a[c]);return o}function on(a){for(var o="",c=0;c<a.length;c++){var p=a[c].toString(16);1==p.length&&(p="0"+p),o+=p}return o}function Ct(a){return on(pn(a))}function Et(a){return(a=(a=a.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Tn(a){return a.length%4==2?a+="==":a.length%4==3&&(a+="="),(a=a.replace(/-/g,"+")).replace(/_/g,"/")}function He(a){return a.length%2==1&&(a="0"+a),Et(Ue(a))}function St(a){return Be(Tn(a))}function En(a){return Zt(sr(a))}function zt(a){return decodeURIComponent(Un(a))}function _t(a){for(var o="",c=0;c<a.length-1;c+=2)o+=String.fromCharCode(parseInt(a.substr(c,2),16));return o}function An(a){for(var o="",c=0;c<a.length;c++)o+=("0"+a.charCodeAt(c).toString(16)).slice(-2);return o}function ir(a){return Ue(a)}function yr(a){return ir(a).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function yn(a){return Be(a.replace(/[^0-9A-Za-z\/+=]*/g,""))}function vn(a,o){return"-----BEGIN "+o+"-----\r\n"+yr(a)+"\r\n-----END "+o+"-----\r\n"}function gn(a,o){if(-1==a.indexOf("-----BEGIN "))throw"can't find PEM header: "+o;return yn(a=void 0!==o?(a=a.replace(new RegExp("^[^]*-----BEGIN "+o+"-----"),"")).replace(new RegExp("-----END "+o+"-----[^]*$"),""):(a=a.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function qn(a){var o,c,p,E,O,z,se,ee,re,ie,ue;if(ue=a.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return ee=ue[1],o=parseInt(ee),2===ee.length&&(50<=o&&o<100?o=1900+o:0<=o&&o<50&&(o=2e3+o)),c=parseInt(ue[2])-1,p=parseInt(ue[3]),E=parseInt(ue[4]),O=parseInt(ue[5]),z=parseInt(ue[6]),se=0,""!==(re=ue[7])&&(ie=(re.substr(1)+"00").substr(0,3),se=parseInt(ie)),Date.UTC(o,c,p,E,O,z,se);throw"unsupported zulu format: "+a}function $r(a){return~~(qn(a)/1e3)}function Zt(a){return a.replace(/%/g,"")}function Un(a){return a.replace(/(..)/g,"%$1")}function kr(a){var o="malformed IPv6 address";if(!a.match(/^[0-9A-Fa-f:]+$/))throw o;var c=(a=a.toLowerCase()).split(":").length-1;if(c<2)throw o;var p=":".repeat(7-c+2),E=(a=a.replace("::",p)).split(":");if(8!=E.length)throw o;for(var O=0;O<8;O++)E[O]=("0000"+E[O]).slice(-4);return E.join("")}function Tr(a){if(!a.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var o=(a=a.toLowerCase()).match(/.{1,4}/g),c=0;c<8;c++)o[c]=o[c].replace(/^0+/,""),""==o[c]&&(o[c]="0");var p=(a=":"+o.join(":")+":").match(/:(0:){2,}/g);if(null===p)return a.slice(1,-1);var E="";for(c=0;c<p.length;c++)p[c].length>E.length&&(E=p[c]);return(a=a.replace(E,"::")).slice(1,-1)}function Ar(a){var o="malformed hex value";if(!a.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw o;if(8!=a.length)return 32==a.length?Tr(a):a;try{return parseInt(a.substr(0,2),16)+"."+parseInt(a.substr(2,2),16)+"."+parseInt(a.substr(4,2),16)+"."+parseInt(a.substr(6,2),16)}catch(c){throw o}}function sr(a){for(var o=encodeURIComponent(a),c="",p=0;p<o.length;p++)"%"==o[p]?(c+=o.substr(p,3),p+=2):c=c+"%"+Ct(o[p]);return c}function Rn(a){return!(a.length%2!=0||!a.match(/^[0-9a-f]+$/)&&!a.match(/^[0-9A-F]+$/))}function Wn(a){return a.length%2==1?"0"+a:a.substr(0,1)>"7"?"00"+a:a}We.getLblen=function(a,o){if("8"!=a.substr(o+2,1))return 1;var c=parseInt(a.substr(o+3,1));return 0==c?-1:0<c&&c<10?c+1:-2},We.getL=function(a,o){var c=We.getLblen(a,o);return c<1?"":a.substr(o+2,2*c)},We.getVblen=function(a,o){var c;return""==(c=We.getL(a,o))?-1:("8"===c.substr(0,1)?new me(c.substr(2),16):new me(c,16)).intValue()},We.getVidx=function(a,o){var c=We.getLblen(a,o);return c<0?c:o+2*(c+1)},We.getV=function(a,o){var c=We.getVidx(a,o),p=We.getVblen(a,o);return a.substr(c,2*p)},We.getTLV=function(a,o){return a.substr(o,2)+We.getL(a,o)+We.getV(a,o)},We.getTLVblen=function(a,o){return 2+2*We.getLblen(a,o)+2*We.getVblen(a,o)},We.getNextSiblingIdx=function(a,o){return We.getVidx(a,o)+2*We.getVblen(a,o)},We.getChildIdx=function(a,o){var c,p,E,O=We,z=[];c=O.getVidx(a,o),p=2*O.getVblen(a,o),"03"==a.substr(o,2)&&(c+=2,p-=2),E=0;for(var se=c;E<=p;){var ee=O.getTLVblen(a,se);if((E+=ee)<=p&&z.push(se),se+=ee,E>=p)break}return z},We.getNthChildIdx=function(a,o,c){return We.getChildIdx(a,o)[c]},We.getIdxbyList=function(a,o,c,p){var E,O,z=We;return 0==c.length?void 0!==p&&a.substr(o,2)!==p?-1:o:(E=c.shift())>=(O=z.getChildIdx(a,o)).length?-1:z.getIdxbyList(a,O[E],c,p)},We.getIdxbyListEx=function(a,o,c,p){var E,O,z=We;if(0==c.length)return void 0!==p&&a.substr(o,2)!==p?-1:o;E=c.shift(),O=z.getChildIdx(a,o);for(var se=0,ee=0;ee<O.length;ee++){var re=a.substr(O[ee],2);if("number"==typeof E&&!z.isContextTag(re)&&se==E||"string"==typeof E&&z.isContextTag(re,E))return z.getIdxbyListEx(a,O[ee],c,p);z.isContextTag(re)||se++}return-1},We.getTLVbyList=function(a,o,c,p){var E=We,O=E.getIdxbyList(a,o,c,p);return-1==O||O>=a.length?null:E.getTLV(a,O)},We.getTLVbyListEx=function(a,o,c,p){var E=We,O=E.getIdxbyListEx(a,o,c,p);return-1==O?null:E.getTLV(a,O)},We.getVbyList=function(a,o,c,p,E){var O,z,se=We;return-1==(O=se.getIdxbyList(a,o,c,p))||O>=a.length?null:(z=se.getV(a,O),!0===E&&(z=z.substr(2)),z)},We.getVbyListEx=function(a,o,c,p,E){var O,z,se=We;return-1==(O=se.getIdxbyListEx(a,o,c,p))?null:(z=se.getV(a,O),"03"==a.substr(O,2)&&!1!==E&&(z=z.substr(2)),z)},We.getInt=function(a,o,c){null==c&&(c=-1);try{var p=a.substr(o,2);if("02"!=p&&"03"!=p)return c;var E=We.getV(a,o);return"02"==p?parseInt(E,16):function(z){try{var se=z.substr(0,2);if("00"==se)return parseInt(z.substr(2),16);var ee=parseInt(se,16),re=z.substr(2),ie=parseInt(re,16).toString(2);return"0"==ie&&(ie="00000000"),ie=ie.slice(0,0-ee),parseInt(ie,2)}catch(ue){return-1}}(E)}catch(O){return c}},We.getOID=function(a,o,c){null==c&&(c=null);try{return"06"!=a.substr(o,2)?c:function(E){if(!Rn(E))return null;try{var O=[],z=E.substr(0,2),se=parseInt(z,16);O[0]=new String(Math.floor(se/40)),O[1]=new String(se%40);for(var ee=E.substr(2),re=[],ie=0;ie<ee.length/2;ie++)re.push(parseInt(ee.substr(2*ie,2),16));var ue=[],he="";for(ie=0;ie<re.length;ie++)128&re[ie]?he+=Lr((127&re[ie]).toString(2),7):(he+=Lr((127&re[ie]).toString(2),7),ue.push(new String(parseInt(he,2))),he="");var _e=O.join(".");return ue.length>0&&(_e=_e+"."+ue.join(".")),_e}catch(Fe){return null}}(We.getV(a,o))}catch(p){return c}},We.getOIDName=function(a,o,c){null==c&&(c=null);try{var p=We.getOID(a,o,c);if(p==c)return c;var E=$.asn1.x509.OID.oid2name(p);return""==E?p:E}catch(O){return c}},We.getString=function(a,o,c){null==c&&(c=null);try{return _t(We.getV(a,o))}catch(p){return c}},We.hextooidstr=function(a){var o=function(he,_e){return he.length>=_e?he:new Array(_e-he.length+1).join("0")+he},c=[],p=a.substr(0,2),E=parseInt(p,16);c[0]=new String(Math.floor(E/40)),c[1]=new String(E%40);for(var O=a.substr(2),z=[],se=0;se<O.length/2;se++)z.push(parseInt(O.substr(2*se,2),16));var ee=[],re="";for(se=0;se<z.length;se++)128&z[se]?re+=o((127&z[se]).toString(2),7):(re+=o((127&z[se]).toString(2),7),ee.push(new String(parseInt(re,2))),re="");var ie=c.join(".");return ee.length>0&&(ie=ie+"."+ee.join(".")),ie},We.dump=function(a,o,c,p){var E=We,O=E.getV,z=E.dump,se=E.getChildIdx,ee=a;a instanceof $.asn1.ASN1Object&&(ee=a.getEncodedHex());var re=function(Pe,Ye){return Pe.length<=2*Ye?Pe:Pe.substr(0,Ye)+"..(total "+Pe.length/2+"bytes).."+Pe.substr(Pe.length-Ye,Ye)};void 0===o&&(o={ommit_long_octet:32}),void 0===c&&(c=0),void 0===p&&(p="");var ie,ue=o.ommit_long_octet;if("01"==(ie=ee.substr(c,2)))return"00"==(he=O(ee,c))?p+"BOOLEAN FALSE\n":p+"BOOLEAN TRUE\n";if("02"==ie)return p+"INTEGER "+re(he=O(ee,c),ue)+"\n";if("03"==ie){var he=O(ee,c);return E.isASN1HEX(he.substr(2))?(_e=p+"BITSTRING, encapsulates\n")+z(he.substr(2),o,0,p+"  "):p+"BITSTRING "+re(he,ue)+"\n"}if("04"==ie)return he=O(ee,c),E.isASN1HEX(he)?(_e=p+"OCTETSTRING, encapsulates\n",_e+=z(he,o,0,p+"  ")):p+"OCTETSTRING "+re(he,ue)+"\n";if("05"==ie)return p+"NULL\n";if("06"==ie){var Fe=O(ee,c),Te=$.asn1.ASN1Util.oidHexToInt(Fe),C=$.asn1.x509.OID.oid2name(Te),l=Te.replace(/\./g," ");return""!=C?p+"ObjectIdentifier "+C+" ("+l+")\n":p+"ObjectIdentifier ("+l+")\n"}if("0a"==ie)return p+"ENUMERATED "+parseInt(O(ee,c))+"\n";if("0c"==ie)return p+"UTF8String '"+zt(O(ee,c))+"'\n";if("13"==ie)return p+"PrintableString '"+zt(O(ee,c))+"'\n";if("14"==ie)return p+"TeletexString '"+zt(O(ee,c))+"'\n";if("16"==ie)return p+"IA5String '"+zt(O(ee,c))+"'\n";if("17"==ie)return p+"UTCTime "+zt(O(ee,c))+"\n";if("18"==ie)return p+"GeneralizedTime "+zt(O(ee,c))+"\n";if("1a"==ie)return p+"VisualString '"+zt(O(ee,c))+"'\n";if("1e"==ie)return p+"BMPString '"+zt(O(ee,c))+"'\n";if("30"==ie){if("3000"==ee.substr(c,4))return p+"SEQUENCE {}\n";_e=p+"SEQUENCE\n";var h=o;if((2==(X=se(ee,c)).length||3==X.length)&&"06"==ee.substr(X[0],2)&&"04"==ee.substr(X[X.length-1],2)){C=E.oidname(O(ee,X[0]));var _=JSON.parse(JSON.stringify(o));_.x509ExtName=C,h=_}for(var R=0;R<X.length;R++)_e+=z(ee,h,X[R],p+"  ");return _e}if("31"==ie){_e=p+"SET\n";var X=se(ee,c);for(R=0;R<X.length;R++)_e+=z(ee,o,X[R],p+"  ");return _e}if(0!=(128&(ie=parseInt(ie,16)))){var _e,le=31&ie;if(0!=(32&ie)){for(_e=p+"["+le+"]\n",X=se(ee,c),R=0;R<X.length;R++)_e+=z(ee,o,X[R],p+"  ");return _e}return he=O(ee,c),We.isASN1HEX(he)?(_e=p+"["+le+"]\n")+z(he,o,0,p+"  "):(("68747470"==he.substr(0,8)||"subjectAltName"===o.x509ExtName&&2==le)&&(he=zt(he)),p+"["+le+"] "+he+"\n")}return p+"UNKNOWN("+ie+") "+O(ee,c)+"\n"},We.isContextTag=function(a,o){var c,p;a=a.toLowerCase();try{c=parseInt(a,16)}catch(E){return-1}if(void 0===o)return 128==(192&c);try{return null!=o.match(/^\[[0-9]+\]$/)&&!((p=parseInt(o.substr(1,o.length-1),10))>31)&&128==(192&c)&&(31&c)==p}catch(E){return!1}},We.isASN1HEX=function(a){var o=We;if(a.length%2==1)return!1;var c=o.getVblen(a,0),p=a.substr(0,2),E=o.getL(a,0);return a.length-p.length-E.length==2*c},We.checkStrictDER=function(a,o,c,p,E){var O=We;if(void 0===c){if("string"!=typeof a)throw new Error("not hex string");if(a=a.toLowerCase(),!$.lang.String.isHex(a))throw new Error("not hex string");c=a.length,E=(p=a.length/2)<128?1:Math.ceil(p.toString(16))+1}if(O.getL(a,o).length>2*E)throw new Error("L of TLV too long: idx="+o);var z=O.getVblen(a,o);if(z>p)throw new Error("value of L too long than hex: idx="+o);var se=O.getTLV(a,o),ee=se.length-2-O.getL(a,o).length;if(ee!==2*z)throw new Error("V string length and L's value not the same:"+ee+"/"+2*z);if(0===o&&a.length!=se.length)throw new Error("total length and TLV length unmatch:"+a.length+"!="+se.length);var re=a.substr(o,2);if("02"===re){var ie=O.getVidx(a,o);if("00"==a.substr(ie,2)&&a.charCodeAt(ie+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(re,16)){for(var ue=O.getVblen(a,o),he=0,_e=O.getChildIdx(a,o),Fe=0;Fe<_e.length;Fe++)he+=O.getTLV(a,_e[Fe]).length,O.checkStrictDER(a,_e[Fe],c,p,E);if(2*ue!=he)throw new Error("sum of children's TLV length and L unmatch: "+2*ue+"!="+he)}},We.oidname=function(a){var o=$.asn1;$.lang.String.isHex(a)&&(a=o.ASN1Util.oidHexToInt(a));var c=o.x509.OID.oid2name(a);return""===c&&(c=a),c},void 0!==$&&$||(b.KJUR=$={}),void 0!==$.lang&&$.lang||($.lang={}),$.lang.String=function(){},"function"==typeof y?(b.utf8tob64u=Qe=function(o){return Et(y.from(o,"utf8").toString("base64"))},b.b64utoutf8=rt=function(o){return y.from(Tn(o),"base64").toString("utf8")}):(b.utf8tob64u=Qe=function(o){return He(Zt(sr(o)))},b.b64utoutf8=rt=function(o){return decodeURIComponent(Un(St(o)))}),$.lang.String.isInteger=function(a){return!!a.match(/^[0-9]+$/)||!!a.match(/^-[0-9]+$/)},$.lang.String.isHex=function(a){return Rn(a)},$.lang.String.isBase64=function(a){return!(!(a=a.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||a.length%4!=0)},$.lang.String.isBase64URL=function(a){return!a.match(/[+/=]/)&&(a=Tn(a),$.lang.String.isBase64(a))},$.lang.String.isIntegerArray=function(a){return!!(a=a.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},$.lang.String.isPrintable=function(a){return null!==a.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},$.lang.String.isIA5=function(a){return null!==a.match(/^[\x20-\x21\x23-\x7f]*$/)},$.lang.String.isMail=function(a){return null!==a.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Lr=function(o,c,p){return null==p&&(p="0"),o.length>=c?o:new Array(c-o.length+1).join(p)+o};void 0!==$&&$||(b.KJUR=$={}),void 0!==$.crypto&&$.crypto||($.crypto={}),$.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:ge.algo.MD5,sha1:ge.algo.SHA1,sha224:ge.algo.SHA224,sha256:ge.algo.SHA256,sha384:ge.algo.SHA384,sha512:ge.algo.SHA512,ripemd160:ge.algo.RIPEMD160},this.getDigestInfoHex=function(a,o){if(void 0===this.DIGESTINFOHEAD[o])throw"alg not supported in Util.DIGESTINFOHEAD: "+o;return this.DIGESTINFOHEAD[o]+a},this.getPaddedDigestInfoHex=function(a,o,c){var p=this.getDigestInfoHex(a,o),E=c/4;if(p.length+22>E)throw"key is too short for SigAlg: keylen="+c+","+o;for(var O="0001",z="00"+p,se="",ee=E-O.length-z.length,re=0;re<ee;re+=2)se+="ff";return O+se+z},this.hashString=function(a,o){return new $.crypto.MessageDigest({alg:o}).digestString(a)},this.hashHex=function(a,o){return new $.crypto.MessageDigest({alg:o}).digestHex(a)},this.sha1=function(a){return this.hashString(a,"sha1")},this.sha256=function(a){return this.hashString(a,"sha256")},this.sha256Hex=function(a){return this.hashHex(a,"sha256")},this.sha512=function(a){return this.hashString(a,"sha512")},this.sha512Hex=function(a){return this.hashHex(a,"sha512")},this.isKey=function(a){return a instanceof ne||a instanceof $.crypto.DSA||a instanceof $.crypto.ECDSA}},$.crypto.Util.md5=function(a){return new $.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(a)},$.crypto.Util.ripemd160=function(a){return new $.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(a)},$.crypto.Util.SECURERANDOMGEN=new Wt,$.crypto.Util.getRandomHexOfNbytes=function(a){var o=new Array(a);return $.crypto.Util.SECURERANDOMGEN.nextBytes(o),on(o)},$.crypto.Util.getRandomBigIntegerOfNbytes=function(a){return new me($.crypto.Util.getRandomHexOfNbytes(a),16)},$.crypto.Util.getRandomHexOfNbits=function(a){var o=a%8,c=new Array((a-o)/8+1);return $.crypto.Util.SECURERANDOMGEN.nextBytes(c),c[0]=(255<<o&255^255)&c[0],on(c)},$.crypto.Util.getRandomBigIntegerOfNbits=function(a){return new me($.crypto.Util.getRandomHexOfNbits(a),16)},$.crypto.Util.getRandomBigIntegerZeroToMax=function(a){for(var o=a.bitLength();;){var c=$.crypto.Util.getRandomBigIntegerOfNbits(o);if(-1!=a.compareTo(c))return c}},$.crypto.Util.getRandomBigIntegerMinToMax=function(a,o){var c=a.compareTo(o);if(1==c)throw"biMin is greater than biMax";if(0==c)return a;var p=o.subtract(a);return $.crypto.Util.getRandomBigIntegerZeroToMax(p).add(a)},$.crypto.MessageDigest=function(a){this.setAlgAndProvider=function(o,c){if(null!==(o=$.crypto.MessageDigest.getCanonicalAlgName(o))&&void 0===c&&(c=$.crypto.Util.DEFAULTPROVIDER[o]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(o)&&"cryptojs"==c){try{this.md=$.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[o].create()}catch(p){throw"setAlgAndProvider hash alg set fail alg="+o+"/"+p}this.updateString=function(p){this.md.update(p)},this.updateHex=function(p){var E=ge.enc.Hex.parse(p);this.md.update(E)},this.digest=function(){return this.md.finalize().toString(ge.enc.Hex)},this.digestString=function(p){return this.updateString(p),this.digest()},this.digestHex=function(p){return this.updateHex(p),this.digest()}}if(-1!=":sha256:".indexOf(o)&&"sjcl"==c){try{this.md=new sjcl.hash.sha256}catch(p){throw"setAlgAndProvider hash alg set fail alg="+o+"/"+p}this.updateString=function(p){this.md.update(p)},this.updateHex=function(p){var E=sjcl.codec.hex.toBits(p);this.md.update(E)},this.digest=function(){var p=this.md.finalize();return sjcl.codec.hex.fromBits(p)},this.digestString=function(p){return this.updateString(p),this.digest()},this.digestHex=function(p){return this.updateHex(p),this.digest()}}},this.updateString=function(o){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(o){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(o){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(o){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==a&&void 0!==a.alg&&(this.algName=a.alg,void 0===a.prov&&(this.provName=$.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},$.crypto.MessageDigest.getCanonicalAlgName=function(a){return"string"==typeof a&&(a=(a=a.toLowerCase()).replace(/-/,"")),a},$.crypto.MessageDigest.getHashLength=function(a){var o=$.crypto.MessageDigest,c=o.getCanonicalAlgName(a);if(void 0===o.HASHLENGTH[c])throw"not supported algorithm: "+a;return o.HASHLENGTH[c]},$.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},$.crypto.Mac=function(a){this.setAlgAndProvider=function(o,c){if(null==(o=o.toLowerCase())&&(o="hmacsha1"),"hmac"!=(o=o.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+o;void 0===c&&(c=$.crypto.Util.DEFAULTPROVIDER[o]),this.algProv=o+"/"+c;var p=o.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(p)&&"cryptojs"==c){try{this.mac=ge.algo.HMAC.create($.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[p],this.pass)}catch(O){throw"setAlgAndProvider hash alg set fail hashAlg="+p+"/"+O}this.updateString=function(O){this.mac.update(O)},this.updateHex=function(O){var z=ge.enc.Hex.parse(O);this.mac.update(z)},this.doFinal=function(){return this.mac.finalize().toString(ge.enc.Hex)},this.doFinalString=function(O){return this.updateString(O),this.doFinal()},this.doFinalHex=function(O){return this.updateHex(O),this.doFinal()}}},this.updateString=function(o){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(o){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(o){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(o){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(o){if("string"==typeof o){var c=o;return o.length%2!=1&&o.match(/^[0-9A-Fa-f]+$/)||(c=An(o)),void(this.pass=ge.enc.Hex.parse(c))}if("object"!=(void 0===o?"undefined":P(o)))throw"KJUR.crypto.Mac unsupported password type: "+o;if(c=null,void 0!==o.hex){if(o.hex.length%2!=0||!o.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+o.hex;c=o.hex}if(void 0!==o.utf8&&(c=En(o.utf8)),void 0!==o.rstr&&(c=An(o.rstr)),void 0!==o.b64&&(c=Be(o.b64)),void 0!==o.b64u&&(c=St(o.b64u)),null==c)throw"KJUR.crypto.Mac unsupported password type: "+o;this.pass=ge.enc.Hex.parse(c)},void 0!==a&&(void 0!==a.pass&&this.setPassword(a.pass),void 0!==a.alg&&(this.algName=a.alg,void 0===a.prov&&(this.provName=$.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},$.crypto.Signature=function(a){var o=null;if(this._setAlgNames=function(){var c=this.algName.match(/^(.+)with(.+)$/);c&&(this.mdAlgName=c[1].toLowerCase(),this.pubkeyAlgName=c[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(c,p){for(var E="",O=p/4-c.length,z=0;z<O;z++)E+="0";return E+c},this.setAlgAndProvider=function(c,p){if(this._setAlgNames(),"cryptojs/jsrsa"!=p)throw new Error("provider not supported: "+p);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new $.crypto.MessageDigest({alg:this.mdAlgName})}catch(E){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+E)}this.init=function(E,O){var z=null;try{z=void 0===O?qt.getKey(E):qt.getKey(E,O)}catch(se){throw"init failed:"+se}if(!0===z.isPrivate)this.prvKey=z,this.state="SIGN";else{if(!0!==z.isPublic)throw"init failed.:"+z;this.pubKey=z,this.state="VERIFY"}},this.updateString=function(E){this.md.updateString(E)},this.updateHex=function(E){this.md.updateHex(E)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==$.crypto.ECDSA&&(this.prvKey=new $.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ne&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ne&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof $.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof $.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(E){return this.updateString(E),this.sign()},this.signHex=function(E){return this.updateHex(E),this.sign()},this.verify=function(E){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==$.crypto.ECDSA&&(this.pubKey=new $.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ne&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,E,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ne&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,E);if(void 0!==$.crypto.ECDSA&&this.pubKey instanceof $.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,E);if(void 0!==$.crypto.DSA&&this.pubKey instanceof $.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,E);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(c,p){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(c){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(c){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(c){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(c){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(c){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=a,void 0!==a&&(void 0!==a.alg&&(this.algName=a.alg,this.provName=void 0===a.prov?$.crypto.Util.DEFAULTPROVIDER[this.algName]:a.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==a.psssaltlen&&(this.pssSaltLen=a.psssaltlen),void 0!==a.prvkeypem)){if(void 0!==a.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{o=qt.getKey(a.prvkeypem),this.init(o)}catch(c){throw"fatal error to load pem private key: "+c}}},$.crypto.Cipher=function(a){},$.crypto.Cipher.encrypt=function(a,o,c){if(o instanceof ne&&o.isPublic){var p=$.crypto.Cipher.getAlgByKeyAndName(o,c);if("RSA"===p)return o.encrypt(a);if("RSAOAEP"===p)return o.encryptOAEP(a,"sha1");var E=p.match(/^RSAOAEP(\d+)$/);if(null!==E)return o.encryptOAEP(a,"sha"+E[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+c}throw"Cipher.encrypt: unsupported key or algorithm"},$.crypto.Cipher.decrypt=function(a,o,c){if(o instanceof ne&&o.isPrivate){var p=$.crypto.Cipher.getAlgByKeyAndName(o,c);if("RSA"===p)return o.decrypt(a);if("RSAOAEP"===p)return o.decryptOAEP(a,"sha1");var E=p.match(/^RSAOAEP(\d+)$/);if(null!==E)return o.decryptOAEP(a,"sha"+E[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+c}throw"Cipher.decrypt: unsupported key or algorithm"},$.crypto.Cipher.getAlgByKeyAndName=function(a,o){if(a instanceof ne){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(o))return o;if(null==o)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+o}throw"getAlgByKeyAndName: not supported algorithm name: "+o},$.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==$&&$||(b.KJUR=$={}),void 0!==$.crypto&&$.crypto||($.crypto={}),$.crypto.ECDSA=function(a){var o=Error,c=me,p=Oe,E=$.crypto.ECDSA,O=$.crypto.ECParameterDB,z=E.getName,ee=We.getVbyListEx,re=We.isASN1HEX,ie=new Wt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(ue){return new c(ue.bitLength(),ie).mod(ue.subtract(c.ONE)).add(c.ONE)},this.setNamedCurve=function(ue){this.ecparams=O.getByName(ue),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=ue},this.setPrivateKeyHex=function(ue){this.isPrivate=!0,this.prvKeyHex=ue},this.setPublicKeyHex=function(ue){this.isPublic=!0,this.pubKeyHex=ue},this.getPublicKeyXYHex=function(){var ue=this.pubKeyHex;if("04"!==ue.substr(0,2))throw"this method supports uncompressed format(04) only";var he=this.ecparams.keylen/4;if(ue.length!==2+2*he)throw"malformed public key hex length";var _e={};return _e.x=ue.substr(2,he),_e.y=ue.substr(2+he),_e},this.getShortNISTPCurveName=function(){var ue=this.curveName;return"secp256r1"===ue||"NIST P-256"===ue||"P-256"===ue||"prime256v1"===ue?"P-256":"secp384r1"===ue||"NIST P-384"===ue||"P-384"===ue?"P-384":null},this.generateKeyPairHex=function(){var he=this.getBigRandom(this.ecparams.n),_e=this.ecparams.G.multiply(he),Fe=_e.getX().toBigInteger(),Te=_e.getY().toBigInteger(),C=this.ecparams.keylen/4,l=("0000000000"+he.toString(16)).slice(-C),h="04"+("0000000000"+Fe.toString(16)).slice(-C)+("0000000000"+Te.toString(16)).slice(-C);return this.setPrivateKeyHex(l),this.setPublicKeyHex(h),{ecprvhex:l,ecpubhex:h}},this.signWithMessageHash=function(ue){return this.signHex(ue,this.prvKeyHex)},this.signHex=function(ue,he){var _e=new c(he,16),Fe=this.ecparams.n,Te=new c(ue.substring(0,this.ecparams.keylen/4),16);do{var C=this.getBigRandom(Fe),l=this.ecparams.G.multiply(C).getX().toBigInteger().mod(Fe)}while(l.compareTo(c.ZERO)<=0);var h=C.modInverse(Fe).multiply(Te.add(_e.multiply(l))).mod(Fe);return E.biRSSigToASN1Sig(l,h)},this.sign=function(ue,he){var _e=he,Fe=this.ecparams.n,Te=c.fromByteArrayUnsigned(ue);do{var C=this.getBigRandom(Fe),l=this.ecparams.G.multiply(C).getX().toBigInteger().mod(Fe)}while(l.compareTo(me.ZERO)<=0);var h=C.modInverse(Fe).multiply(Te.add(_e.multiply(l))).mod(Fe);return this.serializeSig(l,h)},this.verifyWithMessageHash=function(ue,he){return this.verifyHex(ue,he,this.pubKeyHex)},this.verifyHex=function(ue,he,_e){try{var Fe,Te,C=E.parseSigHex(he);Fe=C.r,Te=C.s;var l=p.decodeFromHex(this.ecparams.curve,_e),h=new c(ue.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(h,Fe,Te,l)}catch(_){return!1}},this.verify=function(ue,he,_e){var Fe,Te,C;if(Bitcoin.Util.isArray(he)){var l=this.parseSig(he);Fe=l.r,Te=l.s}else{if("object"!==(void 0===he?"undefined":P(he))||!he.r||!he.s)throw"Invalid value for signature";Fe=he.r,Te=he.s}if(_e instanceof Oe)C=_e;else{if(!Bitcoin.Util.isArray(_e))throw"Invalid format for pubkey value, must be byte array or ECPointFp";C=p.decodeFrom(this.ecparams.curve,_e)}var h=c.fromByteArrayUnsigned(ue);return this.verifyRaw(h,Fe,Te,C)},this.verifyRaw=function(ue,he,_e,Fe){var Te=this.ecparams.n,C=this.ecparams.G;if(he.compareTo(c.ONE)<0||he.compareTo(Te)>=0||_e.compareTo(c.ONE)<0||_e.compareTo(Te)>=0)return!1;var l=_e.modInverse(Te),h=ue.multiply(l).mod(Te),_=he.multiply(l).mod(Te);return C.multiply(h).add(Fe.multiply(_)).getX().toBigInteger().mod(Te).equals(he)},this.serializeSig=function(ue,he){var _e=ue.toByteArraySigned(),Fe=he.toByteArraySigned(),Te=[];return Te.push(2),Te.push(_e.length),(Te=Te.concat(_e)).push(2),Te.push(Fe.length),(Te=Te.concat(Fe)).unshift(Te.length),Te.unshift(48),Te},this.parseSig=function(ue){var he;if(48!=ue[0])throw new Error("Signature not a valid DERSequence");if(2!=ue[he=2])throw new Error("First element in signature must be a DERInteger");var _e=ue.slice(he+2,he+2+ue[he+1]);if(2!=ue[he+=2+ue[he+1]])throw new Error("Second element in signature must be a DERInteger");var Fe=ue.slice(he+2,he+2+ue[he+1]);return he+=2+ue[he+1],{r:c.fromByteArrayUnsigned(_e),s:c.fromByteArrayUnsigned(Fe)}},this.parseSigCompact=function(ue){if(65!==ue.length)throw"Signature has the wrong length";var he=ue[0]-27;if(he<0||he>7)throw"Invalid signature type";var _e=this.ecparams.n;return{r:c.fromByteArrayUnsigned(ue.slice(1,33)).mod(_e),s:c.fromByteArrayUnsigned(ue.slice(33,65)).mod(_e),i:he}},this.readPKCS5PrvKeyHex=function(ue){if(!1===re(ue))throw new Error("not ASN.1 hex string");var he,_e,Fe;try{he=ee(ue,0,["[0]",0],"06"),_e=ee(ue,0,[1],"04");try{Fe=ee(ue,0,["[1]",0],"03")}catch(Te){}}catch(Te){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=z(he),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(Fe),this.setPrivateKeyHex(_e),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(ue){if(!1===re(ue))throw new o("not ASN.1 hex string");var he,_e,Fe;try{ee(ue,0,[1,0],"06"),he=ee(ue,0,[1,1],"06"),_e=ee(ue,0,[2,0,1],"04");try{Fe=ee(ue,0,[2,0,"[1]",0],"03")}catch(Te){}}catch(Te){throw new o("malformed PKCS#8 plain ECC private key")}if(this.curveName=z(he),void 0===this.curveName)throw new o("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Fe),this.setPrivateKeyHex(_e),this.isPublic=!1},this.readPKCS8PubKeyHex=function(ue){if(!1===re(ue))throw new o("not ASN.1 hex string");var he,_e;try{ee(ue,0,[0,0],"06"),he=ee(ue,0,[0,1],"06"),_e=ee(ue,0,[1],"03")}catch(Fe){throw new o("malformed PKCS#8 ECC public key")}if(this.curveName=z(he),null===this.curveName)throw new o("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(_e)},this.readCertPubKeyHex=function(ue,he){if(!1===re(ue))throw new o("not ASN.1 hex string");var _e,Fe;try{_e=ee(ue,0,[0,5,0,1],"06"),Fe=ee(ue,0,[0,5,1],"03")}catch(Te){throw new o("malformed X.509 certificate ECC public key")}if(this.curveName=z(_e),null===this.curveName)throw new o("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Fe)},void 0!==a&&void 0!==a.curve&&(this.curveName=a.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==a&&(void 0!==a.prv&&this.setPrivateKeyHex(a.prv),void 0!==a.pub&&this.setPublicKeyHex(a.pub))},$.crypto.ECDSA.parseSigHex=function(a){var o=$.crypto.ECDSA.parseSigHexInHexRS(a);return{r:new me(o.r,16),s:new me(o.s,16)}},$.crypto.ECDSA.parseSigHexInHexRS=function(a){var c=We.getChildIdx,p=We.getV;if(We.checkStrictDER(a,0),"30"!=a.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var E=c(a,0);if(2!=E.length)throw new Error("signature shall have two elements");var O=E[0],z=E[1];if("02"!=a.substr(O,2))throw new Error("1st item not ASN.1 integer");if("02"!=a.substr(z,2))throw new Error("2nd item not ASN.1 integer");return{r:p(a,O),s:p(a,z)}},$.crypto.ECDSA.asn1SigToConcatSig=function(a){var o=$.crypto.ECDSA.parseSigHexInHexRS(a),c=o.r,p=o.s;if("00"==c.substr(0,2)&&c.length%32==2&&(c=c.substr(2)),"00"==p.substr(0,2)&&p.length%32==2&&(p=p.substr(2)),c.length%32==30&&(c="00"+c),p.length%32==30&&(p="00"+p),c.length%32!=0)throw"unknown ECDSA sig r length error";if(p.length%32!=0)throw"unknown ECDSA sig s length error";return c+p},$.crypto.ECDSA.concatSigToASN1Sig=function(a){if(a.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var o=a.substr(0,a.length/2),c=a.substr(a.length/2);return $.crypto.ECDSA.hexRSSigToASN1Sig(o,c)},$.crypto.ECDSA.hexRSSigToASN1Sig=function(a,o){var c=new me(a,16),p=new me(o,16);return $.crypto.ECDSA.biRSSigToASN1Sig(c,p)},$.crypto.ECDSA.biRSSigToASN1Sig=function(a,o){var c=$.asn1,p=new c.DERInteger({bigint:a}),E=new c.DERInteger({bigint:o});return new c.DERSequence({array:[p,E]}).getEncodedHex()},$.crypto.ECDSA.getName=function(a){return"2b8104001f"===a?"secp192k1":"2a8648ce3d030107"===a?"secp256r1":"2b8104000a"===a?"secp256k1":"2b81040021"===a?"secp224r1":"2b81040022"===a?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(a)?"secp256r1":-1!=="|secp256k1|".indexOf(a)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(a)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(a)?"secp384r1":null},void 0!==$&&$||(b.KJUR=$={}),void 0!==$.crypto&&$.crypto||($.crypto={}),$.crypto.ECParameterDB=new function(){var a={},o={};function c(p){return new me(p,16)}this.getByName=function(p){var E=p;if(void 0!==o[E]&&(E=o[p]),void 0!==a[E])return a[E];throw"unregistered EC curve name: "+E},this.regist=function(p,E,O,z,se,ee,re,ie,ue,he,_e,Fe){a[p]={};var Te=c(O),C=c(z),l=c(se),h=c(ee),_=c(re),R=new $e(Te,C,l),X=R.decodePointHex("04"+ie+ue);a[p].name=p,a[p].keylen=E,a[p].curve=R,a[p].G=X,a[p].n=h,a[p].h=_,a[p].oid=_e,a[p].info=Fe;for(var le=0;le<he.length;le++)o[he[le]]=p}},$.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),$.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),$.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),$.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),$.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),$.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),$.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),$.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),$.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),$.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var qt=function(){var a=function(re,ie,ue){return o(ge.AES,re,ie,ue)},o=function(re,ie,ue,he){var _e=ge.enc.Hex.parse(ie),Fe=ge.enc.Hex.parse(ue),Te=ge.enc.Hex.parse(he),C={};C.key=Fe,C.iv=Te,C.ciphertext=_e;var l=re.decrypt(C,Fe,{iv:Te});return ge.enc.Hex.stringify(l)},c=function(re,ie,ue){return p(ge.AES,re,ie,ue)},p=function(re,ie,ue,he){var _e=ge.enc.Hex.parse(ie),Fe=ge.enc.Hex.parse(ue),Te=ge.enc.Hex.parse(he),C=re.encrypt(_e,Fe,{iv:Te}),l=ge.enc.Hex.parse(C.toString());return ge.enc.Base64.stringify(l)},E={"AES-256-CBC":{proc:a,eproc:c,keylen:32,ivlen:16},"AES-192-CBC":{proc:a,eproc:c,keylen:24,ivlen:16},"AES-128-CBC":{proc:a,eproc:c,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(re,ie,ue){return o(ge.TripleDES,re,ie,ue)},eproc:function(re,ie,ue){return p(ge.TripleDES,re,ie,ue)},keylen:24,ivlen:8},"DES-CBC":{proc:function(re,ie,ue){return o(ge.DES,re,ie,ue)},eproc:function(re,ie,ue){return p(ge.DES,re,ie,ue)},keylen:8,ivlen:8}},O=function(re){var ie={},ue=re.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));ue&&(ie.cipher=ue[1],ie.ivsalt=ue[2]);var he=re.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));he&&(ie.type=he[1]);var _e=-1,Fe=0;-1!=re.indexOf("\r\n\r\n")&&(_e=re.indexOf("\r\n\r\n"),Fe=2),-1!=re.indexOf("\n\n")&&(_e=re.indexOf("\n\n"),Fe=1);var Te=re.indexOf("-----END");if(-1!=_e&&-1!=Te){var C=re.substring(_e+2*Fe,Te-Fe);C=C.replace(/\s+/g,""),ie.data=C}return ie},z=function(re,ie,ue){for(var he=ue.substring(0,16),_e=ge.enc.Hex.parse(he),Fe=ge.enc.Utf8.parse(ie),Te=E[re].keylen+E[re].ivlen,C="",l=null;;){var h=ge.algo.MD5.create();if(null!=l&&h.update(l),h.update(Fe),h.update(_e),l=h.finalize(),(C+=ge.enc.Hex.stringify(l)).length>=2*Te)break}var _={};return _.keyhex=C.substr(0,2*E[re].keylen),_.ivhex=C.substr(2*E[re].keylen,2*E[re].ivlen),_},se=function(re,ie,ue,he){var _e=ge.enc.Base64.parse(re),Fe=ge.enc.Hex.stringify(_e);return(0,E[ie].proc)(Fe,ue,he)};return{version:"1.0.0",parsePKCS5PEM:function(re){return O(re)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(re,ie,ue){return z(re,ie,ue)},decryptKeyB64:function(re,ie,ue,he){return se(re,ie,ue,he)},getDecryptedKeyHex:function(re,ie){var ue=O(re),he=ue.cipher,_e=ue.ivsalt,Fe=ue.data,Te=z(he,ie,_e).keyhex;return se(Fe,he,Te,_e)},getEncryptedPKCS5PEMFromPrvKeyHex:function(re,ie,ue,he,_e){var l,h,Fe="";if(void 0!==he&&null!=he||(he="AES-256-CBC"),void 0===E[he])throw"KEYUTIL unsupported algorithm: "+he;return void 0!==_e&&null!=_e||(_e=(l=E[he].ivlen,h=ge.lib.WordArray.random(l),ge.enc.Hex.stringify(h)).toUpperCase()),Fe="-----BEGIN "+re+" PRIVATE KEY-----\r\n",Fe+="Proc-Type: 4,ENCRYPTED\r\n",Fe+="DEK-Info: "+he+","+_e+"\r\n",Fe+="\r\n",(Fe+=function(l,h,_,R){return(0,E[h].eproc)(l,_,R)}(ie,he,z(he,ue,_e).keyhex,_e).replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+re+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(re){var ue=We.getChildIdx,he=We.getV,_e={},Fe=ue(re,0);if(2!=Fe.length)throw"malformed format: SEQUENCE(0).items != 2: "+Fe.length;_e.ciphertext=he(re,Fe[1]);var Te=ue(re,Fe[0]);if(2!=Te.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+Te.length;if("2a864886f70d01050d"!=he(re,Te[0]))throw"this only supports pkcs5PBES2";var C=ue(re,Te[1]);if(2!=Te.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+C.length;var l=ue(re,C[1]);if(2!=l.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+l.length;if("2a864886f70d0307"!=he(re,l[0]))throw"this only supports TripleDES";_e.encryptionSchemeAlg="TripleDES",_e.encryptionSchemeIV=he(re,l[1]);var h=ue(re,C[0]);if(2!=h.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+h.length;if("2a864886f70d01050c"!=he(re,h[0]))throw"this only supports pkcs5PBKDF2";var _=ue(re,h[1]);if(_.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+_.length;_e.pbkdf2Salt=he(re,_[0]);var R=he(re,_[1]);try{_e.pbkdf2Iter=parseInt(R,16)}catch(X){throw"malformed format pbkdf2Iter: "+R}return _e},getPBKDF2KeyHexFromParam:function(re,ie){var ue=ge.enc.Hex.parse(re.pbkdf2Salt),_e=ge.PBKDF2(ie,ue,{keySize:6,iterations:re.pbkdf2Iter});return ge.enc.Hex.stringify(_e)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(re,ie){var ue=gn(re,"ENCRYPTED PRIVATE KEY"),he=this.parseHexOfEncryptedPKCS8(ue),_e=qt.getPBKDF2KeyHexFromParam(he,ie),Fe={};Fe.ciphertext=ge.enc.Hex.parse(he.ciphertext);var Te=ge.enc.Hex.parse(_e),C=ge.enc.Hex.parse(he.encryptionSchemeIV),l=ge.TripleDES.decrypt(Fe,Te,{iv:C});return ge.enc.Hex.stringify(l)},getKeyFromEncryptedPKCS8PEM:function(re,ie){var ue=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(re,ie);return this.getKeyFromPlainPrivatePKCS8Hex(ue)},parsePlainPrivatePKCS8Hex:function(re){var ie=We,ue=ie.getChildIdx,he=ie.getV,_e={algparam:null};if("30"!=re.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var Fe=ue(re,0);if(3!=Fe.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=re.substr(Fe[1],2))throw"malformed PKCS8 private key(code:003)";var Te=ue(re,Fe[1]);if(2!=Te.length)throw"malformed PKCS8 private key(code:004)";if("06"!=re.substr(Te[0],2))throw"malformed PKCS8 private key(code:005)";if(_e.algoid=he(re,Te[0]),"06"==re.substr(Te[1],2)&&(_e.algparam=he(re,Te[1])),"04"!=re.substr(Fe[2],2))throw"malformed PKCS8 private key(code:006)";return _e.keyidx=ie.getVidx(re,Fe[2]),_e},getKeyFromPlainPrivatePKCS8PEM:function(re){var ie=gn(re,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(ie)},getKeyFromPlainPrivatePKCS8Hex:function(re){var ie,ue=this.parsePlainPrivatePKCS8Hex(re);if("2a864886f70d010101"==ue.algoid)ie=new ne;else if("2a8648ce380401"==ue.algoid)ie=new $.crypto.DSA;else{if("2a8648ce3d0201"!=ue.algoid)throw"unsupported private key algorithm";ie=new $.crypto.ECDSA}return ie.readPKCS8PrvKeyHex(re),ie},_getKeyFromPublicPKCS8Hex:function(re){var ie,ue=We.getVbyList(re,0,[0,0],"06");if("2a864886f70d010101"===ue)ie=new ne;else if("2a8648ce380401"===ue)ie=new $.crypto.DSA;else{if("2a8648ce3d0201"!==ue)throw"unsupported PKCS#8 public key hex";ie=new $.crypto.ECDSA}return ie.readPKCS8PubKeyHex(re),ie},parsePublicRawRSAKeyHex:function(re){var ue=We.getChildIdx,he=We.getV,_e={};if("30"!=re.substr(0,2))throw"malformed RSA key(code:001)";var Fe=ue(re,0);if(2!=Fe.length)throw"malformed RSA key(code:002)";if("02"!=re.substr(Fe[0],2))throw"malformed RSA key(code:003)";if(_e.n=he(re,Fe[0]),"02"!=re.substr(Fe[1],2))throw"malformed RSA key(code:004)";return _e.e=he(re,Fe[1]),_e},parsePublicPKCS8Hex:function(re){var ie=We,ue=ie.getChildIdx,he=ie.getV,_e={algparam:null},Fe=ue(re,0);if(2!=Fe.length)throw"outer DERSequence shall have 2 elements: "+Fe.length;var Te=Fe[0];if("30"!=re.substr(Te,2))throw"malformed PKCS8 public key(code:001)";var C=ue(re,Te);if(2!=C.length)throw"malformed PKCS8 public key(code:002)";if("06"!=re.substr(C[0],2))throw"malformed PKCS8 public key(code:003)";if(_e.algoid=he(re,C[0]),"06"==re.substr(C[1],2)?_e.algparam=he(re,C[1]):"30"==re.substr(C[1],2)&&(_e.algparam={},_e.algparam.p=ie.getVbyList(re,C[1],[0],"02"),_e.algparam.q=ie.getVbyList(re,C[1],[1],"02"),_e.algparam.g=ie.getVbyList(re,C[1],[2],"02")),"03"!=re.substr(Fe[1],2))throw"malformed PKCS8 public key(code:004)";return _e.key=he(re,Fe[1]).substr(2),_e}}}();qt.getKey=function(a,o,c){var tn,p=(C=We).getChildIdx,E=C.getVbyList,O=$.crypto,z=O.ECDSA,se=O.DSA,ee=ne,re=gn,ie=qt;if(void 0!==ee&&a instanceof ee||void 0!==z&&a instanceof z||void 0!==se&&a instanceof se)return a;if(void 0!==a.curve&&void 0!==a.xy&&void 0===a.d)return new z({pub:a.xy,curve:a.curve});if(void 0!==a.curve&&void 0!==a.d)return new z({prv:a.d,curve:a.curve});if(void 0===a.kty&&void 0!==a.n&&void 0!==a.e&&void 0===a.d)return(st=new ee).setPublic(a.n,a.e),st;if(void 0===a.kty&&void 0!==a.n&&void 0!==a.e&&void 0!==a.d&&void 0!==a.p&&void 0!==a.q&&void 0!==a.dp&&void 0!==a.dq&&void 0!==a.co&&void 0===a.qi)return(st=new ee).setPrivateEx(a.n,a.e,a.d,a.p,a.q,a.dp,a.dq,a.co),st;if(void 0===a.kty&&void 0!==a.n&&void 0!==a.e&&void 0!==a.d&&void 0===a.p)return(st=new ee).setPrivate(a.n,a.e,a.d),st;if(void 0!==a.p&&void 0!==a.q&&void 0!==a.g&&void 0!==a.y&&void 0===a.x)return(st=new se).setPublic(a.p,a.q,a.g,a.y),st;if(void 0!==a.p&&void 0!==a.q&&void 0!==a.g&&void 0!==a.y&&void 0!==a.x)return(st=new se).setPrivate(a.p,a.q,a.g,a.y,a.x),st;if("RSA"===a.kty&&void 0!==a.n&&void 0!==a.e&&void 0===a.d)return(st=new ee).setPublic(St(a.n),St(a.e)),st;if("RSA"===a.kty&&void 0!==a.n&&void 0!==a.e&&void 0!==a.d&&void 0!==a.p&&void 0!==a.q&&void 0!==a.dp&&void 0!==a.dq&&void 0!==a.qi)return(st=new ee).setPrivateEx(St(a.n),St(a.e),St(a.d),St(a.p),St(a.q),St(a.dp),St(a.dq),St(a.qi)),st;if("RSA"===a.kty&&void 0!==a.n&&void 0!==a.e&&void 0!==a.d)return(st=new ee).setPrivate(St(a.n),St(a.e),St(a.d)),st;if("EC"===a.kty&&void 0!==a.crv&&void 0!==a.x&&void 0!==a.y&&void 0===a.d){var ue=(ze=new z({curve:a.crv})).ecparams.keylen/4,he="04"+("0000000000"+St(a.x)).slice(-ue)+("0000000000"+St(a.y)).slice(-ue);return ze.setPublicKeyHex(he),ze}if("EC"===a.kty&&void 0!==a.crv&&void 0!==a.x&&void 0!==a.y&&void 0!==a.d){ue=(ze=new z({curve:a.crv})).ecparams.keylen/4,he="04"+("0000000000"+St(a.x)).slice(-ue)+("0000000000"+St(a.y)).slice(-ue);var _e=("0000000000"+St(a.d)).slice(-ue);return ze.setPublicKeyHex(he),ze.setPrivateKeyHex(_e),ze}if("pkcs5prv"===c){var Fe,Te=a,C=We;if(9===(Fe=p(Te,0)).length)(st=new ee).readPKCS5PrvKeyHex(Te);else if(6===Fe.length)(st=new se).readPKCS5PrvKeyHex(Te);else{if(!(Fe.length>2&&"04"===Te.substr(Fe[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(st=new z).readPKCS5PrvKeyHex(Te)}return st}if("pkcs8prv"===c)return ie.getKeyFromPlainPrivatePKCS8Hex(a);if("pkcs8pub"===c)return ie._getKeyFromPublicPKCS8Hex(a);if("x509pub"===c)return Jt.getPublicKeyFromCertHex(a);if(-1!=a.indexOf("-END CERTIFICATE-",0)||-1!=a.indexOf("-END X509 CERTIFICATE-",0)||-1!=a.indexOf("-END TRUSTED CERTIFICATE-",0))return Jt.getPublicKeyFromCertPEM(a);if(-1!=a.indexOf("-END PUBLIC KEY-")){var l=gn(a,"PUBLIC KEY");return ie._getKeyFromPublicPKCS8Hex(l)}if(-1!=a.indexOf("-END RSA PRIVATE KEY-")&&-1==a.indexOf("4,ENCRYPTED")){var h=re(a,"RSA PRIVATE KEY");return ie.getKey(h,null,"pkcs5prv")}if(-1!=a.indexOf("-END DSA PRIVATE KEY-")&&-1==a.indexOf("4,ENCRYPTED")){var _=E(tn=re(a,"DSA PRIVATE KEY"),0,[1],"02"),R=E(tn,0,[2],"02"),X=E(tn,0,[3],"02"),le=E(tn,0,[4],"02"),Ae=E(tn,0,[5],"02");return(st=new se).setPrivate(new me(_,16),new me(R,16),new me(X,16),new me(le,16),new me(Ae,16)),st}if(-1!=a.indexOf("-END EC PRIVATE KEY-")&&-1==a.indexOf("4,ENCRYPTED"))return h=re(a,"EC PRIVATE KEY"),ie.getKey(h,null,"pkcs5prv");if(-1!=a.indexOf("-END PRIVATE KEY-"))return ie.getKeyFromPlainPrivatePKCS8PEM(a);if(-1!=a.indexOf("-END RSA PRIVATE KEY-")&&-1!=a.indexOf("4,ENCRYPTED")){var Pe=ie.getDecryptedKeyHex(a,o),Ye=new ne;return Ye.readPKCS5PrvKeyHex(Pe),Ye}if(-1!=a.indexOf("-END EC PRIVATE KEY-")&&-1!=a.indexOf("4,ENCRYPTED")){var ze,st=E(tn=ie.getDecryptedKeyHex(a,o),0,[1],"04"),Gt=E(tn,0,[2,0],"06"),en=E(tn,0,[3,0],"03").substr(2);if(void 0===$.crypto.OID.oidhex2name[Gt])throw"undefined OID(hex) in KJUR.crypto.OID: "+Gt;return(ze=new z({curve:$.crypto.OID.oidhex2name[Gt]})).setPublicKeyHex(en),ze.setPrivateKeyHex(st),ze.isPublic=!1,ze}if(-1!=a.indexOf("-END DSA PRIVATE KEY-")&&-1!=a.indexOf("4,ENCRYPTED"))return _=E(tn=ie.getDecryptedKeyHex(a,o),0,[1],"02"),R=E(tn,0,[2],"02"),X=E(tn,0,[3],"02"),le=E(tn,0,[4],"02"),Ae=E(tn,0,[5],"02"),(st=new se).setPrivate(new me(_,16),new me(R,16),new me(X,16),new me(le,16),new me(Ae,16)),st;if(-1!=a.indexOf("-END ENCRYPTED PRIVATE KEY-"))return ie.getKeyFromEncryptedPKCS8PEM(a,o);throw new Error("not supported argument")},qt.generateKeypair=function(a,o){if("RSA"==a){var c=o;(z=new ne).generate(c,"10001"),z.isPrivate=!0,z.isPublic=!0;var p=new ne,E=z.n.toString(16),O=z.e.toString(16);return p.setPublic(E,O),p.isPrivate=!1,p.isPublic=!0,(se={}).prvKeyObj=z,se.pubKeyObj=p,se}if("EC"==a){var z,se,ee=o,re=new $.crypto.ECDSA({curve:ee}).generateKeyPairHex();return(z=new $.crypto.ECDSA({curve:ee})).setPublicKeyHex(re.ecpubhex),z.setPrivateKeyHex(re.ecprvhex),z.isPrivate=!0,z.isPublic=!1,(p=new $.crypto.ECDSA({curve:ee})).setPublicKeyHex(re.ecpubhex),p.isPrivate=!1,p.isPublic=!0,(se={}).prvKeyObj=z,se.pubKeyObj=p,se}throw"unknown algorithm: "+a},qt.getPEM=function(a,o,c,p,E,O){var se=$.asn1,ee=se.DERObjectIdentifier,re=se.DERInteger,ie=se.ASN1Util.newObject,he=$.crypto,_e=he.DSA,Fe=he.ECDSA,Te=ne;function C(ze){return ie({seq:[{int:0},{int:{bigint:ze.n}},{int:ze.e},{int:{bigint:ze.d}},{int:{bigint:ze.p}},{int:{bigint:ze.q}},{int:{bigint:ze.dmp1}},{int:{bigint:ze.dmq1}},{int:{bigint:ze.coeff}}]})}function l(ze){return ie({seq:[{int:1},{octstr:{hex:ze.prvKeyHex}},{tag:["a0",!0,{oid:{name:ze.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+ze.pubKeyHex}}]}]})}function h(ze){return ie({seq:[{int:0},{int:{bigint:ze.p}},{int:{bigint:ze.q}},{int:{bigint:ze.g}},{int:{bigint:ze.y}},{int:{bigint:ze.x}}]})}if((void 0!==Te&&a instanceof Te||void 0!==_e&&a instanceof _e||void 0!==Fe&&a instanceof Fe)&&1==a.isPublic&&(void 0===o||"PKCS8PUB"==o))return vn(le=new(0,se.x509.SubjectPublicKeyInfo)(a).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==o&&void 0!==Te&&a instanceof Te&&(void 0===c||null==c)&&1==a.isPrivate)return vn(le=C(a).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==o&&void 0!==Fe&&a instanceof Fe&&(void 0===c||null==c)&&1==a.isPrivate){var _=new ee({name:a.curveName}).getEncodedHex(),R=l(a).getEncodedHex(),X="";return(X+=vn(_,"EC PARAMETERS"))+vn(R,"EC PRIVATE KEY")}if("PKCS1PRV"==o&&void 0!==_e&&a instanceof _e&&(void 0===c||null==c)&&1==a.isPrivate)return vn(le=h(a).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==o&&void 0!==Te&&a instanceof Te&&void 0!==c&&null!=c&&1==a.isPrivate){var le=C(a).getEncodedHex();return void 0===p&&(p="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",le,c,p,O)}if("PKCS5PRV"==o&&void 0!==Fe&&a instanceof Fe&&void 0!==c&&null!=c&&1==a.isPrivate)return le=l(a).getEncodedHex(),void 0===p&&(p="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",le,c,p,O);if("PKCS5PRV"==o&&void 0!==_e&&a instanceof _e&&void 0!==c&&null!=c&&1==a.isPrivate)return le=h(a).getEncodedHex(),void 0===p&&(p="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",le,c,p,O);var Ae=function(st,Gt){var en=Pe(st,Gt);return new ie({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:en.pbkdf2Salt}},{int:en.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:en.encryptionSchemeIV}}]}]}]},{octstr:{hex:en.ciphertext}}]}).getEncodedHex()},Pe=function(st,Gt){var en=ge.lib.WordArray.random(8),tn=ge.lib.WordArray.random(8),Xn=ge.PBKDF2(Gt,en,{keySize:6,iterations:100}),Dn=ge.enc.Hex.parse(st),Gn=ge.TripleDES.encrypt(Dn,Xn,{iv:tn})+"",bn={};return bn.ciphertext=Gn,bn.pbkdf2Salt=ge.enc.Hex.stringify(en),bn.pbkdf2Iter=100,bn.encryptionSchemeAlg="DES-EDE3-CBC",bn.encryptionSchemeIV=ge.enc.Hex.stringify(tn),bn};if("PKCS8PRV"==o&&null!=Te&&a instanceof Te&&1==a.isPrivate){var Ye=C(a).getEncodedHex();return le=ie({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Ye}}]}).getEncodedHex(),void 0===c||null==c?vn(le,"PRIVATE KEY"):vn(R=Ae(le,c),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==o&&void 0!==Fe&&a instanceof Fe&&1==a.isPrivate)return Ye=new ie({seq:[{int:1},{octstr:{hex:a.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+a.pubKeyHex}}]}]}).getEncodedHex(),le=ie({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:a.curveName}}]},{octstr:{hex:Ye}}]}).getEncodedHex(),void 0===c||null==c?vn(le,"PRIVATE KEY"):vn(R=Ae(le,c),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==o&&void 0!==_e&&a instanceof _e&&1==a.isPrivate)return Ye=new re({bigint:a.x}).getEncodedHex(),le=ie({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:a.p}},{int:{bigint:a.q}},{int:{bigint:a.g}}]}]},{octstr:{hex:Ye}}]}).getEncodedHex(),void 0===c||null==c?vn(le,"PRIVATE KEY"):vn(R=Ae(le,c),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},qt.getKeyFromCSRPEM=function(a){var o=gn(a,"CERTIFICATE REQUEST");return qt.getKeyFromCSRHex(o)},qt.getKeyFromCSRHex=function(a){var o=qt.parseCSRHex(a);return qt.getKey(o.p8pubkeyhex,null,"pkcs8pub")},qt.parseCSRHex=function(a){var c=We.getChildIdx,p=We.getTLV,E={},O=a;if("30"!=O.substr(0,2))throw"malformed CSR(code:001)";var z=c(O,0);if(z.length<1)throw"malformed CSR(code:002)";if("30"!=O.substr(z[0],2))throw"malformed CSR(code:003)";var se=c(O,z[0]);if(se.length<3)throw"malformed CSR(code:004)";return E.p8pubkeyhex=p(O,se[2]),E},qt.getKeyID=function(a){var o=qt,c=We;"string"==typeof a&&-1!=a.indexOf("BEGIN ")&&(a=o.getKey(a));var p=gn(o.getPEM(a)),E=c.getIdxbyList(p,0,[1]),O=c.getV(p,E).substring(2);return $.crypto.Util.hashHex(O,"sha1")},qt.getJWKFromKey=function(a){var o={};if(a instanceof ne&&a.isPrivate)return o.kty="RSA",o.n=He(a.n.toString(16)),o.e=He(a.e.toString(16)),o.d=He(a.d.toString(16)),o.p=He(a.p.toString(16)),o.q=He(a.q.toString(16)),o.dp=He(a.dmp1.toString(16)),o.dq=He(a.dmq1.toString(16)),o.qi=He(a.coeff.toString(16)),o;if(a instanceof ne&&a.isPublic)return o.kty="RSA",o.n=He(a.n.toString(16)),o.e=He(a.e.toString(16)),o;if(a instanceof $.crypto.ECDSA&&a.isPrivate){if("P-256"!==(p=a.getShortNISTPCurveName())&&"P-384"!==p)throw"unsupported curve name for JWT: "+p;var c=a.getPublicKeyXYHex();return o.kty="EC",o.crv=p,o.x=He(c.x),o.y=He(c.y),o.d=He(a.prvKeyHex),o}if(a instanceof $.crypto.ECDSA&&a.isPublic){var p;if("P-256"!==(p=a.getShortNISTPCurveName())&&"P-384"!==p)throw"unsupported curve name for JWT: "+p;return c=a.getPublicKeyXYHex(),o.kty="EC",o.crv=p,o.x=He(c.x),o.y=He(c.y),o}throw"not supported key object"},ne.getPosArrayOfChildrenFromHex=function(a){return We.getChildIdx(a,0)},ne.getHexValueArrayOfChildrenFromHex=function(a){var o,c=We.getV,p=c(a,(o=ne.getPosArrayOfChildrenFromHex(a))[0]),E=c(a,o[1]),O=c(a,o[2]),z=c(a,o[3]),se=c(a,o[4]),ee=c(a,o[5]),re=c(a,o[6]),ie=c(a,o[7]),ue=c(a,o[8]);return(o=new Array).push(p,E,O,z,se,ee,re,ie,ue),o},ne.prototype.readPrivateKeyFromPEMString=function(a){var o=gn(a),c=ne.getHexValueArrayOfChildrenFromHex(o);this.setPrivateEx(c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8])},ne.prototype.readPKCS5PrvKeyHex=function(a){var o=ne.getHexValueArrayOfChildrenFromHex(a);this.setPrivateEx(o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8])},ne.prototype.readPKCS8PrvKeyHex=function(a){var o,c,p,E,O,z,se,ee,ie=We.getVbyListEx;if(!1===We.isASN1HEX(a))throw new Error("not ASN.1 hex string");try{o=ie(a,0,[2,0,1],"02"),c=ie(a,0,[2,0,2],"02"),p=ie(a,0,[2,0,3],"02"),E=ie(a,0,[2,0,4],"02"),O=ie(a,0,[2,0,5],"02"),z=ie(a,0,[2,0,6],"02"),se=ie(a,0,[2,0,7],"02"),ee=ie(a,0,[2,0,8],"02")}catch(ue){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(o,c,p,E,O,z,se,ee)},ne.prototype.readPKCS5PubKeyHex=function(a){var o=We,c=o.getV;if(!1===o.isASN1HEX(a))throw new Error("keyHex is not ASN.1 hex string");var p=o.getChildIdx(a,0);if(2!==p.length||"02"!==a.substr(p[0],2)||"02"!==a.substr(p[1],2))throw new Error("wrong hex for PKCS#5 public key");var E=c(a,p[0]),O=c(a,p[1]);this.setPublic(E,O)},ne.prototype.readPKCS8PubKeyHex=function(a){var o=We;if(!1===o.isASN1HEX(a))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==o.getTLVbyListEx(a,0,[0,0]))throw new Error("not PKCS8 RSA public key");var c=o.getTLVbyListEx(a,0,[1,0]);this.readPKCS5PubKeyHex(c)},ne.prototype.readCertPubKeyHex=function(a,o){var c,p;(c=new Jt).readCertHex(a),p=c.getPublicKeyHex(),this.readPKCS8PubKeyHex(p)};var fn=new RegExp("[^0-9a-f]","gi");function Pn(a,o){for(var c="",p=o/4-a.length,E=0;E<p;E++)c+="0";return c+a}function Mn(a,o,c){for(var p="",E=0;p.length<o;)p+=_t(c(An(a+String.fromCharCode.apply(String,[(4278190080&E)>>24,(16711680&E)>>16,(65280&E)>>8,255&E])))),E+=1;return p}function ft(a){for(var o in $.crypto.Util.DIGESTINFOHEAD){var c=$.crypto.Util.DIGESTINFOHEAD[o],p=c.length;if(a.substring(0,p)==c)return[o,a.substring(p)]}return[]}function Jt(a){var o,c=We,p=c.getChildIdx,E=c.getV,O=c.getTLV,z=c.getVbyList,se=c.getVbyListEx,ee=c.getTLVbyList,re=c.getTLVbyListEx,ie=c.getIdxbyList,ue=c.getIdxbyListEx,he=c.getVidx,_e=c.oidname,Fe=c.hextooidstr,Te=Jt,C=gn;try{o=$.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(l){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==ee(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return se(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var l=re(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(l)},this.getAlgorithmIdentifierName=function(l){for(var h in o)if(l===o[h])return h;return _e(se(l,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return ee(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return Te.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return ee(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return Te.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var l=z(this.hex,0,[0,4+this.foffset,0]);return l=l.replace(/(..)/g,"%$1"),decodeURIComponent(l)},this.getNotAfter=function(){var l=z(this.hex,0,[0,4+this.foffset,1]);return l=l.replace(/(..)/g,"%$1"),decodeURIComponent(l)},this.getPublicKeyHex=function(){return c.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return ie(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var l=this.getPublicKeyIdx();return ie(this.hex,l,[1,0],"30")},this.getPublicKey=function(){return qt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var l=ee(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(l)},this.getSignatureValueHex=function(){return z(this.hex,0,[2],"03",!0)},this.verifySignature=function(l){var h=this.getSignatureAlgorithmField(),_=this.getSignatureValueHex(),R=ee(this.hex,0,[0],"30"),X=new $.crypto.Signature({alg:h});return X.init(l),X.updateHex(R),X.verify(_)},this.parseExt=function(l){var h,_,R;if(void 0===l){if(3!==this.version)return-1;h=ie(R=this.hex,0,[0,7,0],"30"),_=p(R,h)}else{R=gn(l);var X=ie(R,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=E(R,X))return void(this.aExtInfo=new Array);h=ie(R,0,[0,3,0,1,0],"30"),_=p(R,h),this.hex=R}this.aExtInfo=new Array;for(var le=0;le<_.length;le++){var Ae={critical:!1},Pe=0;3===p(R,_[le]).length&&(Ae.critical=!0,Pe=1),Ae.oid=c.hextooidstr(z(R,_[le],[0],"06"));var Ye=ie(R,_[le],[1+Pe]);Ae.vidx=he(R,Ye),this.aExtInfo.push(Ae)}},this.getExtInfo=function(l){var h=this.aExtInfo,_=l;if(l.match(/^[0-9.]+$/)||(_=$.asn1.x509.OID.name2oid(l)),""!==_)for(var R=0;R<h.length;R++)if(h[R].oid===_)return h[R]},this.getExtBasicConstraints=function(l,h){if(void 0===l&&void 0===h){var _=this.getExtInfo("basicConstraints");if(void 0===_)return;l=O(this.hex,_.vidx),h=_.critical}var R={extname:"basicConstraints"};if(h&&(R.critical=!0),"3000"===l)return R;if("30030101ff"===l)return R.cA=!0,R;if("30060101ff02"===l.substr(0,12)){var X=E(l,10),le=parseInt(X,16);return R.cA=!0,R.pathLen=le,R}throw new Error("hExtV parse error: "+l)},this.getExtKeyUsage=function(l,h){if(void 0===l&&void 0===h){var _=this.getExtInfo("keyUsage");if(void 0===_)return;l=O(this.hex,_.vidx),h=_.critical}var R={extname:"keyUsage"};return h&&(R.critical=!0),R.names=this.getExtKeyUsageString(l).split(","),R},this.getExtKeyUsageBin=function(l){if(void 0===l){var h=this.getExtInfo("keyUsage");if(void 0===h)return"";l=O(this.hex,h.vidx)}if(8!=l.length&&10!=l.length)throw new Error("malformed key usage value: "+l);var _="000000000000000"+parseInt(l.substr(6),16).toString(2);return 8==l.length&&(_=_.slice(-8)),10==l.length&&(_=_.slice(-16)),""==(_=_.replace(/0+$/,""))&&(_="0"),_},this.getExtKeyUsageString=function(l){for(var h=this.getExtKeyUsageBin(l),_=new Array,R=0;R<h.length;R++)"1"==h.substr(R,1)&&_.push(Jt.KEYUSAGE_NAME[R]);return _.join(",")},this.getExtSubjectKeyIdentifier=function(l,h){if(void 0===l&&void 0===h){var _=this.getExtInfo("subjectKeyIdentifier");if(void 0===_)return;l=O(this.hex,_.vidx),h=_.critical}var R={extname:"subjectKeyIdentifier"};h&&(R.critical=!0);var X=E(l,0);return R.kid={hex:X},R},this.getExtAuthorityKeyIdentifier=function(l,h){if(void 0===l&&void 0===h){var _=this.getExtInfo("authorityKeyIdentifier");if(void 0===_)return;l=O(this.hex,_.vidx),h=_.critical}var R={extname:"authorityKeyIdentifier"};h&&(R.critical=!0);for(var X=p(l,0),le=0;le<X.length;le++){var Ae=l.substr(X[le],2);if("80"===Ae&&(R.kid={hex:E(l,X[le])}),"a1"===Ae){var Pe=O(l,X[le]),Ye=this.getGeneralNames(Pe);R.issuer=Ye[0].dn}"82"===Ae&&(R.sn={hex:E(l,X[le])})}return R},this.getExtExtKeyUsage=function(l,h){if(void 0===l&&void 0===h){var _=this.getExtInfo("extKeyUsage");if(void 0===_)return;l=O(this.hex,_.vidx),h=_.critical}var R={extname:"extKeyUsage",array:[]};h&&(R.critical=!0);for(var X=p(l,0),le=0;le<X.length;le++)R.array.push(_e(E(l,X[le])));return R},this.getExtExtKeyUsageName=function(){var l=this.getExtInfo("extKeyUsage");if(void 0===l)return l;var h=new Array,_=O(this.hex,l.vidx);if(""===_)return h;for(var R=p(_,0),X=0;X<R.length;X++)h.push(_e(E(_,R[X])));return h},this.getExtSubjectAltName=function(l,h){if(void 0===l&&void 0===h){var _=this.getExtInfo("subjectAltName");if(void 0===_)return;l=O(this.hex,_.vidx),h=_.critical}var R={extname:"subjectAltName",array:[]};return h&&(R.critical=!0),R.array=this.getGeneralNames(l),R},this.getExtIssuerAltName=function(l,h){if(void 0===l&&void 0===h){var _=this.getExtInfo("issuerAltName");if(void 0===_)return;l=O(this.hex,_.vidx),h=_.critical}var R={extname:"issuerAltName",array:[]};return h&&(R.critical=!0),R.array=this.getGeneralNames(l),R},this.getGeneralNames=function(l){for(var h=p(l,0),_=[],R=0;R<h.length;R++){var X=this.getGeneralName(O(l,h[R]));void 0!==X&&_.push(X)}return _},this.getGeneralName=function(l){var h=l.substr(0,2),_=E(l,0),R=_t(_);return"81"==h?{rfc822:R}:"82"==h?{dns:R}:"86"==h?{uri:R}:"87"==h?{ip:Ar(_)}:"a4"==h?{dn:this.getX500Name(_)}:void 0},this.getExtSubjectAltName2=function(){var l,h,_,R=this.getExtInfo("subjectAltName");if(void 0===R)return R;for(var X=new Array,le=O(this.hex,R.vidx),Ae=p(le,0),Pe=0;Pe<Ae.length;Pe++)_=le.substr(Ae[Pe],2),l=E(le,Ae[Pe]),"81"===_&&(h=zt(l),X.push(["MAIL",h])),"82"===_&&(h=zt(l),X.push(["DNS",h])),"84"===_&&(h=Jt.hex2dn(l,0),X.push(["DN",h])),"86"===_&&(h=zt(l),X.push(["URI",h])),"87"===_&&(h=Ar(l),X.push(["IP",h]));return X},this.getExtCRLDistributionPoints=function(l,h){if(void 0===l&&void 0===h){var _=this.getExtInfo("cRLDistributionPoints");if(void 0===_)return;l=O(this.hex,_.vidx),h=_.critical}var R={extname:"cRLDistributionPoints",array:[]};h&&(R.critical=!0);for(var X=p(l,0),le=0;le<X.length;le++){var Ae=O(l,X[le]);R.array.push(this.getDistributionPoint(Ae))}return R},this.getDistributionPoint=function(l){for(var h={},_=p(l,0),R=0;R<_.length;R++){var X=l.substr(_[R],2),le=O(l,_[R]);"a0"==X&&(h.dpname=this.getDistributionPointName(le))}return h},this.getDistributionPointName=function(l){for(var h={},_=p(l,0),R=0;R<_.length;R++){var X=l.substr(_[R],2),le=O(l,_[R]);"a0"==X&&(h.full=this.getGeneralNames(le))}return h},this.getExtCRLDistributionPointsURI=function(){var l=this.getExtInfo("cRLDistributionPoints");if(void 0===l)return l;for(var h=new Array,_=p(this.hex,l.vidx),R=0;R<_.length;R++)try{var X=zt(z(this.hex,_[R],[0,0,0],"86"));h.push(X)}catch(le){}return h},this.getExtAIAInfo=function(){var l=this.getExtInfo("authorityInfoAccess");if(void 0===l)return l;for(var h={ocsp:[],caissuer:[]},_=p(this.hex,l.vidx),R=0;R<_.length;R++){var X=z(this.hex,_[R],[0],"06"),le=z(this.hex,_[R],[1],"86");"2b06010505073001"===X&&h.ocsp.push(zt(le)),"2b06010505073002"===X&&h.caissuer.push(zt(le))}return h},this.getExtAuthorityInfoAccess=function(l,h){if(void 0===l&&void 0===h){var _=this.getExtInfo("authorityInfoAccess");if(void 0===_)return;l=O(this.hex,_.vidx),h=_.critical}var R={extname:"authorityInfoAccess",array:[]};h&&(R.critical=!0);for(var X=p(l,0),le=0;le<X.length;le++){var Ae=se(l,X[le],[0],"06"),Pe=zt(z(l,X[le],[1],"86"));if("2b06010505073001"==Ae)R.array.push({ocsp:Pe});else{if("2b06010505073002"!=Ae)throw new Error("unknown method: "+Ae);R.array.push({caissuer:Pe})}}return R},this.getExtCertificatePolicies=function(l,h){if(void 0===l&&void 0===h){var _=this.getExtInfo("certificatePolicies");if(void 0===_)return;l=O(this.hex,_.vidx),h=_.critical}var R={extname:"certificatePolicies",array:[]};h&&(R.critical=!0);for(var X=p(l,0),le=0;le<X.length;le++){var Ae=O(l,X[le]),Pe=this.getPolicyInformation(Ae);R.array.push(Pe)}return R},this.getPolicyInformation=function(l){var h={},_=z(l,0,[0],"06");h.policyoid=_e(_);var R=ue(l,0,[1],"30");if(-1!=R){h.array=[];for(var X=p(l,R),le=0;le<X.length;le++){var Ae=O(l,X[le]),Pe=this.getPolicyQualifierInfo(Ae);h.array.push(Pe)}}return h},this.getPolicyQualifierInfo=function(l){var h={},_=z(l,0,[0],"06");if("2b06010505070201"===_){var R=se(l,0,[1],"16");h.cps=_t(R)}else if("2b06010505070202"===_){var X=ee(l,0,[1],"30");h.unotice=this.getUserNotice(X)}return h},this.getUserNotice=function(l){for(var h={},_=p(l,0),R=0;R<_.length;R++){var X=O(l,_[R]);"30"!=X.substr(0,2)&&(h.exptext=this.getDisplayText(X))}return h},this.getDisplayText=function(l){var h={};return h.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[l.substr(0,2)],h.str=_t(E(l,0)),h},this.getExtCRLNumber=function(l,h){var _={extname:"cRLNumber"};if(h&&(_.critical=!0),"02"==l.substr(0,2))return _.num={hex:E(l,0)},_;throw new Error("hExtV parse error: "+l)},this.getExtCRLReason=function(l,h){var _={extname:"cRLReason"};if(h&&(_.critical=!0),"0a"==l.substr(0,2))return _.code=parseInt(E(l,0),16),_;throw new Error("hExtV parse error: "+l)},this.getExtOcspNonce=function(l,h){var _={extname:"ocspNonce"};h&&(_.critical=!0);var R=E(l,0);return _.hex=R,_},this.getExtOcspNoCheck=function(l,h){var _={extname:"ocspNoCheck"};return h&&(_.critical=!0),_},this.getExtAdobeTimeStamp=function(l,h){if(void 0===l&&void 0===h){var _=this.getExtInfo("adobeTimeStamp");if(void 0===_)return;l=O(this.hex,_.vidx),h=_.critical}var R={extname:"adobeTimeStamp"};h&&(R.critical=!0);var X=p(l,0);if(X.length>1){var le=O(l,X[1]),Ae=this.getGeneralName(le);null!=Ae.uri&&(R.uri=Ae.uri)}if(X.length>2){var Pe=O(l,X[2]);"0101ff"==Pe&&(R.reqauth=!0),"010100"==Pe&&(R.reqauth=!1)}return R},this.getX500NameRule=function(l){for(var h=null,_=[],R=0;R<l.length;R++)for(var X=l[R],le=0;le<X.length;le++)_.push(X[le]);for(R=0;R<_.length;R++){var Ae=_[R],Pe=Ae.ds,ze=Ae.type;if("prn"!=Pe&&"utf8"!=Pe&&"ia5"!=Pe)return"mixed";if("ia5"==Pe){if("CN"!=ze)return"mixed";if($.lang.String.isMail(Ae.value))continue;return"mixed"}if("C"==ze){if("prn"==Pe)continue;return"mixed"}if(null==h)h=Pe;else if(h!==Pe)return"mixed"}return null==h?"prn":h},this.getX500Name=function(l){var h=this.getX500NameArray(l);return{array:h,str:this.dnarraytostr(h)}},this.getX500NameArray=function(l){for(var h=[],_=p(l,0),R=0;R<_.length;R++)h.push(this.getRDN(O(l,_[R])));return h},this.getRDN=function(l){for(var h=[],_=p(l,0),R=0;R<_.length;R++)h.push(this.getAttrTypeAndValue(O(l,_[R])));return h},this.getAttrTypeAndValue=function(l){var h={type:null,value:null,ds:null},_=p(l,0),R=z(l,_[0],[],"06"),X=z(l,_[1],[]),le=$.asn1.ASN1Util.oidHexToInt(R);return h.type=$.asn1.x509.OID.oid2atype(le),h.value=_t(X),h.ds=this.HEX2STAG[l.substr(_[1],2)],h},this.readCertPEM=function(l){this.readCertHex(C(l))},this.readCertHex=function(l){this.hex=l,this.getVersion();try{ie(this.hex,0,[0,7],"a3"),this.parseExt()}catch(h){}},this.getParam=function(){var l={};return l.version=this.getVersion(),l.serial={hex:this.getSerialNumberHex()},l.sigalg=this.getSignatureAlgorithmField(),l.issuer=this.getIssuer(),l.notbefore=this.getNotBefore(),l.notafter=this.getNotAfter(),l.subject=this.getSubject(),l.sbjpubkey=vn(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(l.ext=this.getExtParamArray()),l.sighex=this.getSignatureValueHex(),l},this.getExtParamArray=function(l){null==l&&-1!=ue(this.hex,0,[0,"[3]"])&&(l=re(this.hex,0,[0,"[3]",0],"30"));for(var h=[],_=p(l,0),R=0;R<_.length;R++){var X=O(l,_[R]),le=this.getExtParam(X);null!=le&&h.push(le)}return h},this.getExtParam=function(l){var h=p(l,0).length;if(2!=h&&3!=h)throw new Error("wrong number elements in Extension: "+h+" "+l);var _=Fe(z(l,0,[0],"06")),R=!1;3==h&&"0101ff"==ee(l,0,[1])&&(R=!0);var X=ee(l,0,[h-1,0]),le=void 0;if("2.5.29.14"==_?le=this.getExtSubjectKeyIdentifier(X,R):"2.5.29.15"==_?le=this.getExtKeyUsage(X,R):"2.5.29.17"==_?le=this.getExtSubjectAltName(X,R):"2.5.29.18"==_?le=this.getExtIssuerAltName(X,R):"2.5.29.19"==_?le=this.getExtBasicConstraints(X,R):"2.5.29.31"==_?le=this.getExtCRLDistributionPoints(X,R):"2.5.29.32"==_?le=this.getExtCertificatePolicies(X,R):"2.5.29.35"==_?le=this.getExtAuthorityKeyIdentifier(X,R):"2.5.29.37"==_?le=this.getExtExtKeyUsage(X,R):"1.3.6.1.5.5.7.1.1"==_?le=this.getExtAuthorityInfoAccess(X,R):"2.5.29.20"==_?le=this.getExtCRLNumber(X,R):"2.5.29.21"==_?le=this.getExtCRLReason(X,R):"1.3.6.1.5.5.7.48.1.2"==_?le=this.getExtOcspNonce(X,R):"1.3.6.1.5.5.7.48.1.5"==_?le=this.getExtOcspNoCheck(X,R):"1.2.840.113583.1.1.9.1"==_&&(le=this.getExtAdobeTimeStamp(X,R)),null!=le)return le;var Ae={extname:_,extn:X};return R&&(Ae.critical=!0),Ae},this.findExt=function(l,h){for(var _=0;_<l.length;_++)if(l[_].extname==h)return l[_];return null},this.updateExtCDPFullURI=function(l,h){var _=this.findExt(l,"cRLDistributionPoints");if(null!=_&&null!=_.array)for(var R=_.array,X=0;X<R.length;X++)if(null!=R[X].dpname&&null!=R[X].dpname.full)for(var le=R[X].dpname.full,Ae=0;Ae<le.length;Ae++){var Pe=le[X];null!=Pe.uri&&(Pe.uri=h)}},this.updateExtAIAOCSP=function(l,h){var _=this.findExt(l,"authorityInfoAccess");if(null!=_&&null!=_.array)for(var R=_.array,X=0;X<R.length;X++)null!=R[X].ocsp&&(R[X].ocsp=h)},this.updateExtAIACAIssuer=function(l,h){var _=this.findExt(l,"authorityInfoAccess");if(null!=_&&null!=_.array)for(var R=_.array,X=0;X<R.length;X++)null!=R[X].caissuer&&(R[X].caissuer=h)},this.dnarraytostr=function(l){return"/"+l.map(function(h){return h.map(function(X){return(Ae=X).type+"="+Ae.value;var Ae}).join("+")}).join("/")},this.getInfo=function(){var l,h,_,Xn,X=function(Xn){for(var Dn="",Gn=Xn.array,bn=0;bn<Gn.length;bn++){var xn=Gn[bn];if(Dn+="    policy oid: "+xn.policyoid+"\n",void 0!==xn.array)for(var jn=0;jn<xn.array.length;jn++){var On=xn.array[jn];void 0!==On.cps&&(Dn+="    cps: "+On.cps+"\n")}}return Dn},le=function(Xn){for(var Dn="",Gn=Xn.array,bn=0;bn<Gn.length;bn++){var xn=Gn[bn];try{void 0!==xn.dpname.full[0].uri&&(Dn+="    "+xn.dpname.full[0].uri+"\n")}catch(jn){}try{void 0!==xn.dname.full[0].dn.hex&&(Dn+="    "+Jt.hex2dn(xn.dpname.full[0].dn.hex)+"\n")}catch(jn){}}return Dn},Ae=function(Xn){for(var Dn="",Gn=Xn.array,bn=0;bn<Gn.length;bn++){var xn=Gn[bn];void 0!==xn.caissuer&&(Dn+="    caissuer: "+xn.caissuer+"\n"),void 0!==xn.ocsp&&(Dn+="    ocsp: "+xn.ocsp+"\n")}return Dn};if(l="Basic Fields\n",l+="  serial number: "+this.getSerialNumberHex()+"\n",l+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",l+="  issuer: "+this.getIssuerString()+"\n",l+="  notBefore: "+this.getNotBefore()+"\n",l+="  notAfter: "+this.getNotAfter()+"\n",l+="  subject: "+this.getSubjectString()+"\n",l+="  subject public key info: \n",l+="    key algorithm: "+(h=this.getPublicKey()).type+"\n","RSA"===h.type&&(l+="    n="+Wn(h.n.toString(16)).substr(0,16)+"...\n",l+="    e="+Wn(h.e.toString(16))+"\n"),null!=(_=this.aExtInfo)){l+="X509v3 Extensions:\n";for(var Pe=0;Pe<_.length;Pe++){var Ye=_[Pe],ze=$.asn1.x509.OID.oid2name(Ye.oid);""===ze&&(ze=Ye.oid);var st="";if(!0===Ye.critical&&(st="CRITICAL"),l+="  "+ze+" "+st+":\n","basicConstraints"===ze){var Gt=this.getExtBasicConstraints();void 0===Gt.cA?l+="    {}\n":(l+="    cA=true",void 0!==Gt.pathLen&&(l+=", pathLen="+Gt.pathLen),l+="\n")}else if("keyUsage"===ze)l+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===ze)l+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===ze){var en=this.getExtAuthorityKeyIdentifier();void 0!==en.kid&&(l+="    kid="+en.kid.hex+"\n")}else"extKeyUsage"===ze?l+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===ze?l+="    "+(Xn=this.getExtSubjectAltName(),JSON.stringify(Xn.array).replace(/[\[\]\{\}\"]/g,"")+"\n"):"cRLDistributionPoints"===ze?l+=le(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===ze?l+=Ae(this.getExtAuthorityInfoAccess()):"certificatePolicies"===ze&&(l+=X(this.getExtCertificatePolicies()))}}return(l+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof a&&(-1!=a.indexOf("-----BEGIN")?this.readCertPEM(a):$.lang.String.isHex(a)&&this.readCertHex(a))}ne.prototype.sign=function(a,o){var c=function(E){return $.crypto.Util.hashString(E,o)}(a);return this.signWithMessageHash(c,o)},ne.prototype.signWithMessageHash=function(a,o){var c=Ht($.crypto.Util.getPaddedDigestInfoHex(a,o,this.n.bitLength()),16);return Pn(this.doPrivate(c).toString(16),this.n.bitLength())},ne.prototype.signPSS=function(a,o,c){var O,p=(O=An(a),$.crypto.Util.hashHex(O,o));return void 0===c&&(c=-1),this.signWithMessageHashPSS(p,o,c)},ne.prototype.signWithMessageHashPSS=function(a,o,c){var p,E=_t(a),O=E.length,z=this.n.bitLength()-1,se=Math.ceil(z/8),ee=function(l){return $.crypto.Util.hashHex(l,o)};if(-1===c||void 0===c)c=O;else if(-2===c)c=se-O-2;else if(c<-2)throw new Error("invalid salt length");if(se<O+c+2)throw new Error("data too long");var re="";c>0&&(re=new Array(c),(new Wt).nextBytes(re),re=String.fromCharCode.apply(String,re));var ie=_t(ee(An("\0\0\0\0\0\0\0\0"+E+re))),ue=[];for(p=0;p<se-c-O-2;p+=1)ue[p]=0;var he=String.fromCharCode.apply(String,ue)+"\x01"+re,_e=Mn(ie,he.length,ee),Fe=[];for(p=0;p<he.length;p+=1)Fe[p]=he.charCodeAt(p)^_e.charCodeAt(p);for(Fe[0]&=~(65280>>8*se-z&255),p=0;p<O;p++)Fe.push(ie.charCodeAt(p));return Fe.push(188),Pn(this.doPrivate(new me(Fe)).toString(16),this.n.bitLength())},ne.prototype.verify=function(a,o){var c=Ht(o=(o=o.replace(fn,"")).replace(/[ \n]+/g,""),16);if(c.bitLength()>this.n.bitLength())return 0;var p=ft(this.doPublic(c).toString(16).replace(/^1f+00/,""));return 0!=p.length&&p[1]==$.crypto.Util.hashString(a,p[0])},ne.prototype.verifyWithMessageHash=function(a,o){if(o.length!=Math.ceil(this.n.bitLength()/4))return!1;var c=Ht(o,16);if(c.bitLength()>this.n.bitLength())return 0;var p=ft(this.doPublic(c).toString(16).replace(/^1f+00/,""));return 0!=p.length&&p[1]==a},ne.prototype.verifyPSS=function(a,o,c,p){var z,E=(z=An(a),$.crypto.Util.hashHex(z,c));return void 0===p&&(p=-1),this.verifyWithMessageHashPSS(E,o,c,p)},ne.prototype.verifyWithMessageHashPSS=function(a,o,c,p){if(o.length!=Math.ceil(this.n.bitLength()/4))return!1;var E,O=new me(o,16),z=function(_){return $.crypto.Util.hashHex(_,c)},se=_t(a),ee=se.length,re=this.n.bitLength()-1,ie=Math.ceil(re/8);if(-1===p||void 0===p)p=ee;else if(-2===p)p=ie-ee-2;else if(p<-2)throw new Error("invalid salt length");if(ie<ee+p+2)throw new Error("data too long");var ue=this.doPublic(O).toByteArray();for(E=0;E<ue.length;E+=1)ue[E]&=255;for(;ue.length<ie;)ue.unshift(0);if(188!==ue[ie-1])throw new Error("encoded message does not end in 0xbc");var he=(ue=String.fromCharCode.apply(String,ue)).substr(0,ie-ee-1),_e=ue.substr(he.length,ee),Fe=65280>>8*ie-re&255;if(0!=(he.charCodeAt(0)&Fe))throw new Error("bits beyond keysize not zero");var Te=Mn(_e,he.length,z),C=[];for(E=0;E<he.length;E+=1)C[E]=he.charCodeAt(E)^Te.charCodeAt(E);C[0]&=~Fe;var l=ie-ee-p-2;for(E=0;E<l;E+=1)if(0!==C[E])throw new Error("leftmost octets not zero");if(1!==C[l])throw new Error("0x01 marker not found");return _e===_t(z(An("\0\0\0\0\0\0\0\0"+se+String.fromCharCode.apply(String,C.slice(-p)))))},ne.SALT_LEN_HLEN=-1,ne.SALT_LEN_MAX=-2,ne.SALT_LEN_RECOVER=-2,Jt.hex2dn=function(a,o){if(void 0===o&&(o=0),"30"!==a.substr(o,2))throw new Error("malformed DN");for(var c=new Array,p=We.getChildIdx(a,o),E=0;E<p.length;E++)c.push(Jt.hex2rdn(a,p[E]));return"/"+(c=c.map(function(O){return O.replace("/","\\/")})).join("/")},Jt.hex2rdn=function(a,o){if(void 0===o&&(o=0),"31"!==a.substr(o,2))throw new Error("malformed RDN");for(var c=new Array,p=We.getChildIdx(a,o),E=0;E<p.length;E++)c.push(Jt.hex2attrTypeValue(a,p[E]));return(c=c.map(function(O){return O.replace("+","\\+")})).join("+")},Jt.hex2attrTypeValue=function(a,o){var c=We,p=c.getV;if(void 0===o&&(o=0),"30"!==a.substr(o,2))throw new Error("malformed attribute type and value");var E=c.getChildIdx(a,o);2!==E.length||a.substr(E[0],2);var O=p(a,E[0]),z=$.asn1.ASN1Util.oidHexToInt(O);return $.asn1.x509.OID.oid2atype(z)+"="+_t(p(a,E[1]))},Jt.getPublicKeyFromCertHex=function(a){var o=new Jt;return o.readCertHex(a),o.getPublicKey()},Jt.getPublicKeyFromCertPEM=function(a){var o=new Jt;return o.readCertPEM(a),o.getPublicKey()},Jt.getPublicKeyInfoPropOfCertPEM=function(a){var o,c,p=We.getVbyList,E={algparam:null};return(o=new Jt).readCertPEM(a),c=o.getPublicKeyHex(),E.keyhex=p(c,0,[1],"03").substr(2),E.algoid=p(c,0,[0,0],"06"),"2a8648ce3d0201"===E.algoid&&(E.algparam=p(c,0,[0,1],"06")),E},Jt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==$&&$||(b.KJUR=$={}),void 0!==$.jws&&$.jws||($.jws={}),$.jws.JWS=function(){var a=$.jws.JWS.isSafeJSONString;this.parseJWS=function(o,c){if(void 0===this.parsedJWS||!c&&void 0===this.parsedJWS.sigvalH){var p=o.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==p)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var E=p[1],O=p[2],z=p[3],se=E+"."+O;if(this.parsedJWS={},this.parsedJWS.headB64U=E,this.parsedJWS.payloadB64U=O,this.parsedJWS.sigvalB64U=z,this.parsedJWS.si=se,!c){var ee=St(z),re=Ht(ee,16);this.parsedJWS.sigvalH=ee,this.parsedJWS.sigvalBI=re}var ie=rt(E),ue=rt(O);if(this.parsedJWS.headS=ie,this.parsedJWS.payloadS=ue,!a(ie,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+ie}}},$.jws.JWS.sign=function(a,o,c,p,E){var O,z,se,re=$.jws.JWS,ie=re.readSafeJSONString,ue=re.isSafeJSONString,he=$.crypto,_e=he.Mac,Fe=he.Signature,Te=JSON;if("string"!=typeof o&&"object"!=(void 0===o?"undefined":P(o)))throw"spHeader must be JSON string or object: "+o;if("object"==(void 0===o?"undefined":P(o))&&(O=Te.stringify(z=o)),"string"==typeof o){if(!ue(O=o))throw"JWS Head is not safe JSON string: "+O;z=ie(O)}if(se=c,"object"==(void 0===c?"undefined":P(c))&&(se=Te.stringify(c)),""!=a&&null!=a||void 0===z.alg||(a=z.alg),""!=a&&null!=a&&void 0===z.alg&&(z.alg=a,O=Te.stringify(z)),a!==z.alg)throw"alg and sHeader.alg doesn't match: "+a+"!="+z.alg;var C=null;if(void 0===re.jwsalg2sigalg[a])throw"unsupported alg name: "+a;C=re.jwsalg2sigalg[a];var l=Qe(O)+"."+Qe(se),h="";if("Hmac"==C.substr(0,4)){if(void 0===p)throw"mac key shall be specified for HS* alg";var _=new _e({alg:C,prov:"cryptojs",pass:p});_.updateString(l),h=_.doFinal()}else if(-1!=C.indexOf("withECDSA")){(X=new Fe({alg:C})).init(p,E),X.updateString(l);var R=X.sign();h=$.crypto.ECDSA.asn1SigToConcatSig(R)}else{var X;"none"!=C&&((X=new Fe({alg:C})).init(p,E),X.updateString(l),h=X.sign())}return l+"."+He(h)},$.jws.JWS.verify=function(a,o,c){var p,O=$.jws.JWS,z=O.readSafeJSONString,se=$.crypto,ee=se.ECDSA,re=se.Mac,ie=se.Signature;void 0!==P(ne)&&(p=ne);var ue=a.split(".");if(3!==ue.length)return!1;var C,he=ue[0]+"."+ue[1],_e=St(ue[2]),Fe=z(rt(ue[0])),Te=null;if(void 0===Fe.alg)throw"algorithm not specified in header";if(C=(Te=Fe.alg).substr(0,2),null!=c&&"[object Array]"===Object.prototype.toString.call(c)&&c.length>0&&-1==(":"+c.join(":")+":").indexOf(":"+Te+":"))throw"algorithm '"+Te+"' not accepted in the list";if("none"!=Te&&null===o)throw"key shall be specified to verify.";if("string"==typeof o&&-1!=o.indexOf("-----BEGIN ")&&(o=qt.getKey(o)),!("RS"!=C&&"PS"!=C||o instanceof p))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==C&&!(o instanceof ee))throw"key shall be a ECDSA obj for ES* algs";var l=null;if(void 0===O.jwsalg2sigalg[Fe.alg])throw"unsupported alg name: "+Te;if("none"==(l=O.jwsalg2sigalg[Te]))throw"not supported";if("Hmac"==l.substr(0,4)){if(void 0===o)throw"hexadecimal key shall be specified for HMAC";var h=new re({alg:l,pass:o});return h.updateString(he),_e==h.doFinal()}if(-1!=l.indexOf("withECDSA")){var _,R=null;try{R=ee.concatSigToASN1Sig(_e)}catch(X){return!1}return(_=new ie({alg:l})).init(o),_.updateString(he),_.verify(R)}return(_=new ie({alg:l})).init(o),_.updateString(he),_.verify(_e)},$.jws.JWS.parse=function(a){var c,p,E=a.split("."),O={};if(2!=E.length&&3!=E.length)throw"malformed sJWS: wrong number of '.' splitted elements";return c=E[1],3==E.length&&(p=E[2]),O.headerObj=$.jws.JWS.readSafeJSONString(rt(E[0])),O.payloadObj=$.jws.JWS.readSafeJSONString(rt(c)),O.headerPP=JSON.stringify(O.headerObj,null,"  "),O.payloadPP=null==O.payloadObj?rt(c):JSON.stringify(O.payloadObj,null,"  "),void 0!==p&&(O.sigHex=St(p)),O},$.jws.JWS.verifyJWT=function(a,o,c){var p=$.jws,E=p.JWS,O=E.readSafeJSONString,z=E.inArray,se=E.includedArray,ee=a.split("."),re=ee[0],ie=ee[1],ue=(St(ee[2]),O(rt(re))),he=O(rt(ie));if(void 0===ue.alg)return!1;if(void 0===c.alg)throw"acceptField.alg shall be specified";if(!z(ue.alg,c.alg)||void 0!==he.iss&&"object"===P(c.iss)&&!z(he.iss,c.iss)||void 0!==he.sub&&"object"===P(c.sub)&&!z(he.sub,c.sub))return!1;if(void 0!==he.aud&&"object"===P(c.aud))if("string"==typeof he.aud){if(!z(he.aud,c.aud))return!1}else if("object"==P(he.aud)&&!se(he.aud,c.aud))return!1;var _e=p.IntDate.getNow();return void 0!==c.verifyAt&&"number"==typeof c.verifyAt&&(_e=c.verifyAt),void 0!==c.gracePeriod&&"number"==typeof c.gracePeriod||(c.gracePeriod=0),!(void 0!==he.exp&&"number"==typeof he.exp&&he.exp+c.gracePeriod<_e||void 0!==he.nbf&&"number"==typeof he.nbf&&_e<he.nbf-c.gracePeriod||void 0!==he.iat&&"number"==typeof he.iat&&_e<he.iat-c.gracePeriod||void 0!==he.jti&&void 0!==c.jti&&he.jti!==c.jti||!E.verify(a,o,c.alg))},$.jws.JWS.includedArray=function(a,o){var c=$.jws.JWS.inArray;if(null===a||"object"!==(void 0===a?"undefined":P(a))||"number"!=typeof a.length)return!1;for(var p=0;p<a.length;p++)if(!c(a[p],o))return!1;return!0},$.jws.JWS.inArray=function(a,o){if(null===o||"object"!==(void 0===o?"undefined":P(o))||"number"!=typeof o.length)return!1;for(var c=0;c<o.length;c++)if(o[c]==a)return!0;return!1},$.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},$.jws.JWS.isSafeJSONString=function(a,o,c){var p=null;try{return"object"!=(void 0===(p=tt(a))?"undefined":P(p))||p.constructor===Array?0:(o&&(o[c]=p),1)}catch(E){return 0}},$.jws.JWS.readSafeJSONString=function(a){var o=null;try{return"object"!=(void 0===(o=tt(a))?"undefined":P(o))||o.constructor===Array?null:o}catch(c){return null}},$.jws.JWS.getEncodedSignatureValueFromJWS=function(a){var o=a.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==o)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return o[1]},$.jws.JWS.getJWKthumbprint=function(a){if("RSA"!==a.kty&&"EC"!==a.kty&&"oct"!==a.kty)throw"unsupported algorithm for JWK Thumprint";var o="{";if("RSA"===a.kty){if("string"!=typeof a.n||"string"!=typeof a.e)throw"wrong n and e value for RSA key";o+='"e":"'+a.e+'",',o+='"kty":"'+a.kty+'",',o+='"n":"'+a.n+'"}'}else if("EC"===a.kty){if("string"!=typeof a.crv||"string"!=typeof a.x||"string"!=typeof a.y)throw"wrong crv, x and y value for EC key";o+='"crv":"'+a.crv+'",',o+='"kty":"'+a.kty+'",',o+='"x":"'+a.x+'",',o+='"y":"'+a.y+'"}'}else if("oct"===a.kty){if("string"!=typeof a.k)throw"wrong k value for oct(symmetric) key";o+='"kty":"'+a.kty+'",',o+='"k":"'+a.k+'"}'}var c=An(o);return He($.crypto.Util.hashHex(c,"sha256"))},$.jws.IntDate={},$.jws.IntDate.get=function(a){var o=$.jws.IntDate,c=o.getNow,p=o.getZulu;if("now"==a)return c();if("now + 1hour"==a)return c()+3600;if("now + 1day"==a)return c()+86400;if("now + 1month"==a)return c()+2592e3;if("now + 1year"==a)return c()+31536e3;if(a.match(/Z$/))return p(a);if(a.match(/^[0-9]+$/))return parseInt(a);throw"unsupported format: "+a},$.jws.IntDate.getZulu=function(a){return $r(a)},$.jws.IntDate.getNow=function(){return~~(new Date/1e3)},$.jws.IntDate.intDate2UTCString=function(a){return new Date(1e3*a).toUTCString()},$.jws.IntDate.intDate2Zulu=function(a){var o=new Date(1e3*a);return("0000"+o.getUTCFullYear()).slice(-4)+("00"+(o.getUTCMonth()+1)).slice(-2)+("00"+o.getUTCDate()).slice(-2)+("00"+o.getUTCHours()).slice(-2)+("00"+o.getUTCMinutes()).slice(-2)+("00"+o.getUTCSeconds()).slice(-2)+"Z"},b.SecureRandom=Wt,b.rng_seed_time=Me,b.BigInteger=me,b.RSAKey=ne,b.EDSA=$.crypto.EDSA,b.DSA=$.crypto.DSA,b.Signature=$.crypto.Signature,b.MessageDigest=$.crypto.MessageDigest,b.Mac=$.crypto.Mac,b.Cipher=$.crypto.Cipher,b.KEYUTIL=qt,b.ASN1HEX=We,b.X509=Jt,b.CryptoJS=ge,b.b64tohex=Be,b.b64toBA=Le,b.stoBA=pn,b.BAtos=jt,b.BAtohex=on,b.stohex=Ct,b.stob64=function(o){return Ue(Ct(o))},b.stob64u=function(o){return Et(Ue(Ct(o)))},b.b64utos=function(o){return jt(Le(Tn(o)))},b.b64tob64u=Et,b.b64utob64=Tn,b.hex2b64=Ue,b.hextob64u=He,b.b64utohex=St,b.utf8tob64u=Qe,b.b64utoutf8=rt,b.utf8tob64=function(o){return Ue(Zt(sr(o)))},b.b64toutf8=function(o){return decodeURIComponent(Un(Be(o)))},b.utf8tohex=En,b.hextoutf8=zt,b.hextorstr=_t,b.rstrtohex=An,b.hextob64=ir,b.hextob64nl=yr,b.b64nltohex=yn,b.hextopem=vn,b.pemtohex=gn,b.hextoArrayBuffer=function(o){if(o.length%2!=0)throw"input is not even length";if(null==o.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var c=new ArrayBuffer(o.length/2),p=new DataView(c),E=0;E<o.length/2;E++)p.setUint8(E,parseInt(o.substr(2*E,2),16));return c},b.ArrayBuffertohex=function(o){for(var c="",p=new DataView(o),E=0;E<o.byteLength;E++)c+=("00"+p.getUint8(E).toString(16)).slice(-2);return c},b.zulutomsec=qn,b.zulutosec=$r,b.zulutodate=function(o){return new Date(qn(o))},b.datetozulu=function(o,c,p){var E,O=o.getUTCFullYear();if(c){if(O<1950||2049<O)throw"not proper year for UTCTime: "+O;E=(""+O).slice(-2)}else E=("000"+O).slice(-4);if(E+=("0"+(o.getUTCMonth()+1)).slice(-2),E+=("0"+o.getUTCDate()).slice(-2),E+=("0"+o.getUTCHours()).slice(-2),E+=("0"+o.getUTCMinutes()).slice(-2),E+=("0"+o.getUTCSeconds()).slice(-2),p){var z=o.getUTCMilliseconds();0!==z&&(E+="."+(z=(z=("00"+z).slice(-3)).replace(/0+$/g,"")))}return E+"Z"},b.uricmptohex=Zt,b.hextouricmp=Un,b.ipv6tohex=kr,b.hextoipv6=Tr,b.hextoip=Ar,b.iptohex=function(o){var c="malformed IP address";if(!(o=o.toLowerCase(o)).match(/^[0-9.]+$/)){if(o.match(/^[0-9a-f:]+$/)&&-1!==o.indexOf(":"))return kr(o);throw c}var p=o.split(".");if(4!==p.length)throw c;var E="";try{for(var O=0;O<4;O++)E+=("0"+parseInt(p[O]).toString(16)).slice(-2);return E}catch(z){throw c}},b.encodeURIComponentAll=sr,b.newline_toUnix=function(o){return o.replace(/\r\n/gm,"\n")},b.newline_toDos=function(o){return(o=o.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},b.hextoposhex=Wn,b.intarystrtohex=function(o){o=(o=(o=o.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return o.split(/,/).map(function(c,p,E){var O=parseInt(c);if(O<0||255<O)throw"integer not in range 0-255";return("00"+O.toString(16)).slice(-2)}).join("")}catch(c){throw"malformed integer array string: "+c}},b.strdiffidx=function(o,c){var p=o.length;o.length>c.length&&(p=c.length);for(var E=0;E<p;E++)if(o.charCodeAt(E)!=c.charCodeAt(E))return E;return o.length!=c.length?p:-1},b.KJUR=$,b.crypto=$.crypto,b.asn1=$.asn1,b.jws=$.jws,b.lang=$.lang}).call(this,I(28).Buffer)},function(xe,b,I){"use strict";(function(y){var P=I(30),K=I(31),B=I(32);function D(){return w.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function F(de,L){if(D()<L)throw new RangeError("Invalid typed array length");return w.TYPED_ARRAY_SUPPORT?(de=new Uint8Array(L)).__proto__=w.prototype:(null===de&&(de=new w(L)),de.length=L),de}function w(de,L,U){if(!(w.TYPED_ARRAY_SUPPORT||this instanceof w))return new w(de,L,U);if("number"==typeof de){if("string"==typeof L)throw new Error("If encoding is specified then the first argument must be a string");return k(this,de)}return j(this,de,L,U)}function j(de,L,U,ce){if("number"==typeof L)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&L instanceof ArrayBuffer?function(De,Me,Xe,lt){if(Xe<0||Me.byteLength<Xe)throw new RangeError("'offset' is out of bounds");if(Me.byteLength<Xe+(lt||0))throw new RangeError("'length' is out of bounds");return Me=void 0===Xe&&void 0===lt?new Uint8Array(Me):void 0===lt?new Uint8Array(Me,Xe):new Uint8Array(Me,Xe,lt),w.TYPED_ARRAY_SUPPORT?(De=Me).__proto__=w.prototype:De=q(De,Me),De}(de,L,U,ce):"string"==typeof L?function(De,Me,Xe){if("string"==typeof Xe&&""!==Xe||(Xe="utf8"),!w.isEncoding(Xe))throw new TypeError('"encoding" must be a valid string encoding');var lt=0|W(Me,Xe),Pt=(De=F(De,lt)).write(Me,Xe);return Pt!==lt&&(De=De.slice(0,Pt)),De}(de,L,U):function(De,Me){if(w.isBuffer(Me)){var Xe=0|H(Me.length);return 0===(De=F(De,Xe)).length||Me.copy(De,0,0,Xe),De}if(Me){if("undefined"!=typeof ArrayBuffer&&Me.buffer instanceof ArrayBuffer||"length"in Me)return"number"!=typeof Me.length||(Pt=Me.length)!=Pt?F(De,0):q(De,Me);if("Buffer"===Me.type&&B(Me.data))return q(De,Me.data)}var Pt;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(de,L)}function V(de){if("number"!=typeof de)throw new TypeError('"size" argument must be a number');if(de<0)throw new RangeError('"size" argument must not be negative')}function k(de,L){if(V(L),de=F(de,L<0?0:0|H(L)),!w.TYPED_ARRAY_SUPPORT)for(var U=0;U<L;++U)de[U]=0;return de}function q(de,L){var U=L.length<0?0:0|H(L.length);de=F(de,U);for(var ce=0;ce<U;ce+=1)de[ce]=255&L[ce];return de}function H(de){if(de>=D())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+D().toString(16)+" bytes");return 0|de}function W(de,L){if(w.isBuffer(de))return de.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(de)||de instanceof ArrayBuffer))return de.byteLength;"string"!=typeof de&&(de=""+de);var U=de.length;if(0===U)return 0;for(var ce=!1;;)switch(L){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":case void 0:return sn(de).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return Ot(de).length;default:if(ce)return sn(de).length;L=(""+L).toLowerCase(),ce=!0}}function Q(de,L,U){var ce=!1;if((void 0===L||L<0)&&(L=0),L>this.length||((void 0===U||U>this.length)&&(U=this.length),U<=0)||(U>>>=0)<=(L>>>=0))return"";for(de||(de="utf8");;)switch(de){case"hex":return ot(this,L,U);case"utf8":case"utf-8":return pt(this,L,U);case"ascii":return wt(this,L,U);case"latin1":case"binary":return et(this,L,U);case"base64":return nt(this,L,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vt(this,L,U);default:if(ce)throw new TypeError("Unknown encoding: "+de);de=(de+"").toLowerCase(),ce=!0}}function oe(de,L,U){var ce=de[L];de[L]=de[U],de[U]=ce}function ae(de,L,U,ce,Ee){if(0===de.length)return-1;if("string"==typeof U?(ce=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,isNaN(U)&&(U=Ee?0:de.length-1),U<0&&(U=de.length+U),U>=de.length){if(Ee)return-1;U=de.length-1}else if(U<0){if(!Ee)return-1;U=0}if("string"==typeof L&&(L=w.from(L,ce)),w.isBuffer(L))return 0===L.length?-1:ge(de,L,U,ce,Ee);if("number"==typeof L)return L&=255,w.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?Ee?Uint8Array.prototype.indexOf.call(de,L,U):Uint8Array.prototype.lastIndexOf.call(de,L,U):ge(de,[L],U,ce,Ee);throw new TypeError("val must be string, number or Buffer")}function ge(de,L,U,ce,Ee){var De,Me=1,Xe=de.length,lt=L.length;if(void 0!==ce&&("ucs2"===(ce=String(ce).toLowerCase())||"ucs-2"===ce||"utf16le"===ce||"utf-16le"===ce)){if(de.length<2||L.length<2)return-1;Me=2,Xe/=2,lt/=2,U/=2}function Pt(Ht,ke){return 1===Me?Ht[ke]:Ht.readUInt16BE(ke*Me)}if(Ee){var ct=-1;for(De=U;De<Xe;De++)if(Pt(de,De)===Pt(L,-1===ct?0:De-ct)){if(-1===ct&&(ct=De),De-ct+1===lt)return ct*Me}else-1!==ct&&(De-=De-ct),ct=-1}else for(U+lt>Xe&&(U=Xe-lt),De=U;De>=0;De--){for(var xt=!0,Wt=0;Wt<lt;Wt++)if(Pt(de,De+Wt)!==Pt(L,Wt)){xt=!1;break}if(xt)return De}return-1}function ve(de,L,U,ce){U=Number(U)||0;var Ee=de.length-U;ce?(ce=Number(ce))>Ee&&(ce=Ee):ce=Ee;var De=L.length;if(De%2!=0)throw new TypeError("Invalid hex string");ce>De/2&&(ce=De/2);for(var Me=0;Me<ce;++Me){var Xe=parseInt(L.substr(2*Me,2),16);if(isNaN(Xe))return Me;de[U+Me]=Xe}return Me}function pe(de,L,U,ce){return ut(sn(L,de.length-U),de,U,ce)}function Ue(de,L,U,ce){return ut(function(De){for(var Me=[],Xe=0;Xe<De.length;++Xe)Me.push(255&De.charCodeAt(Xe));return Me}(L),de,U,ce)}function Be(de,L,U,ce){return Ue(de,L,U,ce)}function Le(de,L,U,ce){return ut(Ot(L),de,U,ce)}function me(de,L,U,ce){return ut(function(De,Me){for(var Xe,lt,ct=[],xt=0;xt<De.length&&!((Me-=2)<0);++xt)lt=(Xe=De.charCodeAt(xt))>>8,ct.push(Xe%256),ct.push(lt);return ct}(L,de.length-U),de,U,ce)}function nt(de,L,U){return P.fromByteArray(0===L&&U===de.length?de:de.slice(L,U))}function pt(de,L,U){U=Math.min(de.length,U);for(var ce=[],Ee=L;Ee<U;){var De,Me,Xe,lt,Pt=de[Ee],ct=null,xt=Pt>239?4:Pt>223?3:Pt>191?2:1;if(Ee+xt<=U)switch(xt){case 1:Pt<128&&(ct=Pt);break;case 2:128==(192&(De=de[Ee+1]))&&(lt=(31&Pt)<<6|63&De)>127&&(ct=lt);break;case 3:Me=de[Ee+2],128==(192&(De=de[Ee+1]))&&128==(192&Me)&&(lt=(15&Pt)<<12|(63&De)<<6|63&Me)>2047&&(lt<55296||lt>57343)&&(ct=lt);break;case 4:Me=de[Ee+2],Xe=de[Ee+3],128==(192&(De=de[Ee+1]))&&128==(192&Me)&&128==(192&Xe)&&(lt=(15&Pt)<<18|(63&De)<<12|(63&Me)<<6|63&Xe)>65535&&lt<1114112&&(ct=lt)}null===ct?(ct=65533,xt=1):ct>65535&&(ce.push((ct-=65536)>>>10&1023|55296),ct=56320|1023&ct),ce.push(ct),Ee+=xt}return function(Ht){var ke=Ht.length;if(ke<=dt)return String.fromCharCode.apply(String,Ht);for(var ne="",be=0;be<ke;)ne+=String.fromCharCode.apply(String,Ht.slice(be,be+=dt));return ne}(ce)}b.Buffer=w,b.SlowBuffer=function(L){return+L!=L&&(L=0),w.alloc(+L)},b.INSPECT_MAX_BYTES=50,w.TYPED_ARRAY_SUPPORT=void 0!==y.TYPED_ARRAY_SUPPORT?y.TYPED_ARRAY_SUPPORT:function(){try{var L=new Uint8Array(1);return L.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===L.foo()&&"function"==typeof L.subarray&&0===L.subarray(1,1).byteLength}catch(U){return!1}}(),b.kMaxLength=D(),w.poolSize=8192,w._augment=function(de){return de.__proto__=w.prototype,de},w.from=function(de,L,U){return j(null,de,L,U)},w.TYPED_ARRAY_SUPPORT&&(w.prototype.__proto__=Uint8Array.prototype,w.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&w[Symbol.species]===w&&Object.defineProperty(w,Symbol.species,{value:null,configurable:!0})),w.alloc=function(de,L,U){return null,Me=L,Xe=U,V(De=de),De<=0?F(null,De):void 0!==Me?"string"==typeof Xe?F(null,De).fill(Me,Xe):F(null,De).fill(Me):F(null,De);var De,Me,Xe},w.allocUnsafe=function(de){return k(null,de)},w.allocUnsafeSlow=function(de){return k(null,de)},w.isBuffer=function(L){return!(null==L||!L._isBuffer)},w.compare=function(L,U){if(!w.isBuffer(L)||!w.isBuffer(U))throw new TypeError("Arguments must be Buffers");if(L===U)return 0;for(var ce=L.length,Ee=U.length,De=0,Me=Math.min(ce,Ee);De<Me;++De)if(L[De]!==U[De]){ce=L[De],Ee=U[De];break}return ce<Ee?-1:Ee<ce?1:0},w.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(L,U){if(!B(L))throw new TypeError('"list" argument must be an Array of Buffers');if(0===L.length)return w.alloc(0);var ce;if(void 0===U)for(U=0,ce=0;ce<L.length;++ce)U+=L[ce].length;var Ee=w.allocUnsafe(U),De=0;for(ce=0;ce<L.length;++ce){var Me=L[ce];if(!w.isBuffer(Me))throw new TypeError('"list" argument must be an Array of Buffers');Me.copy(Ee,De),De+=Me.length}return Ee},w.byteLength=W,w.prototype._isBuffer=!0,w.prototype.swap16=function(){var L=this.length;if(L%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var U=0;U<L;U+=2)oe(this,U,U+1);return this},w.prototype.swap32=function(){var L=this.length;if(L%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var U=0;U<L;U+=4)oe(this,U,U+3),oe(this,U+1,U+2);return this},w.prototype.swap64=function(){var L=this.length;if(L%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var U=0;U<L;U+=8)oe(this,U,U+7),oe(this,U+1,U+6),oe(this,U+2,U+5),oe(this,U+3,U+4);return this},w.prototype.toString=function(){var L=0|this.length;return 0===L?"":0===arguments.length?pt(this,0,L):Q.apply(this,arguments)},w.prototype.equals=function(L){if(!w.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L||0===w.compare(this,L)},w.prototype.inspect=function(){var L="",U=b.INSPECT_MAX_BYTES;return this.length>0&&(L=this.toString("hex",0,U).match(/.{2}/g).join(" "),this.length>U&&(L+=" ... ")),"<Buffer "+L+">"},w.prototype.compare=function(L,U,ce,Ee,De){if(!w.isBuffer(L))throw new TypeError("Argument must be a Buffer");if(void 0===U&&(U=0),void 0===ce&&(ce=L?L.length:0),void 0===Ee&&(Ee=0),void 0===De&&(De=this.length),U<0||ce>L.length||Ee<0||De>this.length)throw new RangeError("out of range index");if(Ee>=De&&U>=ce)return 0;if(Ee>=De)return-1;if(U>=ce)return 1;if(this===L)return 0;for(var Me=(De>>>=0)-(Ee>>>=0),Xe=(ce>>>=0)-(U>>>=0),lt=Math.min(Me,Xe),Pt=this.slice(Ee,De),ct=L.slice(U,ce),xt=0;xt<lt;++xt)if(Pt[xt]!==ct[xt]){Me=Pt[xt],Xe=ct[xt];break}return Me<Xe?-1:Xe<Me?1:0},w.prototype.includes=function(L,U,ce){return-1!==this.indexOf(L,U,ce)},w.prototype.indexOf=function(L,U,ce){return ae(this,L,U,ce,!0)},w.prototype.lastIndexOf=function(L,U,ce){return ae(this,L,U,ce,!1)},w.prototype.write=function(L,U,ce,Ee){if(void 0===U)Ee="utf8",ce=this.length,U=0;else if(void 0===ce&&"string"==typeof U)Ee=U,ce=this.length,U=0;else{if(!isFinite(U))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");U|=0,isFinite(ce)?(ce|=0,void 0===Ee&&(Ee="utf8")):(Ee=ce,ce=void 0)}var De=this.length-U;if((void 0===ce||ce>De)&&(ce=De),L.length>0&&(ce<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");for(var Me=!1;;)switch(Ee){case"hex":return ve(this,L,U,ce);case"utf8":case"utf-8":return pe(this,L,U,ce);case"ascii":return Ue(this,L,U,ce);case"latin1":case"binary":return Be(this,L,U,ce);case"base64":return Le(this,L,U,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,L,U,ce);default:if(Me)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),Me=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var dt=4096;function wt(de,L,U){var ce="";U=Math.min(de.length,U);for(var Ee=L;Ee<U;++Ee)ce+=String.fromCharCode(127&de[Ee]);return ce}function et(de,L,U){var ce="";U=Math.min(de.length,U);for(var Ee=L;Ee<U;++Ee)ce+=String.fromCharCode(de[Ee]);return ce}function ot(de,L,U){var ce=de.length;(!L||L<0)&&(L=0),(!U||U<0||U>ce)&&(U=ce);for(var Ee="",De=L;De<U;++De)Ee+=Sn(de[De]);return Ee}function vt(de,L,U){for(var ce=de.slice(L,U),Ee="",De=0;De<ce.length;De+=2)Ee+=String.fromCharCode(ce[De]+256*ce[De+1]);return Ee}function qe(de,L,U){if(de%1!=0||de<0)throw new RangeError("offset is not uint");if(de+L>U)throw new RangeError("Trying to access beyond buffer length")}function gt(de,L,U,ce,Ee,De){if(!w.isBuffer(de))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>Ee||L<De)throw new RangeError('"value" argument is out of bounds');if(U+ce>de.length)throw new RangeError("Index out of range")}function Vt(de,L,U,ce){L<0&&(L=65535+L+1);for(var Ee=0,De=Math.min(de.length-U,2);Ee<De;++Ee)de[U+Ee]=(L&255<<8*(ce?Ee:1-Ee))>>>8*(ce?Ee:1-Ee)}function mn(de,L,U,ce){L<0&&(L=4294967295+L+1);for(var Ee=0,De=Math.min(de.length-U,4);Ee<De;++Ee)de[U+Ee]=L>>>8*(ce?Ee:3-Ee)&255}function rn(de,L,U,ce,Ee,De){if(U+ce>de.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function _n(de,L,U,ce,Ee){return Ee||rn(de,0,U,4),K.write(de,L,U,ce,23,4),U+4}function Cn(de,L,U,ce,Ee){return Ee||rn(de,0,U,8),K.write(de,L,U,ce,52,8),U+8}w.prototype.slice=function(L,U){var ce,Ee=this.length;if((L=~~L)<0?(L+=Ee)<0&&(L=0):L>Ee&&(L=Ee),(U=void 0===U?Ee:~~U)<0?(U+=Ee)<0&&(U=0):U>Ee&&(U=Ee),U<L&&(U=L),w.TYPED_ARRAY_SUPPORT)(ce=this.subarray(L,U)).__proto__=w.prototype;else{var De=U-L;ce=new w(De,void 0);for(var Me=0;Me<De;++Me)ce[Me]=this[Me+L]}return ce},w.prototype.readUIntLE=function(L,U,ce){L|=0,U|=0,ce||qe(L,U,this.length);for(var Ee=this[L],De=1,Me=0;++Me<U&&(De*=256);)Ee+=this[L+Me]*De;return Ee},w.prototype.readUIntBE=function(L,U,ce){L|=0,U|=0,ce||qe(L,U,this.length);for(var Ee=this[L+--U],De=1;U>0&&(De*=256);)Ee+=this[L+--U]*De;return Ee},w.prototype.readUInt8=function(L,U){return U||qe(L,1,this.length),this[L]},w.prototype.readUInt16LE=function(L,U){return U||qe(L,2,this.length),this[L]|this[L+1]<<8},w.prototype.readUInt16BE=function(L,U){return U||qe(L,2,this.length),this[L]<<8|this[L+1]},w.prototype.readUInt32LE=function(L,U){return U||qe(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+16777216*this[L+3]},w.prototype.readUInt32BE=function(L,U){return U||qe(L,4,this.length),16777216*this[L]+(this[L+1]<<16|this[L+2]<<8|this[L+3])},w.prototype.readIntLE=function(L,U,ce){L|=0,U|=0,ce||qe(L,U,this.length);for(var Ee=this[L],De=1,Me=0;++Me<U&&(De*=256);)Ee+=this[L+Me]*De;return Ee>=(De*=128)&&(Ee-=Math.pow(2,8*U)),Ee},w.prototype.readIntBE=function(L,U,ce){L|=0,U|=0,ce||qe(L,U,this.length);for(var Ee=U,De=1,Me=this[L+--Ee];Ee>0&&(De*=256);)Me+=this[L+--Ee]*De;return Me>=(De*=128)&&(Me-=Math.pow(2,8*U)),Me},w.prototype.readInt8=function(L,U){return U||qe(L,1,this.length),128&this[L]?-1*(255-this[L]+1):this[L]},w.prototype.readInt16LE=function(L,U){U||qe(L,2,this.length);var ce=this[L]|this[L+1]<<8;return 32768&ce?4294901760|ce:ce},w.prototype.readInt16BE=function(L,U){U||qe(L,2,this.length);var ce=this[L+1]|this[L]<<8;return 32768&ce?4294901760|ce:ce},w.prototype.readInt32LE=function(L,U){return U||qe(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},w.prototype.readInt32BE=function(L,U){return U||qe(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},w.prototype.readFloatLE=function(L,U){return U||qe(L,4,this.length),K.read(this,L,!0,23,4)},w.prototype.readFloatBE=function(L,U){return U||qe(L,4,this.length),K.read(this,L,!1,23,4)},w.prototype.readDoubleLE=function(L,U){return U||qe(L,8,this.length),K.read(this,L,!0,52,8)},w.prototype.readDoubleBE=function(L,U){return U||qe(L,8,this.length),K.read(this,L,!1,52,8)},w.prototype.writeUIntLE=function(L,U,ce,Ee){L=+L,U|=0,ce|=0,Ee||gt(this,L,U,ce,Math.pow(2,8*ce)-1,0);var De=1,Me=0;for(this[U]=255&L;++Me<ce&&(De*=256);)this[U+Me]=L/De&255;return U+ce},w.prototype.writeUIntBE=function(L,U,ce,Ee){L=+L,U|=0,ce|=0,Ee||gt(this,L,U,ce,Math.pow(2,8*ce)-1,0);var De=ce-1,Me=1;for(this[U+De]=255&L;--De>=0&&(Me*=256);)this[U+De]=L/Me&255;return U+ce},w.prototype.writeUInt8=function(L,U,ce){return L=+L,U|=0,ce||gt(this,L,U,1,255,0),w.TYPED_ARRAY_SUPPORT||(L=Math.floor(L)),this[U]=255&L,U+1},w.prototype.writeUInt16LE=function(L,U,ce){return L=+L,U|=0,ce||gt(this,L,U,2,65535,0),w.TYPED_ARRAY_SUPPORT?(this[U]=255&L,this[U+1]=L>>>8):Vt(this,L,U,!0),U+2},w.prototype.writeUInt16BE=function(L,U,ce){return L=+L,U|=0,ce||gt(this,L,U,2,65535,0),w.TYPED_ARRAY_SUPPORT?(this[U]=L>>>8,this[U+1]=255&L):Vt(this,L,U,!1),U+2},w.prototype.writeUInt32LE=function(L,U,ce){return L=+L,U|=0,ce||gt(this,L,U,4,4294967295,0),w.TYPED_ARRAY_SUPPORT?(this[U+3]=L>>>24,this[U+2]=L>>>16,this[U+1]=L>>>8,this[U]=255&L):mn(this,L,U,!0),U+4},w.prototype.writeUInt32BE=function(L,U,ce){return L=+L,U|=0,ce||gt(this,L,U,4,4294967295,0),w.TYPED_ARRAY_SUPPORT?(this[U]=L>>>24,this[U+1]=L>>>16,this[U+2]=L>>>8,this[U+3]=255&L):mn(this,L,U,!1),U+4},w.prototype.writeIntLE=function(L,U,ce,Ee){if(L=+L,U|=0,!Ee){var De=Math.pow(2,8*ce-1);gt(this,L,U,ce,De-1,-De)}var Me=0,Xe=1,lt=0;for(this[U]=255&L;++Me<ce&&(Xe*=256);)L<0&&0===lt&&0!==this[U+Me-1]&&(lt=1),this[U+Me]=(L/Xe>>0)-lt&255;return U+ce},w.prototype.writeIntBE=function(L,U,ce,Ee){if(L=+L,U|=0,!Ee){var De=Math.pow(2,8*ce-1);gt(this,L,U,ce,De-1,-De)}var Me=ce-1,Xe=1,lt=0;for(this[U+Me]=255&L;--Me>=0&&(Xe*=256);)L<0&&0===lt&&0!==this[U+Me+1]&&(lt=1),this[U+Me]=(L/Xe>>0)-lt&255;return U+ce},w.prototype.writeInt8=function(L,U,ce){return L=+L,U|=0,ce||gt(this,L,U,1,127,-128),w.TYPED_ARRAY_SUPPORT||(L=Math.floor(L)),L<0&&(L=255+L+1),this[U]=255&L,U+1},w.prototype.writeInt16LE=function(L,U,ce){return L=+L,U|=0,ce||gt(this,L,U,2,32767,-32768),w.TYPED_ARRAY_SUPPORT?(this[U]=255&L,this[U+1]=L>>>8):Vt(this,L,U,!0),U+2},w.prototype.writeInt16BE=function(L,U,ce){return L=+L,U|=0,ce||gt(this,L,U,2,32767,-32768),w.TYPED_ARRAY_SUPPORT?(this[U]=L>>>8,this[U+1]=255&L):Vt(this,L,U,!1),U+2},w.prototype.writeInt32LE=function(L,U,ce){return L=+L,U|=0,ce||gt(this,L,U,4,2147483647,-2147483648),w.TYPED_ARRAY_SUPPORT?(this[U]=255&L,this[U+1]=L>>>8,this[U+2]=L>>>16,this[U+3]=L>>>24):mn(this,L,U,!0),U+4},w.prototype.writeInt32BE=function(L,U,ce){return L=+L,U|=0,ce||gt(this,L,U,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),w.TYPED_ARRAY_SUPPORT?(this[U]=L>>>24,this[U+1]=L>>>16,this[U+2]=L>>>8,this[U+3]=255&L):mn(this,L,U,!1),U+4},w.prototype.writeFloatLE=function(L,U,ce){return _n(this,L,U,!0,ce)},w.prototype.writeFloatBE=function(L,U,ce){return _n(this,L,U,!1,ce)},w.prototype.writeDoubleLE=function(L,U,ce){return Cn(this,L,U,!0,ce)},w.prototype.writeDoubleBE=function(L,U,ce){return Cn(this,L,U,!1,ce)},w.prototype.copy=function(L,U,ce,Ee){if(ce||(ce=0),Ee||0===Ee||(Ee=this.length),U>=L.length&&(U=L.length),U||(U=0),Ee>0&&Ee<ce&&(Ee=ce),Ee===ce||0===L.length||0===this.length)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(ce<0||ce>=this.length)throw new RangeError("sourceStart out of bounds");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),L.length-U<Ee-ce&&(Ee=L.length-U+ce);var De,Me=Ee-ce;if(this===L&&ce<U&&U<Ee)for(De=Me-1;De>=0;--De)L[De+U]=this[De+ce];else if(Me<1e3||!w.TYPED_ARRAY_SUPPORT)for(De=0;De<Me;++De)L[De+U]=this[De+ce];else Uint8Array.prototype.set.call(L,this.subarray(ce,ce+Me),U);return Me},w.prototype.fill=function(L,U,ce,Ee){if("string"==typeof L){if("string"==typeof U?(Ee=U,U=0,ce=this.length):"string"==typeof ce&&(Ee=ce,ce=this.length),1===L.length){var De=L.charCodeAt(0);De<256&&(L=De)}if(void 0!==Ee&&"string"!=typeof Ee)throw new TypeError("encoding must be a string");if("string"==typeof Ee&&!w.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee)}else"number"==typeof L&&(L&=255);if(U<0||this.length<U||this.length<ce)throw new RangeError("Out of range index");if(ce<=U)return this;var Me;if(U>>>=0,ce=void 0===ce?this.length:ce>>>0,L||(L=0),"number"==typeof L)for(Me=U;Me<ce;++Me)this[Me]=L;else{var Xe=w.isBuffer(L)?L:sn(new w(L,Ee).toString()),lt=Xe.length;for(Me=0;Me<ce-U;++Me)this[Me+U]=Xe[Me%lt]}return this};var Kn=/[^+\/0-9A-Za-z-_]/g;function Sn(de){return de<16?"0"+de.toString(16):de.toString(16)}function sn(de,L){var U;L=L||1/0;for(var ce=de.length,Ee=null,De=[],Me=0;Me<ce;++Me){if((U=de.charCodeAt(Me))>55295&&U<57344){if(!Ee){if(U>56319){(L-=3)>-1&&De.push(239,191,189);continue}if(Me+1===ce){(L-=3)>-1&&De.push(239,191,189);continue}Ee=U;continue}if(U<56320){(L-=3)>-1&&De.push(239,191,189),Ee=U;continue}U=65536+(Ee-55296<<10|U-56320)}else Ee&&(L-=3)>-1&&De.push(239,191,189);if(Ee=null,U<128){if((L-=1)<0)break;De.push(U)}else if(U<2048){if((L-=2)<0)break;De.push(U>>6|192,63&U|128)}else if(U<65536){if((L-=3)<0)break;De.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;De.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return De}function Ot(de){return P.toByteArray(function(U){if((U=(Ee=U,Ee.trim?Ee.trim():Ee.replace(/^\s+|\s+$/g,"")).replace(Kn,"")).length<2)return"";for(var Ee;U.length%4!=0;)U+="=";return U}(de))}function ut(de,L,U,ce){for(var Ee=0;Ee<ce&&!(Ee+U>=L.length||Ee>=de.length);++Ee)L[Ee+U]=de[Ee];return Ee}}).call(this,I(29))},function(xe,b){var I;I=function(){return this}();try{I=I||new Function("return this")()}catch(y){"object"==typeof window&&(I=window)}xe.exports=I},function(xe,b,I){"use strict";b.byteLength=function(k){var q=w(k),W=q[1];return 3*(q[0]+W)/4-W},b.toByteArray=function(k){var q,H,Le,W=w(k),Q=W[0],oe=W[1],ae=new K(3*(Q+(Le=oe))/4-Le),ge=0,ve=oe>0?Q-4:Q;for(H=0;H<ve;H+=4)q=P[k.charCodeAt(H)]<<18|P[k.charCodeAt(H+1)]<<12|P[k.charCodeAt(H+2)]<<6|P[k.charCodeAt(H+3)],ae[ge++]=q>>16&255,ae[ge++]=q>>8&255,ae[ge++]=255&q;return 2===oe&&(q=P[k.charCodeAt(H)]<<2|P[k.charCodeAt(H+1)]>>4,ae[ge++]=255&q),1===oe&&(q=P[k.charCodeAt(H)]<<10|P[k.charCodeAt(H+1)]<<4|P[k.charCodeAt(H+2)]>>2,ae[ge++]=q>>8&255,ae[ge++]=255&q),ae},b.fromByteArray=function(k){for(var q,H=k.length,W=H%3,Q=[],ae=0,ge=H-W;ae<ge;ae+=16383)Q.push(j(k,ae,ae+16383>ge?ge:ae+16383));return 1===W?Q.push(y[(q=k[H-1])>>2]+y[q<<4&63]+"=="):2===W&&Q.push(y[(q=(k[H-2]<<8)+k[H-1])>>10]+y[q>>4&63]+y[q<<2&63]+"="),Q.join("")};for(var y=[],P=[],K="undefined"!=typeof Uint8Array?Uint8Array:Array,B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=0,F=B.length;D<F;++D)y[D]=B[D],P[B.charCodeAt(D)]=D;function w(V){var k=V.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var q=V.indexOf("=");return-1===q&&(q=k),[q,q===k?0:4-q%4]}function j(V,k,q){for(var W,Q=[],oe=k;oe<q;oe+=3)Q.push(y[(W=(V[oe]<<16&16711680)+(V[oe+1]<<8&65280)+(255&V[oe+2]))>>18&63]+y[W>>12&63]+y[W>>6&63]+y[63&W]);return Q.join("")}P["-".charCodeAt(0)]=62,P["_".charCodeAt(0)]=63},function(xe,b){b.read=function(I,y,P,K,B){var D,F,w=8*B-K-1,j=(1<<w)-1,V=j>>1,k=-7,q=P?B-1:0,H=P?-1:1,W=I[y+q];for(q+=H,D=W&(1<<-k)-1,W>>=-k,k+=w;k>0;D=256*D+I[y+q],q+=H,k-=8);for(F=D&(1<<-k)-1,D>>=-k,k+=K;k>0;F=256*F+I[y+q],q+=H,k-=8);if(0===D)D=1-V;else{if(D===j)return F?NaN:1/0*(W?-1:1);F+=Math.pow(2,K),D-=V}return(W?-1:1)*F*Math.pow(2,D-K)},b.write=function(I,y,P,K,B,D){var F,w,j,V=8*D-B-1,k=(1<<V)-1,q=k>>1,H=23===B?Math.pow(2,-24)-Math.pow(2,-77):0,W=K?0:D-1,Q=K?1:-1,oe=y<0||0===y&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(w=isNaN(y)?1:0,F=k):(F=Math.floor(Math.log(y)/Math.LN2),y*(j=Math.pow(2,-F))<1&&(F--,j*=2),(y+=F+q>=1?H/j:H*Math.pow(2,1-q))*j>=2&&(F++,j/=2),F+q>=k?(w=0,F=k):F+q>=1?(w=(y*j-1)*Math.pow(2,B),F+=q):(w=y*Math.pow(2,q-1)*Math.pow(2,B),F=0));B>=8;I[P+W]=255&w,W+=Q,w/=256,B-=8);for(F=F<<B|w,V+=B;V>0;I[P+W]=255&F,W+=Q,F/=256,V-=8);I[P+W-Q]|=128*oe}},function(xe,b){var I={}.toString;xe.exports=Array.isArray||function(y){return"[object Array]"==I.call(y)}},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(K){var B=K.jws,D=K.KeyUtil,F=K.X509,w=K.crypto,j=K.hextob64u,V=K.b64tohex,k=K.AllowedSigningAlgs;return function(){function q(){!function(W,Q){if(!(W instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,q)}return q.parseJwt=function(W){y.Log.debug("JoseUtil.parseJwt");try{var Q=B.JWS.parse(W);return{header:Q.headerObj,payload:Q.payloadObj}}catch(oe){y.Log.error(oe)}},q.validateJwt=function(W,Q,oe,ae,ge,ve,pe){y.Log.debug("JoseUtil.validateJwt");try{if("RSA"===Q.kty)if(Q.e&&Q.n)Q=D.getKey(Q);else{if(!Q.x5c||!Q.x5c.length)return y.Log.error("JoseUtil.validateJwt: RSA key missing key material",Q),Promise.reject(new Error("RSA key missing key material"));var Ue=V(Q.x5c[0]);Q=F.getPublicKeyFromCertHex(Ue)}else{if("EC"!==Q.kty)return y.Log.error("JoseUtil.validateJwt: Unsupported key type",Q&&Q.kty),Promise.reject(new Error(Q.kty));if(!(Q.crv&&Q.x&&Q.y))return y.Log.error("JoseUtil.validateJwt: EC key missing key material",Q),Promise.reject(new Error("EC key missing key material"));Q=D.getKey(Q)}return q._validateJwt(W,Q,oe,ae,ge,ve,pe)}catch(Be){return y.Log.error(Be&&Be.message||Be),Promise.reject("JWT validation failed")}},q.validateJwtAttributes=function(W,Q,oe,ae,ge,ve){ae||(ae=0),ge||(ge=parseInt(Date.now()/1e3));var pe=q.parseJwt(W).payload;if(!pe.iss)return y.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(pe.iss!==Q)return y.Log.error("JoseUtil._validateJwt: Invalid issuer in token",pe.iss),Promise.reject(new Error("Invalid issuer in token: "+pe.iss));if(!pe.aud)return y.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(pe.aud===oe||Array.isArray(pe.aud)&&pe.aud.indexOf(oe)>=0))return y.Log.error("JoseUtil._validateJwt: Invalid audience in token",pe.aud),Promise.reject(new Error("Invalid audience in token: "+pe.aud));if(pe.azp&&pe.azp!==oe)return y.Log.error("JoseUtil._validateJwt: Invalid azp in token",pe.azp),Promise.reject(new Error("Invalid azp in token: "+pe.azp));if(!ve){var Ue=ge+ae,Be=ge-ae;if(!pe.iat)return y.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(Ue<pe.iat)return y.Log.error("JoseUtil._validateJwt: iat is in the future",pe.iat),Promise.reject(new Error("iat is in the future: "+pe.iat));if(pe.nbf&&Ue<pe.nbf)return y.Log.error("JoseUtil._validateJwt: nbf is in the future",pe.nbf),Promise.reject(new Error("nbf is in the future: "+pe.nbf));if(!pe.exp)return y.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(pe.exp<Be)return y.Log.error("JoseUtil._validateJwt: exp is in the past",pe.exp),Promise.reject(new Error("exp is in the past:"+pe.exp))}return Promise.resolve(pe)},q._validateJwt=function(W,Q,oe,ae,ge,ve,pe){return q.validateJwtAttributes(W,oe,ae,ge,ve,pe).then(function(Ue){try{return B.JWS.verify(W,Q,k)?Ue:(y.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Be){return y.Log.error(Be&&Be.message||Be),Promise.reject(new Error("signature validation failed"))}})},q.hashString=function(W,Q){try{return w.Util.hashString(W,Q)}catch(oe){y.Log.error(oe)}},q.hexToBase64Url=function(W){try{return j(W)}catch(Q){y.Log.error(Q)}},q}()};var y=I(0);xe.exports=b.default},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SigninResponse=void 0;var y=function(){function B(D,F){for(var w=0;w<F.length;w++){var j=F[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(D,j.key,j)}}return function(D,F,w){return F&&B(D.prototype,F),w&&B(D,w),D}}(),P=I(3);function K(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")}b.SigninResponse=function(){function B(D){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";K(this,B);var w=P.UrlUtility.parseUrlFragment(D,F);this.error=w.error,this.error_description=w.error_description,this.error_uri=w.error_uri,this.code=w.code,this.state=w.state,this.id_token=w.id_token,this.session_state=w.session_state,this.access_token=w.access_token,this.token_type=w.token_type,this.scope=w.scope,this.profile=void 0,this.expires_in=w.expires_in}return y(B,[{key:"expires_in",get:function(){if(this.expires_at){var F=parseInt(Date.now()/1e3);return this.expires_at-F}},set:function(F){var w=parseInt(F);if("number"==typeof w&&w>0){var j=parseInt(Date.now()/1e3);this.expires_at=j+w}}},{key:"expired",get:function(){var F=this.expires_in;if(void 0!==F)return F<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),B}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SignoutRequest=void 0;var y=I(0),P=I(3),K=I(9);b.SignoutRequest=function B(D){var F=D.url,w=D.id_token_hint,j=D.post_logout_redirect_uri,V=D.data,k=D.extraQueryParams,q=D.request_type;if(function(Q,oe){if(!(Q instanceof oe))throw new TypeError("Cannot call a class as a function")}(this,B),!F)throw y.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var H in w&&(F=P.UrlUtility.addQueryParam(F,"id_token_hint",w)),j&&(F=P.UrlUtility.addQueryParam(F,"post_logout_redirect_uri",j),V&&(this.state=new K.State({data:V,request_type:q}),F=P.UrlUtility.addQueryParam(F,"state",this.state.id))),k)F=P.UrlUtility.addQueryParam(F,H,k[H]);this.url=F}},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SignoutResponse=void 0;var y=I(3);b.SignoutResponse=function P(K){!function(F,w){if(!(F instanceof w))throw new TypeError("Cannot call a class as a function")}(this,P);var B=y.UrlUtility.parseUrlFragment(K,"?");this.error=B.error,this.error_description=B.error_description,this.error_uri=B.error_uri,this.state=B.state}},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.InMemoryWebStorage=void 0;var y=function(){function K(B,D){for(var F=0;F<D.length;F++){var w=D[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(B,w.key,w)}}return function(B,D,F){return D&&K(B.prototype,D),F&&K(B,F),B}}(),P=I(0);b.InMemoryWebStorage=function(){function K(){(function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")})(this,K),this._data={}}return K.prototype.getItem=function(D){return P.Log.debug("InMemoryWebStorage.getItem",D),this._data[D]},K.prototype.setItem=function(D,F){P.Log.debug("InMemoryWebStorage.setItem",D),this._data[D]=F},K.prototype.removeItem=function(D){P.Log.debug("InMemoryWebStorage.removeItem",D),delete this._data[D]},K.prototype.key=function(D){return Object.getOwnPropertyNames(this._data)[D]},y(K,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),K}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserManager=void 0;var y=function(){function oe(ae,ge){for(var ve=0;ve<ge.length;ve++){var pe=ge[ve];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(ae,pe.key,pe)}}return function(ae,ge,ve){return ge&&oe(ae.prototype,ge),ve&&oe(ae,ve),ae}}(),P=I(0),K=I(10),B=I(39),D=I(15),F=I(45),w=I(47),j=I(18),V=I(8),k=I(20),q=I(11),H=I(4);function W(oe,ae){if(!(oe instanceof ae))throw new TypeError("Cannot call a class as a function")}function Q(oe,ae){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ae||"object"!=typeof ae&&"function"!=typeof ae?oe:ae}b.UserManager=function(oe){function ae(){var ge=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ve=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.SilentRenewService,pe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.SessionMonitor,Ue=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.TokenRevocationClient,Be=arguments.length>4&&void 0!==arguments[4]?arguments[4]:q.TokenClient,Le=arguments.length>5&&void 0!==arguments[5]?arguments[5]:H.JoseUtil;W(this,ae),ge instanceof B.UserManagerSettings||(ge=new B.UserManagerSettings(ge));var me=Q(this,oe.call(this,ge));return me._events=new F.UserManagerEvents(ge),me._silentRenewService=new ve(me),me.settings.automaticSilentRenew&&(P.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),me.startSilentRenew()),me.settings.monitorSession&&(P.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),me._sessionMonitor=new pe(me)),me._tokenRevocationClient=new Ue(me._settings),me._tokenClient=new Be(me._settings),me._joseUtil=Le,me}return function(ve,pe){if("function"!=typeof pe&&null!==pe)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);ve.prototype=Object.create(pe&&pe.prototype,{constructor:{value:ve,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(ve,pe):ve.__proto__=pe)}(ae,oe),ae.prototype.getUser=function(){var ve=this;return this._loadUser().then(function(pe){return pe?(P.Log.info("UserManager.getUser: user loaded"),ve._events.load(pe,!1),pe):(P.Log.info("UserManager.getUser: user not found in storage"),null)})},ae.prototype.removeUser=function(){var ve=this;return this.storeUser(null).then(function(){P.Log.info("UserManager.removeUser: user removed from storage"),ve._events.unload()})},ae.prototype.signinRedirect=function(){var ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(ve=Object.assign({},ve)).request_type="si:r",this._signinStart(ve,this._redirectNavigator,{useReplaceToNavigate:ve.useReplaceToNavigate}).then(function(){P.Log.info("UserManager.signinRedirect: successful")})},ae.prototype.signinRedirectCallback=function(ve){return this._signinEnd(ve||this._redirectNavigator.url).then(function(pe){return pe.profile&&pe.profile.sub?P.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",pe.profile.sub):P.Log.info("UserManager.signinRedirectCallback: no sub"),pe})},ae.prototype.signinPopup=function(){var ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(ve=Object.assign({},ve)).request_type="si:p";var pe=ve.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return pe?(ve.redirect_uri=pe,ve.display="popup",this._signin(ve,this._popupNavigator,{startUrl:pe,popupWindowFeatures:ve.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:ve.popupWindowTarget||this.settings.popupWindowTarget}).then(function(Ue){return Ue&&(Ue.profile&&Ue.profile.sub?P.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",Ue.profile.sub):P.Log.info("UserManager.signinPopup: no sub")),Ue})):(P.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},ae.prototype.signinPopupCallback=function(ve){return this._signinCallback(ve,this._popupNavigator).then(function(pe){return pe&&(pe.profile&&pe.profile.sub?P.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",pe.profile.sub):P.Log.info("UserManager.signinPopupCallback: no sub")),pe}).catch(function(pe){P.Log.error(pe.message)})},ae.prototype.signinSilent=function(){var ve=this,pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pe=Object.assign({},pe),this._loadUser().then(function(Ue){return Ue&&Ue.refresh_token?(pe.refresh_token=Ue.refresh_token,ve._useRefreshToken(pe)):(pe.request_type="si:s",pe.id_token_hint=pe.id_token_hint||ve.settings.includeIdTokenInSilentRenew&&Ue&&Ue.id_token,Ue&&ve._settings.validateSubOnSilentRenew&&(P.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",Ue.profile.sub),pe.current_sub=Ue.profile.sub),ve._signinSilentIframe(pe))})},ae.prototype._useRefreshToken=function(){var ve=this;return this._tokenClient.exchangeRefreshToken(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).then(function(Ue){return Ue?Ue.access_token?ve._loadUser().then(function(Be){if(Be){var Le=Promise.resolve();return Ue.id_token&&(Le=ve._validateIdTokenFromTokenRefreshToken(Be.profile,Ue.id_token)),Le.then(function(){return P.Log.debug("UserManager._useRefreshToken: refresh token response success"),Be.id_token=Ue.id_token||Be.id_token,Be.access_token=Ue.access_token,Be.refresh_token=Ue.refresh_token||Be.refresh_token,Be.expires_in=Ue.expires_in,ve.storeUser(Be).then(function(){return ve._events.load(Be),Be})})}return null}):(P.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(P.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},ae.prototype._validateIdTokenFromTokenRefreshToken=function(ve,pe){var Ue=this;return this._metadataService.getIssuer().then(function(Be){return Ue.settings.getEpochTime().then(function(Le){return Ue._joseUtil.validateJwtAttributes(pe,Be,Ue._settings.client_id,Ue._settings.clockSkew,Le).then(function(me){return me?me.sub!==ve.sub?(P.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):me.auth_time&&me.auth_time!==ve.auth_time?(P.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):me.azp&&me.azp!==ve.azp?(P.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!me.azp&&ve.azp?(P.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(P.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},ae.prototype._signinSilentIframe=function(){var ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},pe=ve.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return pe?(ve.redirect_uri=pe,ve.prompt=ve.prompt||"none",this._signin(ve,this._iframeNavigator,{startUrl:pe,silentRequestTimeout:ve.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Ue){return Ue&&(Ue.profile&&Ue.profile.sub?P.Log.info("UserManager.signinSilent: successful, signed in sub: ",Ue.profile.sub):P.Log.info("UserManager.signinSilent: no sub")),Ue})):(P.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},ae.prototype.signinSilentCallback=function(ve){return this._signinCallback(ve,this._iframeNavigator).then(function(pe){return pe&&(pe.profile&&pe.profile.sub?P.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",pe.profile.sub):P.Log.info("UserManager.signinSilentCallback: no sub")),pe})},ae.prototype.signinCallback=function(ve){var pe=this;return this.readSigninResponseState(ve).then(function(Ue){var Be=Ue.state;return"si:r"===Be.request_type?pe.signinRedirectCallback(ve):"si:p"===Be.request_type?pe.signinPopupCallback(ve):"si:s"===Be.request_type?pe.signinSilentCallback(ve):Promise.reject(new Error("invalid response_type in state"))})},ae.prototype.signoutCallback=function(ve,pe){var Ue=this;return this.readSignoutResponseState(ve).then(function(Be){var Le=Be.state,me=Be.response;return Le?"so:r"===Le.request_type?Ue.signoutRedirectCallback(ve):"so:p"===Le.request_type?Ue.signoutPopupCallback(ve,pe):Promise.reject(new Error("invalid response_type in state")):me})},ae.prototype.querySessionStatus=function(){var ve=this,pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(pe=Object.assign({},pe)).request_type="si:s";var Ue=pe.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return Ue?(pe.redirect_uri=Ue,pe.prompt="none",pe.response_type=pe.response_type||this.settings.query_status_response_type,pe.scope=pe.scope||"openid",pe.skipUserInfo=!0,this._signinStart(pe,this._iframeNavigator,{startUrl:Ue,silentRequestTimeout:pe.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Be){return ve.processSigninResponse(Be.url).then(function(Le){if(P.Log.debug("UserManager.querySessionStatus: got signin response"),Le.session_state&&Le.profile.sub)return P.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",Le.profile.sub),{session_state:Le.session_state,sub:Le.profile.sub,sid:Le.profile.sid};P.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(Le){if(Le.session_state&&ve.settings.monitorAnonymousSession&&("login_required"==Le.message||"consent_required"==Le.message||"interaction_required"==Le.message||"account_selection_required"==Le.message))return P.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:Le.session_state};throw Le})})):(P.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},ae.prototype._signin=function(ve,pe){var Ue=this;return this._signinStart(ve,pe,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(Le){return Ue._signinEnd(Le.url,ve)})},ae.prototype._signinStart=function(ve,pe){var Ue=this,Be=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return pe.prepare(Be).then(function(Le){return P.Log.debug("UserManager._signinStart: got navigator window handle"),Ue.createSigninRequest(ve).then(function(me){return P.Log.debug("UserManager._signinStart: got signin request"),Be.url=me.url,Be.id=me.state.id,Le.navigate(Be)}).catch(function(me){throw Le.close&&(P.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),Le.close()),me})})},ae.prototype._signinEnd=function(ve){var pe=this,Ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(ve).then(function(Be){P.Log.debug("UserManager._signinEnd: got signin response");var Le=new D.User(Be);if(Ue.current_sub){if(Ue.current_sub!==Le.profile.sub)return P.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",Le.profile.sub),Promise.reject(new Error("login_required"));P.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return pe.storeUser(Le).then(function(){return P.Log.debug("UserManager._signinEnd: user stored"),pe._events.load(Le),Le})})},ae.prototype._signinCallback=function(ve,pe){P.Log.debug("UserManager._signinCallback");var Ue="query"===this._settings.response_mode||!this._settings.response_mode&&V.SigninRequest.isCode(this._settings.response_type)?"?":"#";return pe.callback(ve,void 0,Ue)},ae.prototype.signoutRedirect=function(){var ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(ve=Object.assign({},ve)).request_type="so:r";var pe=ve.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return pe&&(ve.post_logout_redirect_uri=pe),this._signoutStart(ve,this._redirectNavigator,{useReplaceToNavigate:ve.useReplaceToNavigate}).then(function(){P.Log.info("UserManager.signoutRedirect: successful")})},ae.prototype.signoutRedirectCallback=function(ve){return this._signoutEnd(ve||this._redirectNavigator.url).then(function(pe){return P.Log.info("UserManager.signoutRedirectCallback: successful"),pe})},ae.prototype.signoutPopup=function(){var ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(ve=Object.assign({},ve)).request_type="so:p";var pe=ve.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return ve.post_logout_redirect_uri=pe,ve.display="popup",ve.post_logout_redirect_uri&&(ve.state=ve.state||{}),this._signout(ve,this._popupNavigator,{startUrl:pe,popupWindowFeatures:ve.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:ve.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){P.Log.info("UserManager.signoutPopup: successful")})},ae.prototype.signoutPopupCallback=function(ve,pe){return void 0===pe&&"boolean"==typeof ve&&(pe=ve,ve=null),this._popupNavigator.callback(ve,pe,"?").then(function(){P.Log.info("UserManager.signoutPopupCallback: successful")})},ae.prototype._signout=function(ve,pe){var Ue=this;return this._signoutStart(ve,pe,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(Le){return Ue._signoutEnd(Le.url)})},ae.prototype._signoutStart=function(){var ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},pe=this,Be=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(Be).then(function(Le){return P.Log.debug("UserManager._signoutStart: got navigator window handle"),pe._loadUser().then(function(me){return P.Log.debug("UserManager._signoutStart: loaded current user from storage"),(pe._settings.revokeAccessTokenOnSignout?pe._revokeInternal(me):Promise.resolve()).then(function(){var nt=ve.id_token_hint||me&&me.id_token;return nt&&(P.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),ve.id_token_hint=nt),pe.removeUser().then(function(){return P.Log.debug("UserManager._signoutStart: user removed, creating signout request"),pe.createSignoutRequest(ve).then(function(pt){return P.Log.debug("UserManager._signoutStart: got signout request"),Be.url=pt.url,pt.state&&(Be.id=pt.state.id),Le.navigate(Be)})})})}).catch(function(me){throw Le.close&&(P.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),Le.close()),me})})},ae.prototype._signoutEnd=function(ve){return this.processSignoutResponse(ve).then(function(pe){return P.Log.debug("UserManager._signoutEnd: got signout response"),pe})},ae.prototype.revokeAccessToken=function(){var ve=this;return this._loadUser().then(function(pe){return ve._revokeInternal(pe,!0).then(function(Ue){if(Ue)return P.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),pe.access_token=null,pe.refresh_token=null,pe.expires_at=null,pe.token_type=null,ve.storeUser(pe).then(function(){P.Log.debug("UserManager.revokeAccessToken: user stored"),ve._events.load(pe)})})}).then(function(){P.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},ae.prototype._revokeInternal=function(ve,pe){var Ue=this;if(ve){var Le=ve.refresh_token;return this._revokeAccessTokenInternal(ve.access_token,pe).then(function(me){return Ue._revokeRefreshTokenInternal(Le,pe).then(function(nt){return me||nt||P.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),me||nt})})}return Promise.resolve(!1)},ae.prototype._revokeAccessTokenInternal=function(ve,pe){return!ve||ve.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(ve,pe).then(function(){return!0})},ae.prototype._revokeRefreshTokenInternal=function(ve,pe){return ve?this._tokenRevocationClient.revoke(ve,pe,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},ae.prototype.startSilentRenew=function(){this._silentRenewService.start()},ae.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},ae.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(ve){return ve?(P.Log.debug("UserManager._loadUser: user storageString loaded"),D.User.fromStorageString(ve)):(P.Log.debug("UserManager._loadUser: no user storageString"),null)})},ae.prototype.storeUser=function(ve){if(ve){P.Log.debug("UserManager.storeUser: storing user");var pe=ve.toStorageString();return this._userStore.set(this._userStoreKey,pe)}return P.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},y(ae,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),ae}(K.OidcClient)},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserManagerSettings=void 0;var y=function(){function q(H,W){for(var Q=0;Q<W.length;Q++){var oe=W[Q];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(H,oe.key,oe)}}return function(H,W,Q){return W&&q(H.prototype,W),Q&&q(H,Q),H}}(),P=(I(0),I(5)),K=I(40),B=I(41),D=I(43),F=I(6),w=I(1),j=I(8);function V(q,H){if(!(q instanceof H))throw new TypeError("Cannot call a class as a function")}function k(q,H){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!H||"object"!=typeof H&&"function"!=typeof H?q:H}b.UserManagerSettings=function(q){function H(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Q=W.popup_redirect_uri,oe=W.popup_post_logout_redirect_uri,ae=W.popupWindowFeatures,ge=W.popupWindowTarget,ve=W.silent_redirect_uri,pe=W.silentRequestTimeout,Ue=W.automaticSilentRenew,Be=void 0!==Ue&&Ue,Le=W.validateSubOnSilentRenew,me=void 0!==Le&&Le,nt=W.includeIdTokenInSilentRenew,pt=void 0===nt||nt,dt=W.monitorSession,wt=void 0===dt||dt,et=W.monitorAnonymousSession,ot=void 0!==et&&et,vt=W.checkSessionInterval,qe=void 0===vt?2e3:vt,gt=W.stopCheckSessionOnError,Vt=void 0===gt||gt,mn=W.query_status_response_type,rn=W.revokeAccessTokenOnSignout,_n=void 0!==rn&&rn,Cn=W.accessTokenExpiringNotificationTime,Kn=void 0===Cn?60:Cn,Sn=W.redirectNavigator,sn=void 0===Sn?new K.RedirectNavigator:Sn,Ot=W.popupNavigator,ut=void 0===Ot?new B.PopupNavigator:Ot,de=W.iframeNavigator,L=void 0===de?new D.IFrameNavigator:de,U=W.userStore,ce=void 0===U?new F.WebStorageStateStore({store:w.Global.sessionStorage}):U;V(this,H);var Ee=k(this,q.call(this,arguments[0]));return Ee._popup_redirect_uri=Q,Ee._popup_post_logout_redirect_uri=oe,Ee._popupWindowFeatures=ae,Ee._popupWindowTarget=ge,Ee._silent_redirect_uri=ve,Ee._silentRequestTimeout=pe,Ee._automaticSilentRenew=Be,Ee._validateSubOnSilentRenew=me,Ee._includeIdTokenInSilentRenew=pt,Ee._accessTokenExpiringNotificationTime=Kn,Ee._monitorSession=wt,Ee._monitorAnonymousSession=ot,Ee._checkSessionInterval=qe,Ee._stopCheckSessionOnError=Vt,Ee._query_status_response_type=mn||(arguments[0]&&arguments[0].response_type?j.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),Ee._revokeAccessTokenOnSignout=_n,Ee._redirectNavigator=sn,Ee._popupNavigator=ut,Ee._iframeNavigator=L,Ee._userStore=ce,Ee}return function(Q,oe){if("function"!=typeof oe&&null!==oe)throw new TypeError("Super expression must either be null or a function, not "+typeof oe);Q.prototype=Object.create(oe&&oe.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),oe&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,oe):Q.__proto__=oe)}(H,q),y(H,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),H}(P.OidcClientSettings)},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.RedirectNavigator=void 0;var y=function(){function K(B,D){for(var F=0;F<D.length;F++){var w=D[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(B,w.key,w)}}return function(B,D,F){return D&&K(B.prototype,D),F&&K(B,F),B}}(),P=I(0);b.RedirectNavigator=function(){function K(){!function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")}(this,K)}return K.prototype.prepare=function(){return Promise.resolve(this)},K.prototype.navigate=function(D){return D&&D.url?(D.useReplaceToNavigate?window.location.replace(D.url):window.location=D.url,Promise.resolve()):(P.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},y(K,[{key:"url",get:function(){return window.location.href}}]),K}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PopupNavigator=void 0;var y=I(0),P=I(42);b.PopupNavigator=function(){function K(){!function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")}(this,K)}return K.prototype.prepare=function(D){var F=new P.PopupWindow(D);return Promise.resolve(F)},K.prototype.callback=function(D,F,w){y.Log.debug("PopupNavigator.callback");try{return P.PopupWindow.notifyOpener(D,F,w),Promise.resolve()}catch(j){return Promise.reject(j)}},K}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PopupWindow=void 0;var y=function(){function B(D,F){for(var w=0;w<F.length;w++){var j=F[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(D,j.key,j)}}return function(D,F,w){return F&&B(D.prototype,F),w&&B(D,w),D}}(),P=I(0),K=I(3);b.PopupWindow=function(){function B(D){var F=this;(function(k,q){if(!(k instanceof q))throw new TypeError("Cannot call a class as a function")})(this,B),this._promise=new Promise(function(V,k){F._resolve=V,F._reject=k}),this._popup=window.open("",D.popupWindowTarget||"_blank",D.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;"),this._popup&&(P.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return B.prototype.navigate=function(F){return this._popup?F&&F.url?(P.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=F.id,this._id&&(window["popupCallback_"+F.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=F.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},B.prototype._success=function(F){P.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(F)},B.prototype._error=function(F){P.Log.error("PopupWindow.error: ",F),this._cleanup(),this._reject(new Error(F))},B.prototype.close=function(){this._cleanup(!1)},B.prototype._cleanup=function(F){P.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!F&&this._popup.close(),this._popup=null},B.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},B.prototype._callback=function(F,w){this._cleanup(w),F?(P.Log.debug("PopupWindow.callback success"),this._success({url:F})):(P.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},B.notifyOpener=function(F,w,j){if(window.opener){if(F=F||window.location.href){var V=K.UrlUtility.parseUrlFragment(F,j);if(V.state){var q=window.opener["popupCallback_"+V.state];q?(P.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),q(F,w)):P.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else P.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else P.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},y(B,[{key:"promise",get:function(){return this._promise}}]),B}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IFrameNavigator=void 0;var y=I(0),P=I(44);b.IFrameNavigator=function(){function K(){!function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")}(this,K)}return K.prototype.prepare=function(D){var F=new P.IFrameWindow(D);return Promise.resolve(F)},K.prototype.callback=function(D){y.Log.debug("IFrameNavigator.callback");try{return P.IFrameWindow.notifyParent(D),Promise.resolve()}catch(F){return Promise.reject(F)}},K}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IFrameWindow=void 0;var y=function(){function K(B,D){for(var F=0;F<D.length;F++){var w=D[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(B,w.key,w)}}return function(B,D,F){return D&&K(B.prototype,D),F&&K(B,F),B}}(),P=I(0);b.IFrameWindow=function(){function K(B){var D=this;(function(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")})(this,K),this._promise=new Promise(function(F,w){D._resolve=F,D._reject=w}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return K.prototype.navigate=function(D){if(D&&D.url){var F=D.silentRequestTimeout||1e4;P.Log.debug("IFrameWindow.navigate: Using timeout of:",F),this._timer=window.setTimeout(this._timeout.bind(this),F),this._frame.src=D.url}else this._error("No url provided");return this.promise},K.prototype._success=function(D){this._cleanup(),P.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(D)},K.prototype._error=function(D){this._cleanup(),P.Log.error(D),this._reject(new Error(D))},K.prototype.close=function(){this._cleanup()},K.prototype._cleanup=function(){this._frame&&(P.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},K.prototype._timeout=function(){P.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},K.prototype._message=function(D){if(P.Log.debug("IFrameWindow.message"),this._timer&&D.origin===this._origin&&D.source===this._frame.contentWindow&&"string"==typeof D.data&&(D.data.startsWith("http://")||D.data.startsWith("https://"))){var F=D.data;F?this._success({url:F}):this._error("Invalid response from frame")}},K.notifyParent=function(D){P.Log.debug("IFrameWindow.notifyParent"),(D=D||window.location.href)&&(P.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(D,location.protocol+"//"+location.host))},y(K,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),K}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.UserManagerEvents=void 0;var y=I(0),P=I(16),K=I(17);b.UserManagerEvents=function(B){function D(F){!function(V,k){if(!(V instanceof k))throw new TypeError("Cannot call a class as a function")}(this,D);var w=function(V,k){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?V:k}(this,B.call(this,F));return w._userLoaded=new K.Event("User loaded"),w._userUnloaded=new K.Event("User unloaded"),w._silentRenewError=new K.Event("Silent renew error"),w._userSignedIn=new K.Event("User signed in"),w._userSignedOut=new K.Event("User signed out"),w._userSessionChanged=new K.Event("User session changed"),w}return function(w,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}(D,B),D.prototype.load=function(w){var j=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];y.Log.debug("UserManagerEvents.load"),B.prototype.load.call(this,w),j&&this._userLoaded.raise(w)},D.prototype.unload=function(){y.Log.debug("UserManagerEvents.unload"),B.prototype.unload.call(this),this._userUnloaded.raise()},D.prototype.addUserLoaded=function(w){this._userLoaded.addHandler(w)},D.prototype.removeUserLoaded=function(w){this._userLoaded.removeHandler(w)},D.prototype.addUserUnloaded=function(w){this._userUnloaded.addHandler(w)},D.prototype.removeUserUnloaded=function(w){this._userUnloaded.removeHandler(w)},D.prototype.addSilentRenewError=function(w){this._silentRenewError.addHandler(w)},D.prototype.removeSilentRenewError=function(w){this._silentRenewError.removeHandler(w)},D.prototype._raiseSilentRenewError=function(w){y.Log.debug("UserManagerEvents._raiseSilentRenewError",w.message),this._silentRenewError.raise(w)},D.prototype.addUserSignedIn=function(w){this._userSignedIn.addHandler(w)},D.prototype.removeUserSignedIn=function(w){this._userSignedIn.removeHandler(w)},D.prototype._raiseUserSignedIn=function(){y.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},D.prototype.addUserSignedOut=function(w){this._userSignedOut.addHandler(w)},D.prototype.removeUserSignedOut=function(w){this._userSignedOut.removeHandler(w)},D.prototype._raiseUserSignedOut=function(){y.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},D.prototype.addUserSessionChanged=function(w){this._userSessionChanged.addHandler(w)},D.prototype.removeUserSessionChanged=function(w){this._userSessionChanged.removeHandler(w)},D.prototype._raiseUserSessionChanged=function(){y.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},D}(P.AccessTokenEvents)},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Timer=void 0;var y=function(){function w(j,V){for(var k=0;k<V.length;k++){var q=V[k];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(j,q.key,q)}}return function(j,V,k){return V&&w(j.prototype,V),k&&w(j,k),j}}(),P=I(0),K=I(1),B=I(17);function D(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}function F(w,j){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!j||"object"!=typeof j&&"function"!=typeof j?w:j}b.Timer=function(w){function j(V){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K.Global.timer,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;D(this,j);var H=F(this,w.call(this,V));return H._timer=k,H._nowFunc=q||function(){return Date.now()/1e3},H}return function(k,q){if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function, not "+typeof q);k.prototype=Object.create(q&&q.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(k,q):k.__proto__=q)}(j,w),j.prototype.init=function(k){k<=0&&(k=1),k=parseInt(k);var q=this.now+k;if(this.expiration===q&&this._timerHandle)P.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),P.Log.debug("Timer.init timer "+this._name+" for duration:",k),this._expiration=q;var H=5;k<H&&(H=k),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*H)}},j.prototype.cancel=function(){this._timerHandle&&(P.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},j.prototype._callback=function(){P.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),w.prototype.raise.call(this))},y(j,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),j}(B.Event)},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SilentRenewService=void 0;var y=I(0);b.SilentRenewService=function(){function P(K){(function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")})(this,P),this._userManager=K}return P.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(B){}).catch(function(B){y.Log.error("SilentRenewService.start: Error from getUser:",B.message)}))},P.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},P.prototype._tokenExpiring=function(){var B=this;this._userManager.signinSilent().then(function(D){y.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(D){y.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",D.message),B._userManager.events._raiseSilentRenewError(D)})},P}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CordovaPopupNavigator=void 0;var y=I(21);b.CordovaPopupNavigator=function(){function P(){!function(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")}(this,P)}return P.prototype.prepare=function(B){var D=new y.CordovaPopupWindow(B);return Promise.resolve(D)},P}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CordovaIFrameNavigator=void 0;var y=I(21);b.CordovaIFrameNavigator=function(){function P(){!function(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")}(this,P)}return P.prototype.prepare=function(B){B.popupWindowFeatures="hidden=yes";var D=new y.CordovaPopupWindow(B);return Promise.resolve(D)},P}()},function(xe,b,I){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Version="1.11.5"}])},5952:(at,xe,b)=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});var I=b(2835);I.Observable.of=I.of},2835:(at,xe,b)=>{"use strict";b.r(xe),b.d(xe,{ArgumentOutOfRangeError:()=>ne.W,AsyncSubject:()=>rn,BehaviorSubject:()=>q.X,ConnectableObservable:()=>y.c,EMPTY:()=>Be.E,EmptyError:()=>be.K,GroupedObservable:()=>w,NEVER:()=>Pn,Notification:()=>dt,NotificationKind:()=>pt,ObjectUnsubscribedError:()=>qe.N,Observable:()=>I.y,ReplaySubject:()=>Vt,Scheduler:()=>oe,Subject:()=>k.xQ,Subscriber:()=>Ue.L,Subscription:()=>P.w,TimeoutError:()=>tt,UnsubscriptionError:()=>Oe.B,VirtualAction:()=>ct,VirtualTimeScheduler:()=>Pt,animationFrame:()=>lt,animationFrameScheduler:()=>Xe,asap:()=>U,asapScheduler:()=>L,async:()=>Ee,asyncScheduler:()=>ce,bindCallback:()=>pn,bindNodeCallback:()=>Et,combineLatest:()=>En.aj,concat:()=>zt.z,config:()=>Te.v,defer:()=>_t.P,empty:()=>Be.c,forkJoin:()=>yr,from:()=>ir.D,fromEvent:()=>qn,fromEventPattern:()=>Tr,generate:()=>Ar,identity:()=>Ht.y,iif:()=>Rn,interval:()=>Lr,isObservable:()=>ke,merge:()=>fn.T,never:()=>Mn,noop:()=>Wt.Z,observable:()=>V.L,of:()=>Le.of,onErrorResumeNext:()=>ft,pairs:()=>Jt,partition:()=>Nn,pipe:()=>xt.z,queue:()=>pe,queueScheduler:()=>ve,race:()=>Yt,range:()=>o,scheduled:()=>Fe.x,throwError:()=>me,timer:()=>p,using:()=>O,zip:()=>ee});var I=b(9897),y=b(2441),P=b(826);class w extends I.y{constructor(l,h,_){super(),this.key=l,this.groupSubject=h,this.refCountSubscription=_}_subscribe(l){const h=new P.w,{refCountSubscription:_,groupSubject:R}=this;return _&&!_.closed&&h.add(new j(_)),h.add(R.subscribe(l)),h}}class j extends P.w{constructor(l){super(),this.parent=l,l.count++}unsubscribe(){const l=this.parent;!l.closed&&!this.closed&&(super.unsubscribe(),l.count-=1,0===l.count&&l.attemptedToUnsubscribe&&l.unsubscribe())}}var V=b(6554),k=b(9765),q=b(6215);class H extends P.w{constructor(l,h){super()}schedule(l,h=0){return this}}class W extends H{constructor(l,h){super(l,h),this.scheduler=l,this.work=h,this.pending=!1}schedule(l,h=0){if(this.closed)return this;this.state=l;const _=this.id,R=this.scheduler;return null!=_&&(this.id=this.recycleAsyncId(R,_,h)),this.pending=!0,this.delay=h,this.id=this.id||this.requestAsyncId(R,this.id,h),this}requestAsyncId(l,h,_=0){return setInterval(l.flush.bind(l,this),_)}recycleAsyncId(l,h,_=0){if(null!==_&&this.delay===_&&!1===this.pending)return h;clearInterval(h)}execute(l,h){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _=this._execute(l,h);if(_)return _;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(l,h){let R,_=!1;try{this.work(l)}catch(X){_=!0,R=!!X&&X||new Error(X)}if(_)return this.unsubscribe(),R}_unsubscribe(){const l=this.id,h=this.scheduler,_=h.actions,R=_.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==R&&_.splice(R,1),null!=l&&(this.id=this.recycleAsyncId(h,l,null)),this.delay=null}}let oe=(()=>{class C{constructor(h,_=C.now){this.SchedulerAction=h,this.now=_}schedule(h,_=0,R){return new this.SchedulerAction(this,h).schedule(R,_)}}return C.now=()=>Date.now(),C})();class ae extends oe{constructor(l,h=oe.now){super(l,()=>ae.delegate&&ae.delegate!==this?ae.delegate.now():h()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(l,h=0,_){return ae.delegate&&ae.delegate!==this?ae.delegate.schedule(l,h,_):super.schedule(l,h,_)}flush(l){const{actions:h}=this;if(this.active)return void h.push(l);let _;this.active=!0;do{if(_=l.execute(l.state,l.delay))break}while(l=h.shift());if(this.active=!1,_){for(;l=h.shift();)l.unsubscribe();throw _}}}const ve=new class extends ae{}(class extends W{constructor(l,h){super(l,h),this.scheduler=l,this.work=h}schedule(l,h=0){return h>0?super.schedule(l,h):(this.delay=h,this.state=l,this.scheduler.flush(this),this)}execute(l,h){return h>0||this.closed?super.execute(l,h):this._execute(l,h)}requestAsyncId(l,h,_=0){return null!==_&&_>0||null===_&&this.delay>0?super.requestAsyncId(l,h,_):l.flush(this)}}),pe=ve;var Ue=b(7393),Be=b(9193),Le=b(5917);function me(C,l){return new I.y(l?h=>l.schedule(nt,0,{error:C,subscriber:h}):h=>h.error(C))}function nt({error:C,subscriber:l}){l.error(C)}var pt=(()=>{return(C=pt||(pt={})).NEXT="N",C.ERROR="E",C.COMPLETE="C",pt;var C})();class dt{constructor(l,h,_){this.kind=l,this.value=h,this.error=_,this.hasValue="N"===l}observe(l){switch(this.kind){case"N":return l.next&&l.next(this.value);case"E":return l.error&&l.error(this.error);case"C":return l.complete&&l.complete()}}do(l,h,_){switch(this.kind){case"N":return l&&l(this.value);case"E":return h&&h(this.error);case"C":return _&&_()}}accept(l,h,_){return l&&"function"==typeof l.next?this.observe(l):this.do(l,h,_)}toObservable(){switch(this.kind){case"N":return(0,Le.of)(this.value);case"E":return me(this.error);case"C":return(0,Be.c)()}throw new Error("unexpected notification kind value")}static createNext(l){return void 0!==l?new dt("N",l):dt.undefinedValueNotification}static createError(l){return new dt("E",void 0,l)}static createComplete(){return dt.completeNotification}}dt.completeNotification=new dt("C"),dt.undefinedValueNotification=new dt("N",void 0);class ot extends Ue.L{constructor(l,h,_=0){super(l),this.scheduler=h,this.delay=_}static dispatch(l){const{notification:h,destination:_}=l;h.observe(_),this.unsubscribe()}scheduleMessage(l){this.destination.add(this.scheduler.schedule(ot.dispatch,this.delay,new vt(l,this.destination)))}_next(l){this.scheduleMessage(dt.createNext(l))}_error(l){this.scheduleMessage(dt.createError(l)),this.unsubscribe()}_complete(){this.scheduleMessage(dt.createComplete()),this.unsubscribe()}}class vt{constructor(l,h){this.notification=l,this.destination=h}}var qe=b(7971),gt=b(8858);class Vt extends k.xQ{constructor(l=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY,_){super(),this.scheduler=_,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=l<1?1:l,this._windowTime=h<1?1:h,h===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(l){if(!this.isStopped){const h=this._events;h.push(l),h.length>this._bufferSize&&h.shift()}super.next(l)}nextTimeWindow(l){this.isStopped||(this._events.push(new mn(this._getNow(),l)),this._trimBufferThenGetEvents()),super.next(l)}_subscribe(l){const h=this._infiniteTimeWindow,_=h?this._events:this._trimBufferThenGetEvents(),R=this.scheduler,X=_.length;let le;if(this.closed)throw new qe.N;if(this.isStopped||this.hasError?le=P.w.EMPTY:(this.observers.push(l),le=new gt.W(this,l)),R&&l.add(l=new ot(l,R)),h)for(let Ae=0;Ae<X&&!l.closed;Ae++)l.next(_[Ae]);else for(let Ae=0;Ae<X&&!l.closed;Ae++)l.next(_[Ae].value);return this.hasError?l.error(this.thrownError):this.isStopped&&l.complete(),le}_getNow(){return(this.scheduler||pe).now()}_trimBufferThenGetEvents(){const l=this._getNow(),h=this._bufferSize,_=this._windowTime,R=this._events,X=R.length;let le=0;for(;le<X&&!(l-R[le].time<_);)le++;return X>h&&(le=Math.max(le,X-h)),le>0&&R.splice(0,le),R}}class mn{constructor(l,h){this.time=l,this.value=h}}class rn extends k.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(l){return this.hasError?(l.error(this.thrownError),P.w.EMPTY):this.hasCompleted&&this.hasNext?(l.next(this.value),l.complete(),P.w.EMPTY):super._subscribe(l)}next(l){this.hasCompleted||(this.value=l,this.hasNext=!0)}error(l){this.hasCompleted||super.error(l)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}let _n=1;const Cn=Promise.resolve(),Kn={};function Sn(C){return C in Kn&&(delete Kn[C],!0)}const sn={setImmediate(C){const l=_n++;return Kn[l]=!0,Cn.then(()=>Sn(l)&&C()),l},clearImmediate(C){Sn(C)}},L=new class extends ae{flush(l){this.active=!0,this.scheduled=void 0;const{actions:h}=this;let _,R=-1,X=h.length;l=l||h.shift();do{if(_=l.execute(l.state,l.delay))break}while(++R<X&&(l=h.shift()));if(this.active=!1,_){for(;++R<X&&(l=h.shift());)l.unsubscribe();throw _}}}(class extends W{constructor(l,h){super(l,h),this.scheduler=l,this.work=h}requestAsyncId(l,h,_=0){return null!==_&&_>0?super.requestAsyncId(l,h,_):(l.actions.push(this),l.scheduled||(l.scheduled=sn.setImmediate(l.flush.bind(l,null))))}recycleAsyncId(l,h,_=0){if(null!==_&&_>0||null===_&&this.delay>0)return super.recycleAsyncId(l,h,_);0===l.actions.length&&(sn.clearImmediate(h),l.scheduled=void 0)}}),U=L,ce=new ae(W),Ee=ce,Xe=new class extends ae{flush(l){this.active=!0,this.scheduled=void 0;const{actions:h}=this;let _,R=-1,X=h.length;l=l||h.shift();do{if(_=l.execute(l.state,l.delay))break}while(++R<X&&(l=h.shift()));if(this.active=!1,_){for(;++R<X&&(l=h.shift());)l.unsubscribe();throw _}}}(class extends W{constructor(l,h){super(l,h),this.scheduler=l,this.work=h}requestAsyncId(l,h,_=0){return null!==_&&_>0?super.requestAsyncId(l,h,_):(l.actions.push(this),l.scheduled||(l.scheduled=requestAnimationFrame(()=>l.flush(null))))}recycleAsyncId(l,h,_=0){if(null!==_&&_>0||null===_&&this.delay>0)return super.recycleAsyncId(l,h,_);0===l.actions.length&&(cancelAnimationFrame(h),l.scheduled=void 0)}}),lt=Xe;let Pt=(()=>{class C extends ae{constructor(h=ct,_=Number.POSITIVE_INFINITY){super(h,()=>this.frame),this.maxFrames=_,this.frame=0,this.index=-1}flush(){const{actions:h,maxFrames:_}=this;let R,X;for(;(X=h[0])&&X.delay<=_&&(h.shift(),this.frame=X.delay,!(R=X.execute(X.state,X.delay))););if(R){for(;X=h.shift();)X.unsubscribe();throw R}}}return C.frameTimeFactor=10,C})();class ct extends W{constructor(l,h,_=(l.index+=1)){super(l,h),this.scheduler=l,this.work=h,this.index=_,this.active=!0,this.index=l.index=_}schedule(l,h=0){if(!this.id)return super.schedule(l,h);this.active=!1;const _=new ct(this.scheduler,this.work);return this.add(_),_.schedule(l,h)}requestAsyncId(l,h,_=0){this.delay=l.frame+_;const{actions:R}=l;return R.push(this),R.sort(ct.sortActions),!0}recycleAsyncId(l,h,_=0){}_execute(l,h){if(!0===this.active)return super._execute(l,h)}static sortActions(l,h){return l.delay===h.delay?l.index===h.index?0:l.index>h.index?1:-1:l.delay>h.delay?1:-1}}var xt=b(4022),Wt=b(8640),Ht=b(4487);function ke(C){return!!C&&(C instanceof I.y||"function"==typeof C.lift&&"function"==typeof C.subscribe)}var ne=b(7108),be=b(3410),Oe=b(7744);const tt=(()=>{function C(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return C.prototype=Object.create(Error.prototype),C})();var $=b(8002),Qe=b(3179),rt=b(9796),We=b(4869);function pn(C,l,h){if(l){if(!(0,We.K)(l))return(..._)=>pn(C,h)(..._).pipe((0,$.U)(R=>(0,rt.k)(R)?l(...R):l(R)));h=l}return function(..._){const R=this;let X;const le={context:R,subject:X,callbackFunc:C,scheduler:h};return new I.y(Ae=>{if(h)return h.schedule(jt,0,{args:_,subscriber:Ae,params:le});if(!X){X=new rn;const Pe=(...Ye)=>{X.next(Ye.length<=1?Ye[0]:Ye),X.complete()};try{C.apply(R,[..._,Pe])}catch(Ye){(0,Qe._)(X)?X.error(Ye):console.warn(Ye)}}return X.subscribe(Ae)})}}function jt(C){const{args:h,subscriber:_,params:R}=C,{callbackFunc:X,context:le,scheduler:Ae}=R;let{subject:Pe}=R;if(!Pe){Pe=R.subject=new rn;const Ye=(...ze)=>{this.add(Ae.schedule(on,0,{value:ze.length<=1?ze[0]:ze,subject:Pe}))};try{X.apply(le,[...h,Ye])}catch(ze){Pe.error(ze)}}this.add(Pe.subscribe(_))}function on(C){const{value:l,subject:h}=C;h.next(l),h.complete()}function Et(C,l,h){if(l){if(!(0,We.K)(l))return(..._)=>Et(C,h)(..._).pipe((0,$.U)(R=>(0,rt.k)(R)?l(...R):l(R)));h=l}return function(..._){const R={subject:void 0,args:_,callbackFunc:C,scheduler:h,context:this};return new I.y(X=>{const{context:le}=R;let{subject:Ae}=R;if(h)return h.schedule(Tn,0,{params:R,subscriber:X,context:le});if(!Ae){Ae=R.subject=new rn;const Pe=(...Ye)=>{const ze=Ye.shift();ze?Ae.error(ze):(Ae.next(Ye.length<=1?Ye[0]:Ye),Ae.complete())};try{C.apply(le,[..._,Pe])}catch(Ye){(0,Qe._)(Ae)?Ae.error(Ye):console.warn(Ye)}}return Ae.subscribe(X)})}}function Tn(C){const{params:l,subscriber:h,context:_}=C,{callbackFunc:R,args:X,scheduler:le}=l;let Ae=l.subject;if(!Ae){Ae=l.subject=new rn;const Pe=(...Ye)=>{const ze=Ye.shift();this.add(ze?le.schedule(St,0,{err:ze,subject:Ae}):le.schedule(He,0,{value:Ye.length<=1?Ye[0]:Ye,subject:Ae}))};try{R.apply(_,[...X,Pe])}catch(Ye){this.add(le.schedule(St,0,{err:Ye,subject:Ae}))}}this.add(Ae.subscribe(h))}function He(C){const{value:l,subject:h}=C;h.next(l),h.complete()}function St(C){const{err:l,subject:h}=C;h.error(l)}var En=b(9112),zt=b(8071),_t=b(1439),An=b(1555),ir=b(9412);function yr(...C){if(1===C.length){const l=C[0];if((0,rt.k)(l))return yn(l,null);if((0,An.K)(l)&&Object.getPrototypeOf(l)===Object.prototype){const h=Object.keys(l);return yn(h.map(_=>l[_]),h)}}if("function"==typeof C[C.length-1]){const l=C.pop();return yn(C=1===C.length&&(0,rt.k)(C[0])?C[0]:C,null).pipe((0,$.U)(h=>l(...h)))}return yn(C,null)}function yn(C,l){return new I.y(h=>{const _=C.length;if(0===_)return void h.complete();const R=new Array(_);let X=0,le=0;for(let Ae=0;Ae<_;Ae++){const Pe=(0,ir.D)(C[Ae]);let Ye=!1;h.add(Pe.subscribe({next:ze=>{Ye||(Ye=!0,le++),R[Ae]=ze},error:ze=>h.error(ze),complete:()=>{X++,(X===_||!Ye)&&(le===_&&h.next(l?l.reduce((ze,st,Gt)=>(ze[st]=R[Gt],ze),{}):R),h.complete())}}))}})}var vn=b(9105);function qn(C,l,h,_){return(0,vn.m)(h)&&(_=h,h=void 0),_?qn(C,l,h).pipe((0,$.U)(R=>(0,rt.k)(R)?_(...R):_(R))):new I.y(R=>{$r(C,l,function(le){R.next(arguments.length>1?Array.prototype.slice.call(arguments):le)},R,h)})}function $r(C,l,h,_,R){let X;if(function(C){return C&&"function"==typeof C.addEventListener&&"function"==typeof C.removeEventListener}(C)){const le=C;C.addEventListener(l,h,R),X=()=>le.removeEventListener(l,h,R)}else if(function(C){return C&&"function"==typeof C.on&&"function"==typeof C.off}(C)){const le=C;C.on(l,h),X=()=>le.off(l,h)}else if(function(C){return C&&"function"==typeof C.addListener&&"function"==typeof C.removeListener}(C)){const le=C;C.addListener(l,h),X=()=>le.removeListener(l,h)}else{if(!C||!C.length)throw new TypeError("Invalid event target");for(let le=0,Ae=C.length;le<Ae;le++)$r(C[le],l,h,_,R)}_.add(X)}function Tr(C,l,h){return h?Tr(C,l).pipe((0,$.U)(_=>(0,rt.k)(_)?h(..._):h(_))):new I.y(_=>{const R=(...le)=>_.next(1===le.length?le[0]:le);let X;try{X=C(R)}catch(le){return void _.error(le)}if((0,vn.m)(l))return()=>l(R,X)})}function Ar(C,l,h,_,R){let X,le;return 1==arguments.length?(le=C.initialState,l=C.condition,h=C.iterate,X=C.resultSelector||Ht.y,R=C.scheduler):void 0===_||(0,We.K)(_)?(le=C,X=Ht.y,R=_):(le=C,X=_),new I.y(Ae=>{let Pe=le;if(R)return R.schedule(sr,0,{subscriber:Ae,iterate:h,condition:l,resultSelector:X,state:Pe});for(;;){if(l){let ze;try{ze=l(Pe)}catch(st){return void Ae.error(st)}if(!ze){Ae.complete();break}}let Ye;try{Ye=X(Pe)}catch(ze){return void Ae.error(ze)}if(Ae.next(Ye),Ae.closed)break;try{Pe=h(Pe)}catch(ze){return void Ae.error(ze)}}})}function sr(C){const{subscriber:l,condition:h}=C;if(l.closed)return;if(C.needIterate)try{C.state=C.iterate(C.state)}catch(R){return void l.error(R)}else C.needIterate=!0;if(h){let R;try{R=h(C.state)}catch(X){return void l.error(X)}if(!R)return void l.complete();if(l.closed)return}let _;try{_=C.resultSelector(C.state)}catch(R){return void l.error(R)}return l.closed||(l.next(_),l.closed)?void 0:this.schedule(C)}function Rn(C,l=Be.E,h=Be.E){return(0,_t.P)(()=>C()?l:h)}function Wn(C){return!(0,rt.k)(C)&&C-parseFloat(C)+1>=0}function Lr(C=0,l=Ee){return(!Wn(C)||C<0)&&(C=0),(!l||"function"!=typeof l.schedule)&&(l=Ee),new I.y(h=>(h.add(l.schedule(qt,C,{subscriber:h,counter:0,period:C})),h))}function qt(C){const{subscriber:l,counter:h,period:_}=C;l.next(h),this.schedule({subscriber:l,counter:h+1,period:_},_)}var fn=b(6682);const Pn=new I.y(Wt.Z);function Mn(){return Pn}function ft(...C){if(0===C.length)return Be.E;const[l,...h]=C;return 1===C.length&&(0,rt.k)(l)?ft(...l):new I.y(_=>{const R=()=>_.add(ft(...h).subscribe(_));return(0,ir.D)(l).subscribe({next(X){_.next(X)},error:R,complete:R})})}function Jt(C,l){return new I.y(l?h=>{const _=Object.keys(C),R=new P.w;return R.add(l.schedule(zn,0,{keys:_,index:0,subscriber:h,subscription:R,obj:C})),R}:h=>{const _=Object.keys(C);for(let R=0;R<_.length&&!h.closed;R++){const X=_[R];C.hasOwnProperty(X)&&h.next([X,C[X]])}h.complete()})}function zn(C){const{keys:l,index:h,subscriber:_,subscription:R,obj:X}=C;if(!_.closed)if(h<l.length){const le=l[h];_.next([le,X[le]]),R.add(this.schedule({keys:l,index:h+1,subscriber:_,subscription:R,obj:X}))}else _.complete()}function Ze(C,l){function h(){return!h.pred.apply(h.thisArg,arguments)}return h.pred=C,h.thisArg=l,h}var Dt=b(7444),$t=b(5435);function Nn(C,l,h){return[(0,$t.h)(l,h)(new I.y((0,Dt.s)(C))),(0,$t.h)(Ze(l,h))(new I.y((0,Dt.s)(C)))]}var or=b(6693),Qt=b(5197),Xt=b(509);function Yt(...C){if(1===C.length){if(!(0,rt.k)(C[0]))return C[0];C=C[0]}return(0,or.n)(C,void 0).lift(new Jn)}class Jn{call(l,h){return h.subscribe(new a(l))}}class a extends Qt.L{constructor(l){super(l),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(l){this.observables.push(l)}_complete(){const l=this.observables,h=l.length;if(0===h)this.destination.complete();else{for(let _=0;_<h&&!this.hasFirst;_++){const X=(0,Xt.D)(this,l[_],void 0,_);this.subscriptions&&this.subscriptions.push(X),this.add(X)}this.observables=null}}notifyNext(l,h,_){if(!this.hasFirst){this.hasFirst=!0;for(let R=0;R<this.subscriptions.length;R++)if(R!==_){let X=this.subscriptions[R];X.unsubscribe(),this.remove(X)}this.subscriptions=null}this.destination.next(h)}}function o(C=0,l,h){return new I.y(_=>{void 0===l&&(l=C,C=0);let R=0,X=C;if(h)return h.schedule(c,0,{index:R,count:l,start:C,subscriber:_});for(;;){if(R++>=l){_.complete();break}if(_.next(X++),_.closed)break}})}function c(C){const{start:l,index:h,count:_,subscriber:R}=C;h>=_?R.complete():(R.next(l),!R.closed&&(C.index=h+1,C.start=l+1,this.schedule(C)))}function p(C=0,l,h){let _=-1;return Wn(l)?_=Number(l)<1?1:Number(l):(0,We.K)(l)&&(h=l),(0,We.K)(h)||(h=Ee),new I.y(R=>{const X=Wn(C)?C:+C-h.now();return h.schedule(E,X,{index:0,period:_,subscriber:R})})}function E(C){const{index:l,period:h,subscriber:_}=C;if(_.next(l),!_.closed){if(-1===h)return _.complete();C.index=l+1,this.schedule(C,h)}}function O(C,l){return new I.y(h=>{let _,R;try{_=C()}catch(Ae){return void h.error(Ae)}try{R=l(_)}catch(Ae){return void h.error(Ae)}const le=(R?(0,ir.D)(R):Be.E).subscribe(h);return()=>{le.unsubscribe(),_&&_.unsubscribe()}})}var z=b(377),se=b(5345);function ee(...C){const l=C[C.length-1];return"function"==typeof l&&C.pop(),(0,or.n)(C,void 0).lift(new re(l))}class re{constructor(l){this.resultSelector=l}call(l,h){return h.subscribe(new ie(l,this.resultSelector))}}class ie extends Ue.L{constructor(l,h,_=Object.create(null)){super(l),this.resultSelector=h,this.iterators=[],this.active=0,this.resultSelector="function"==typeof h?h:void 0}_next(l){const h=this.iterators;(0,rt.k)(l)?h.push(new he(l)):h.push("function"==typeof l[z.hZ]?new ue(l[z.hZ]()):new _e(this.destination,this,l))}_complete(){const l=this.iterators,h=l.length;if(this.unsubscribe(),0!==h){this.active=h;for(let _=0;_<h;_++){let R=l[_];R.stillUnsubscribed?this.destination.add(R.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const l=this.iterators,h=l.length,_=this.destination;for(let le=0;le<h;le++){let Ae=l[le];if("function"==typeof Ae.hasValue&&!Ae.hasValue())return}let R=!1;const X=[];for(let le=0;le<h;le++){let Ae=l[le],Pe=Ae.next();if(Ae.hasCompleted()&&(R=!0),Pe.done)return void _.complete();X.push(Pe.value)}this.resultSelector?this._tryresultSelector(X):_.next(X),R&&_.complete()}_tryresultSelector(l){let h;try{h=this.resultSelector.apply(this,l)}catch(_){return void this.destination.error(_)}this.destination.next(h)}}class ue{constructor(l){this.iterator=l,this.nextResult=l.next()}hasValue(){return!0}next(){const l=this.nextResult;return this.nextResult=this.iterator.next(),l}hasCompleted(){const l=this.nextResult;return Boolean(l&&l.done)}}class he{constructor(l){this.array=l,this.index=0,this.length=0,this.length=l.length}[z.hZ](){return this}next(l){const h=this.index++;return h<this.length?{value:this.array[h],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class _e extends se.Ds{constructor(l,h,_){super(l),this.parent=h,this.observable=_,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[z.hZ](){return this}next(){const l=this.buffer;return 0===l.length&&this.isComplete?{value:null,done:!0}:{value:l.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(l){this.buffer.push(l),this.parent.checkIterators()}subscribe(){return(0,se.ft)(this.observable,new se.IY(this))}}var Fe=b(1115),Te=b(2494)},6215:(at,xe,b)=>{"use strict";b.d(xe,{X:()=>P});var I=b(9765),y=b(7971);class P extends I.xQ{constructor(B){super(),this._value=B}get value(){return this.getValue()}_subscribe(B){const D=super._subscribe(B);return D&&!D.closed&&B.next(this._value),D}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new y.N;return this._value}next(B){super.next(this._value=B)}}},9897:(at,xe,b)=>{"use strict";b.d(xe,{y:()=>j});var I=b(3179),y=b(7393),P=b(9181),K=b(6490),D=b(6554),F=b(4022),w=b(2494);let j=(()=>{class k{constructor(H){this._isScalar=!1,H&&(this._subscribe=H)}lift(H){const W=new k;return W.source=this,W.operator=H,W}subscribe(H,W,Q){const{operator:oe}=this,ae=function(k,q,H){if(k){if(k instanceof y.L)return k;if(k[P.b])return k[P.b]()}return k||q||H?new y.L(k,q,H):new y.L(K.c)}(H,W,Q);if(ae.add(oe?oe.call(ae,this.source):this.source||w.v.useDeprecatedSynchronousErrorHandling&&!ae.syncErrorThrowable?this._subscribe(ae):this._trySubscribe(ae)),w.v.useDeprecatedSynchronousErrorHandling&&ae.syncErrorThrowable&&(ae.syncErrorThrowable=!1,ae.syncErrorThrown))throw ae.syncErrorValue;return ae}_trySubscribe(H){try{return this._subscribe(H)}catch(W){w.v.useDeprecatedSynchronousErrorHandling&&(H.syncErrorThrown=!0,H.syncErrorValue=W),(0,I._)(H)?H.error(W):console.warn(W)}}forEach(H,W){return new(W=V(W))((Q,oe)=>{let ae;ae=this.subscribe(ge=>{try{H(ge)}catch(ve){oe(ve),ae&&ae.unsubscribe()}},oe,Q)})}_subscribe(H){const{source:W}=this;return W&&W.subscribe(H)}[D.L](){return this}pipe(...H){return 0===H.length?this:(0,F.U)(H)(this)}toPromise(H){return new(H=V(H))((W,Q)=>{let oe;this.subscribe(ae=>oe=ae,ae=>Q(ae),()=>W(oe))})}}return k.create=q=>new k(q),k})();function V(k){if(k||(k=w.v.Promise||Promise),!k)throw new Error("no Promise impl found");return k}},6490:(at,xe,b)=>{"use strict";b.d(xe,{c:()=>P});var I=b(2494),y=b(4449);const P={closed:!0,next(K){},error(K){if(I.v.useDeprecatedSynchronousErrorHandling)throw K;(0,y.z)(K)},complete(){}}},5197:(at,xe,b)=>{"use strict";b.d(xe,{L:()=>y});var I=b(7393);class y extends I.L{notifyNext(K,B,D,F,w){this.destination.next(B)}notifyError(K,B){this.destination.error(K)}notifyComplete(K){this.destination.complete()}}},9765:(at,xe,b)=>{"use strict";b.d(xe,{Yc:()=>F,xQ:()=>w});var I=b(9897),y=b(7393),P=b(826),K=b(7971),B=b(8858),D=b(9181);class F extends y.L{constructor(k){super(k),this.destination=k}}let w=(()=>{class V extends I.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[D.b](){return new F(this)}lift(q){const H=new j(this,this);return H.operator=q,H}next(q){if(this.closed)throw new K.N;if(!this.isStopped){const{observers:H}=this,W=H.length,Q=H.slice();for(let oe=0;oe<W;oe++)Q[oe].next(q)}}error(q){if(this.closed)throw new K.N;this.hasError=!0,this.thrownError=q,this.isStopped=!0;const{observers:H}=this,W=H.length,Q=H.slice();for(let oe=0;oe<W;oe++)Q[oe].error(q);this.observers.length=0}complete(){if(this.closed)throw new K.N;this.isStopped=!0;const{observers:q}=this,H=q.length,W=q.slice();for(let Q=0;Q<H;Q++)W[Q].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(q){if(this.closed)throw new K.N;return super._trySubscribe(q)}_subscribe(q){if(this.closed)throw new K.N;return this.hasError?(q.error(this.thrownError),P.w.EMPTY):this.isStopped?(q.complete(),P.w.EMPTY):(this.observers.push(q),new B.W(this,q))}asObservable(){const q=new I.y;return q.source=this,q}}return V.create=(k,q)=>new j(k,q),V})();class j extends w{constructor(k,q){super(),this.destination=k,this.source=q}next(k){const{destination:q}=this;q&&q.next&&q.next(k)}error(k){const{destination:q}=this;q&&q.error&&this.destination.error(k)}complete(){const{destination:k}=this;k&&k.complete&&this.destination.complete()}_subscribe(k){const{source:q}=this;return q?this.source.subscribe(k):P.w.EMPTY}}},8858:(at,xe,b)=>{"use strict";b.d(xe,{W:()=>y});var I=b(826);class y extends I.w{constructor(K,B){super(),this.subject=K,this.subscriber=B,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const K=this.subject,B=K.observers;if(this.subject=null,!B||0===B.length||K.isStopped||K.closed)return;const D=B.indexOf(this.subscriber);-1!==D&&B.splice(D,1)}}},7393:(at,xe,b)=>{"use strict";b.d(xe,{L:()=>F});var I=b(9105),y=b(6490),P=b(826),K=b(9181),B=b(2494),D=b(4449);class F extends P.w{constructor(V,k,q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=y.c;break;case 1:if(!V){this.destination=y.c;break}if("object"==typeof V){V instanceof F?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new w(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new w(this,V,k,q)}}[K.b](){return this}static create(V,k,q){const H=new F(V,k,q);return H.syncErrorThrowable=!1,H}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class w extends F{constructor(V,k,q,H){super(),this._parentSubscriber=V;let W,Q=this;(0,I.m)(k)?W=k:k&&(W=k.next,q=k.error,H=k.complete,k!==y.c&&(Q=Object.create(k),(0,I.m)(Q.unsubscribe)&&this.add(Q.unsubscribe.bind(Q)),Q.unsubscribe=this.unsubscribe.bind(this))),this._context=Q,this._next=W,this._error=q,this._complete=H}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:k}=this;B.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?this.__tryOrSetError(k,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:k}=this,{useDeprecatedSynchronousErrorHandling:q}=B.v;if(this._error)q&&k.syncErrorThrowable?(this.__tryOrSetError(k,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(k.syncErrorThrowable)q?(k.syncErrorValue=V,k.syncErrorThrown=!0):(0,D.z)(V),this.unsubscribe();else{if(this.unsubscribe(),q)throw V;(0,D.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const k=()=>this._complete.call(this._context);B.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,k),this.unsubscribe()):(this.__tryOrUnsub(k),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,k){try{V.call(this._context,k)}catch(q){if(this.unsubscribe(),B.v.useDeprecatedSynchronousErrorHandling)throw q;(0,D.z)(q)}}__tryOrSetError(V,k,q){if(!B.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{k.call(this._context,q)}catch(H){return B.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=H,V.syncErrorThrown=!0,!0):((0,D.z)(H),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},826:(at,xe,b)=>{"use strict";b.d(xe,{w:()=>B});var F,I=b(9796),y=b(1555),P=b(9105),K=b(7744);class B{constructor(w){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,w&&(this._ctorUnsubscribe=!0,this._unsubscribe=w)}unsubscribe(){let w;if(this.closed)return;let{_parentOrParents:j,_ctorUnsubscribe:V,_unsubscribe:k,_subscriptions:q}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,j instanceof B)j.remove(this);else if(null!==j)for(let H=0;H<j.length;++H)j[H].remove(this);if((0,P.m)(k)){V&&(this._unsubscribe=void 0);try{k.call(this)}catch(H){w=H instanceof K.B?D(H.errors):[H]}}if((0,I.k)(q)){let H=-1,W=q.length;for(;++H<W;){const Q=q[H];if((0,y.K)(Q))try{Q.unsubscribe()}catch(oe){w=w||[],oe instanceof K.B?w=w.concat(D(oe.errors)):w.push(oe)}}}if(w)throw new K.B(w)}add(w){let j=w;if(!w)return B.EMPTY;switch(typeof w){case"function":j=new B(w);case"object":if(j===this||j.closed||"function"!=typeof j.unsubscribe)return j;if(this.closed)return j.unsubscribe(),j;if(!(j instanceof B)){const q=j;j=new B,j._subscriptions=[q]}break;default:throw new Error("unrecognized teardown "+w+" added to Subscription.")}let{_parentOrParents:V}=j;if(null===V)j._parentOrParents=this;else if(V instanceof B){if(V===this)return j;j._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return j;V.push(this)}const k=this._subscriptions;return null===k?this._subscriptions=[j]:k.push(j),j}remove(w){const j=this._subscriptions;if(j){const V=j.indexOf(w);-1!==V&&j.splice(V,1)}}}function D(F){return F.reduce((w,j)=>w.concat(j instanceof K.B?j.errors:j),[])}B.EMPTY=((F=new B).closed=!0,F)},2494:(at,xe,b)=>{"use strict";b.d(xe,{v:()=>y});let I=!1;const y={Promise:void 0,set useDeprecatedSynchronousErrorHandling(P){if(P){const K=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+K.stack)}else I&&console.log("RxJS: Back to a better error behavior. Thank you. <3");I=P},get useDeprecatedSynchronousErrorHandling(){return I}}},5345:(at,xe,b)=>{"use strict";b.d(xe,{IY:()=>K,Ds:()=>D,ft:()=>w});var I=b(7393),y=b(9897),P=b(7444);class K extends I.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class D extends I.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function w(j,V){if(V.closed)return;if(j instanceof y.y)return j.subscribe(V);let k;try{k=(0,P.s)(j)(V)}catch(q){V.error(q)}return k}},2441:(at,xe,b)=>{"use strict";b.d(xe,{c:()=>B,N:()=>D});var I=b(9765),y=b(9897),P=b(826),K=b(1307);class B extends y.y{constructor(k,q){super(),this.source=k,this.subjectFactory=q,this._refCount=0,this._isComplete=!1}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let k=this._connection;return k||(this._isComplete=!1,k=this._connection=new P.w,k.add(this.source.subscribe(new F(this.getSubject(),this))),k.closed&&(this._connection=null,k=P.w.EMPTY)),k}refCount(){return(0,K.x)()(this)}}const D=(()=>{const V=B.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class F extends I.Yc{constructor(k,q){super(k),this.connectable=q}_error(k){this._unsubscribe(),super._error(k)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const k=this.connectable;if(k){this.connectable=null;const q=k._connection;k._refCount=0,k._subject=null,k._connection=null,q&&q.unsubscribe()}}}},9112:(at,xe,b)=>{"use strict";b.d(xe,{aj:()=>F});var I=b(4869),y=b(9796),P=b(5197),K=b(509),B=b(6693);const D={};function F(...V){let k,q;return(0,I.K)(V[V.length-1])&&(q=V.pop()),"function"==typeof V[V.length-1]&&(k=V.pop()),1===V.length&&(0,y.k)(V[0])&&(V=V[0]),(0,B.n)(V,q).lift(new w(k))}class w{constructor(k){this.resultSelector=k}call(k,q){return q.subscribe(new j(k,this.resultSelector))}}class j extends P.L{constructor(k,q){super(k),this.resultSelector=q,this.active=0,this.values=[],this.observables=[]}_next(k){this.values.push(D),this.observables.push(k)}_complete(){const k=this.observables,q=k.length;if(0===q)this.destination.complete();else{this.active=q,this.toRespond=q;for(let H=0;H<q;H++)this.add((0,K.D)(this,k[H],void 0,H))}}notifyComplete(k){0==(this.active-=1)&&this.destination.complete()}notifyNext(k,q,H){const W=this.values,oe=this.toRespond?W[H]===D?--this.toRespond:this.toRespond:0;W[H]=q,0===oe&&(this.resultSelector?this._tryResultSelector(W):this.destination.next(W.slice()))}_tryResultSelector(k){let q;try{q=this.resultSelector.apply(this,k)}catch(H){return void this.destination.error(H)}this.destination.next(q)}}},8071:(at,xe,b)=>{"use strict";b.d(xe,{z:()=>K});var I=b(5917),y=b(3282);function K(...B){return(0,y.J)(1)((0,I.of)(...B))}},1439:(at,xe,b)=>{"use strict";b.d(xe,{P:()=>K});var I=b(9897),y=b(9412),P=b(9193);function K(B){return new I.y(D=>{let F;try{F=B()}catch(j){return void D.error(j)}return(F?(0,y.D)(F):(0,P.c)()).subscribe(D)})}},9193:(at,xe,b)=>{"use strict";b.d(xe,{E:()=>y,c:()=>P});var I=b(9897);const y=new I.y(B=>B.complete());function P(B){return B?function(B){return new I.y(D=>B.schedule(()=>D.complete()))}(B):y}},9412:(at,xe,b)=>{"use strict";b.d(xe,{D:()=>K});var I=b(9897),y=b(7444),P=b(1115);function K(B,D){return D?(0,P.x)(B,D):B instanceof I.y?B:new I.y((0,y.s)(B))}},6693:(at,xe,b)=>{"use strict";b.d(xe,{n:()=>K});var I=b(9897),y=b(5015),P=b(4087);function K(B,D){return D?(0,P.r)(B,D):new I.y((0,y.V)(B))}},6682:(at,xe,b)=>{"use strict";b.d(xe,{T:()=>B});var I=b(9897),y=b(4869),P=b(3282),K=b(6693);function B(...D){let F=Number.POSITIVE_INFINITY,w=null,j=D[D.length-1];return(0,y.K)(j)?(w=D.pop(),D.length>1&&"number"==typeof D[D.length-1]&&(F=D.pop())):"number"==typeof j&&(F=D.pop()),null===w&&1===D.length&&D[0]instanceof I.y?D[0]:(0,P.J)(F)((0,K.n)(D,w))}},5917:(at,xe,b)=>{"use strict";b.d(xe,{of:()=>K});var I=b(4869),y=b(6693),P=b(4087);function K(...B){let D=B[B.length-1];return(0,I.K)(D)?(B.pop(),(0,P.r)(B,D)):(0,y.n)(B)}},5304:(at,xe,b)=>{"use strict";b.d(xe,{K:()=>y});var I=b(5345);function y(B){return function(F){const w=new P(B),j=F.lift(w);return w.caught=j}}class P{constructor(D){this.selector=D}call(D,F){return F.subscribe(new K(D,this.selector,this.caught))}}class K extends I.Ds{constructor(D,F,w){super(D),this.selector=F,this.caught=w}error(D){if(!this.isStopped){let F;try{F=this.selector(D,this.caught)}catch(V){return void super.error(V)}this._unsubscribeAndRecycle();const w=new I.IY(this);this.add(w);const j=(0,I.ft)(F,w);j!==w&&this.add(j)}}}},4612:(at,xe,b)=>{"use strict";b.d(xe,{b:()=>y});var I=b(9773);function y(P,K){return(0,I.zg)(P,K,1)}},5435:(at,xe,b)=>{"use strict";b.d(xe,{h:()=>y});var I=b(7393);function y(B,D){return function(w){return w.lift(new P(B,D))}}class P{constructor(D,F){this.predicate=D,this.thisArg=F}call(D,F){return F.subscribe(new K(D,this.predicate,this.thisArg))}}class K extends I.L{constructor(D,F,w){super(D),this.predicate=F,this.thisArg=w,this.count=0}_next(D){let F;try{F=this.predicate.call(this.thisArg,D,this.count++)}catch(w){return void this.destination.error(w)}F&&this.destination.next(D)}}},8002:(at,xe,b)=>{"use strict";b.d(xe,{U:()=>y});var I=b(7393);function y(B,D){return function(w){if("function"!=typeof B)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return w.lift(new P(B,D))}}class P{constructor(D,F){this.project=D,this.thisArg=F}call(D,F){return F.subscribe(new K(D,this.project,this.thisArg))}}class K extends I.L{constructor(D,F,w){super(D),this.project=F,this.count=0,this.thisArg=w||this}_next(D){let F;try{F=this.project.call(this.thisArg,D,this.count++)}catch(w){return void this.destination.error(w)}this.destination.next(F)}}},3282:(at,xe,b)=>{"use strict";b.d(xe,{J:()=>P});var I=b(9773),y=b(4487);function P(K=Number.POSITIVE_INFINITY){return(0,I.zg)(y.y,K)}},9773:(at,xe,b)=>{"use strict";b.d(xe,{zg:()=>K});var I=b(8002),y=b(9412),P=b(5345);function K(w,j,V=Number.POSITIVE_INFINITY){return"function"==typeof j?k=>k.pipe(K((q,H)=>(0,y.D)(w(q,H)).pipe((0,I.U)((W,Q)=>j(q,W,H,Q))),V)):("number"==typeof j&&(V=j),k=>k.lift(new B(w,V)))}class B{constructor(j,V=Number.POSITIVE_INFINITY){this.project=j,this.concurrent=V}call(j,V){return V.subscribe(new D(j,this.project,this.concurrent))}}class D extends P.Ds{constructor(j,V,k=Number.POSITIVE_INFINITY){super(j),this.project=V,this.concurrent=k,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(j){this.active<this.concurrent?this._tryNext(j):this.buffer.push(j)}_tryNext(j){let V;const k=this.index++;try{V=this.project(j,k)}catch(q){return void this.destination.error(q)}this.active++,this._innerSub(V)}_innerSub(j){const V=new P.IY(this),k=this.destination;k.add(V);const q=(0,P.ft)(j,V);q!==V&&k.add(q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(j){this.destination.next(j)}notifyComplete(){const j=this.buffer;this.active--,j.length>0?this._next(j.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},1307:(at,xe,b)=>{"use strict";b.d(xe,{x:()=>y});var I=b(7393);function y(){return function(D){return D.lift(new P(D))}}class P{constructor(D){this.connectable=D}call(D,F){const{connectable:w}=this;w._refCount++;const j=new K(D,w),V=F.subscribe(j);return j.closed||(j.connection=w.connect()),V}}class K extends I.L{constructor(D,F){super(D),this.connectable=F}_unsubscribe(){const{connectable:D}=this;if(!D)return void(this.connection=null);this.connectable=null;const F=D._refCount;if(F<=0)return void(this.connection=null);if(D._refCount=F-1,F>1)return void(this.connection=null);const{connection:w}=this,j=D._connection;this.connection=null,j&&(!w||j===w)&&j.unsubscribe()}}},4087:(at,xe,b)=>{"use strict";b.d(xe,{r:()=>P});var I=b(9897),y=b(826);function P(K,B){return new I.y(D=>{const F=new y.w;let w=0;return F.add(B.schedule(function(){w!==K.length?(D.next(K[w++]),D.closed||F.add(this.schedule())):D.complete()})),F})}},1115:(at,xe,b)=>{"use strict";b.d(xe,{x:()=>H});var I=b(9897),y=b(826),P=b(6554),D=b(4087),F=b(377),V=b(4072),k=b(9489);function H(W,Q){if(null!=W){if(function(W){return W&&"function"==typeof W[P.L]}(W))return function(W,Q){return new I.y(oe=>{const ae=new y.w;return ae.add(Q.schedule(()=>{const ge=W[P.L]();ae.add(ge.subscribe({next(ve){ae.add(Q.schedule(()=>oe.next(ve)))},error(ve){ae.add(Q.schedule(()=>oe.error(ve)))},complete(){ae.add(Q.schedule(()=>oe.complete()))}}))})),ae})}(W,Q);if((0,V.t)(W))return function(W,Q){return new I.y(oe=>{const ae=new y.w;return ae.add(Q.schedule(()=>W.then(ge=>{ae.add(Q.schedule(()=>{oe.next(ge),ae.add(Q.schedule(()=>oe.complete()))}))},ge=>{ae.add(Q.schedule(()=>oe.error(ge)))}))),ae})}(W,Q);if((0,k.z)(W))return(0,D.r)(W,Q);if(function(W){return W&&"function"==typeof W[F.hZ]}(W)||"string"==typeof W)return function(W,Q){if(!W)throw new Error("Iterable cannot be null");return new I.y(oe=>{const ae=new y.w;let ge;return ae.add(()=>{ge&&"function"==typeof ge.return&&ge.return()}),ae.add(Q.schedule(()=>{ge=W[F.hZ](),ae.add(Q.schedule(function(){if(oe.closed)return;let ve,pe;try{const Ue=ge.next();ve=Ue.value,pe=Ue.done}catch(Ue){return void oe.error(Ue)}pe?oe.complete():(oe.next(ve),this.schedule())}))})),ae})}(W,Q)}throw new TypeError((null!==W&&typeof W||W)+" is not observable")}},377:(at,xe,b)=>{"use strict";b.d(xe,{hZ:()=>y});const y="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(at,xe,b)=>{"use strict";b.d(xe,{L:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(at,xe,b)=>{"use strict";b.d(xe,{b:()=>I});const I="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(at,xe,b)=>{"use strict";b.d(xe,{W:()=>y});const y=(()=>{function P(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return P.prototype=Object.create(Error.prototype),P})()},3410:(at,xe,b)=>{"use strict";b.d(xe,{K:()=>y});const y=(()=>{function P(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return P.prototype=Object.create(Error.prototype),P})()},7971:(at,xe,b)=>{"use strict";b.d(xe,{N:()=>y});const y=(()=>{function P(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return P.prototype=Object.create(Error.prototype),P})()},7744:(at,xe,b)=>{"use strict";b.d(xe,{B:()=>y});const y=(()=>{function P(K){return Error.call(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((B,D)=>`${D+1}) ${B.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K,this}return P.prototype=Object.create(Error.prototype),P})()},3179:(at,xe,b)=>{"use strict";b.d(xe,{_:()=>y});var I=b(7393);function y(P){for(;P;){const{closed:K,destination:B,isStopped:D}=P;if(K||D)return!1;P=B&&B instanceof I.L?B:null}return!0}},4449:(at,xe,b)=>{"use strict";function I(y){setTimeout(()=>{throw y},0)}b.d(xe,{z:()=>I})},4487:(at,xe,b)=>{"use strict";function I(y){return y}b.d(xe,{y:()=>I})},9796:(at,xe,b)=>{"use strict";b.d(xe,{k:()=>I});const I=Array.isArray||(y=>y&&"number"==typeof y.length)},9489:(at,xe,b)=>{"use strict";b.d(xe,{z:()=>I});const I=y=>y&&"number"==typeof y.length&&"function"!=typeof y},9105:(at,xe,b)=>{"use strict";function I(y){return"function"==typeof y}b.d(xe,{m:()=>I})},1555:(at,xe,b)=>{"use strict";function I(y){return null!==y&&"object"==typeof y}b.d(xe,{K:()=>I})},4072:(at,xe,b)=>{"use strict";function I(y){return!!y&&"function"!=typeof y.subscribe&&"function"==typeof y.then}b.d(xe,{t:()=>I})},4869:(at,xe,b)=>{"use strict";function I(y){return y&&"function"==typeof y.schedule}b.d(xe,{K:()=>I})},8640:(at,xe,b)=>{"use strict";function I(){}b.d(xe,{Z:()=>I})},4022:(at,xe,b)=>{"use strict";b.d(xe,{z:()=>y,U:()=>P});var I=b(4487);function y(...K){return P(K)}function P(K){return 0===K.length?I.y:1===K.length?K[0]:function(D){return K.reduce((F,w)=>w(F),D)}}},7444:(at,xe,b)=>{"use strict";b.d(xe,{s:()=>k});var I=b(5015),y=b(4449),K=b(377),D=b(6554),w=b(9489),j=b(4072),V=b(1555);const k=q=>{if(q&&"function"==typeof q[D.L])return(q=>H=>{const W=q[D.L]();if("function"!=typeof W.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return W.subscribe(H)})(q);if((0,w.z)(q))return(0,I.V)(q);if((0,j.t)(q))return(q=>H=>(q.then(W=>{H.closed||(H.next(W),H.complete())},W=>H.error(W)).then(null,y.z),H))(q);if(q&&"function"==typeof q[K.hZ])return(q=>H=>{const W=q[K.hZ]();for(;;){let Q;try{Q=W.next()}catch(oe){return H.error(oe),H}if(Q.done){H.complete();break}if(H.next(Q.value),H.closed)break}return"function"==typeof W.return&&H.add(()=>{W.return&&W.return()}),H})(q);{const W=`You provided ${(0,V.K)(q)?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(W)}}},5015:(at,xe,b)=>{"use strict";b.d(xe,{V:()=>I});const I=y=>P=>{for(let K=0,B=y.length;K<B&&!P.closed;K++)P.next(y[K]);P.complete()}},509:(at,xe,b)=>{"use strict";b.d(xe,{D:()=>B});var I=b(7393);class y extends I.L{constructor(F,w,j){super(),this.parent=F,this.outerValue=w,this.outerIndex=j,this.index=0}_next(F){this.parent.notifyNext(this.outerValue,F,this.outerIndex,this.index++,this)}_error(F){this.parent.notifyError(F,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var P=b(7444),K=b(9897);function B(D,F,w,j,V=new y(D,w,j)){if(!V.closed)return F instanceof K.y?F.subscribe(V):(0,P.s)(F)(V)}},9623:(at,xe,b)=>{"use strict";b(5952)},1831:(at,xe,b)=>{"use strict";b.d(xe,{X:()=>j});var I=b(5917),y=b(8002),P=b(5304);b(9623);class B{constructor(){this.defaultUrl="http://www.pdsa.com",this.defaultPrice=1}}var D=b(3018),F=b(1841);let j=(()=>{class V{constructor(q){this.http=q}getSettings(){return this.http.get("assets/appsettings.json").pipe((0,y.U)(q=>q.json()||{}),(0,P.K)(this.handleErrors))}handleErrors(q){return(0,I.of)(new B)}}return V.\u0275fac=function(q){return new(q||V)(D.LFG(F.eN))},V.\u0275prov=D.Yz7({token:V,factory:V.\u0275fac}),V})()},1782:(at,xe,b)=>{"use strict";b.d(xe,{e:()=>D});var I=b(7e3),P=b(2340),K=b(3018),B=b(1831);let D=(()=>{class w{constructor(V){this.appSetting=V,this.manager=new I.UserManager(function(w){return console.log(w),{authority:P.N.IDENTITY_SERVER,client_id:P.N.CLIENT_ID,redirect_uri:P.N.REDIRECT_URI,post_logout_redirect_uri:P.N.POSTLOGOUT_URI,response_type:P.N.RESPONSE_TYPE,scope:P.N.SCOPE,filterProtocolClaims:!0,loadUserInfo:!0}}(this.appSetting)),this.manager.getUser().then(k=>{this.user=k})}isLoggedIn(){return null!=this.user&&!this.user.expired}getClaims(){return this.user.profile}getAuthorizationHeaderValue(){return`${this.user.token_type} ${this.user.access_token}`}startAuthentication(){return this.manager.signinRedirect()}signOut(){return this.manager.signoutRedirect()}completeAuthentication(){return this.manager.signinRedirectCallback().then(V=>{this.user=V,console.log(this.user)})}}return w.\u0275fac=function(V){return new(V||w)(K.LFG(B.X))},w.\u0275prov=K.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},2340:(at,xe,b)=>{"use strict";b.d(xe,{N:()=>I});const I={production:!0,IDENTITY_SERVER:"https://spiceopedia-identity.azurewebsites.net/",CLIENT_ID:"spicyui",REDIRECT_URI:"https://spiceopedia.azurewebsites.net/auth-callback",POSTLOGOUT_URI:"https://spiceopedia.azurewebsites.net/logout",RESPONSE_TYPE:"code",SCOPE:"openid profile email role api1.read",WEBAPI_URI:"https://spiceopediaapi.azurewebsites.net/api/"}},2544:(at,xe,b)=>{"use strict";var I=b(8583),y=b(3018);class P extends I.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class K extends P{static makeCurrent(){(0,I.HT)(new K)}onAndCancel(l,h,_){return l.addEventListener(h,_,!1),()=>{l.removeEventListener(h,_,!1)}}dispatchEvent(l,h){l.dispatchEvent(h)}remove(l){l.parentNode&&l.parentNode.removeChild(l)}createElement(l,h){return(h=h||this.getDefaultDocument()).createElement(l)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(l){return l.nodeType===Node.ELEMENT_NODE}isShadowRoot(l){return l instanceof DocumentFragment}getGlobalEventTarget(l,h){return"window"===h?window:"document"===h?l:"body"===h?l.body:null}getBaseHref(l){const h=(B=B||document.querySelector("base"),B?B.getAttribute("href"):null);return null==h?null:function(C){F=F||document.createElement("a"),F.setAttribute("href",C);const l=F.pathname;return"/"===l.charAt(0)?l:`/${l}`}(h)}resetBaseElement(){B=null}getUserAgent(){return window.navigator.userAgent}getCookie(l){return(0,I.Mx)(document.cookie,l)}}let F,B=null;const j=new y.OlP("TRANSITION_ID"),k=[{provide:y.ip1,useFactory:function(C,l,h){return()=>{h.get(y.CZH).donePromise.then(()=>{const _=(0,I.q)(),R=l.querySelectorAll(`style[ng-transition="${C}"]`);for(let X=0;X<R.length;X++)_.remove(R[X])})}},deps:[j,I.K0,y.zs3],multi:!0}];class q{static init(){(0,y.VLi)(new q)}addToWindow(l){y.dqk.getAngularTestability=(_,R=!0)=>{const X=l.findTestabilityInTree(_,R);if(null==X)throw new Error("Could not find testability for element.");return X},y.dqk.getAllAngularTestabilities=()=>l.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>l.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(_=>{const R=y.dqk.getAllAngularTestabilities();let X=R.length,le=!1;const Ae=function(Pe){le=le||Pe,X--,0==X&&_(le)};R.forEach(function(Pe){Pe.whenStable(Ae)})})}findTestabilityInTree(l,h,_){if(null==h)return null;const R=l.getTestability(h);return null!=R?R:_?(0,I.q)().isShadowRoot(h)?this.findTestabilityInTree(l,h.host,!0):this.findTestabilityInTree(l,h.parentElement,!0):null}}let H=(()=>{class C{build(){return new XMLHttpRequest}}return C.\u0275fac=function(h){return new(h||C)},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac}),C})();const et=new y.OlP("EventManagerPlugins");let ot=(()=>{class C{constructor(h,_){this._zone=_,this._eventNameToPlugin=new Map,h.forEach(R=>R.manager=this),this._plugins=h.slice().reverse()}addEventListener(h,_,R){return this._findPluginFor(_).addEventListener(h,_,R)}addGlobalEventListener(h,_,R){return this._findPluginFor(_).addGlobalEventListener(h,_,R)}getZone(){return this._zone}_findPluginFor(h){const _=this._eventNameToPlugin.get(h);if(_)return _;const R=this._plugins;for(let X=0;X<R.length;X++){const le=R[X];if(le.supports(h))return this._eventNameToPlugin.set(h,le),le}throw new Error(`No event manager plugin found for event ${h}`)}}return C.\u0275fac=function(h){return new(h||C)(y.LFG(et),y.LFG(y.R0b))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac}),C})();class vt{constructor(l){this._doc=l}addGlobalEventListener(l,h,_){const R=(0,I.q)().getGlobalEventTarget(this._doc,l);if(!R)throw new Error(`Unsupported event target ${R} for event ${h}`);return this.addEventListener(R,h,_)}}let qe=(()=>{class C{constructor(){this._stylesSet=new Set}addStyles(h){const _=new Set;h.forEach(R=>{this._stylesSet.has(R)||(this._stylesSet.add(R),_.add(R))}),this.onStylesAdded(_)}onStylesAdded(h){}getAllStyles(){return Array.from(this._stylesSet)}}return C.\u0275fac=function(h){return new(h||C)},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac}),C})(),gt=(()=>{class C extends qe{constructor(h){super(),this._doc=h,this._hostNodes=new Map,this._hostNodes.set(h.head,[])}_addStylesToHost(h,_,R){h.forEach(X=>{const le=this._doc.createElement("style");le.textContent=X,R.push(_.appendChild(le))})}addHost(h){const _=[];this._addStylesToHost(this._stylesSet,h,_),this._hostNodes.set(h,_)}removeHost(h){const _=this._hostNodes.get(h);_&&_.forEach(Vt),this._hostNodes.delete(h)}onStylesAdded(h){this._hostNodes.forEach((_,R)=>{this._addStylesToHost(h,R,_)})}ngOnDestroy(){this._hostNodes.forEach(h=>h.forEach(Vt))}}return C.\u0275fac=function(h){return new(h||C)(y.LFG(I.K0))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac}),C})();function Vt(C){(0,I.q)().remove(C)}const mn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rn=/%COMP%/g;function ut(C,l,h){for(let _=0;_<l.length;_++){let R=l[_];Array.isArray(R)?ut(C,R,h):(R=R.replace(rn,C),h.push(R))}return h}function de(C){return l=>{if("__ngUnwrap__"===l)return C;!1===C(l)&&(l.preventDefault(),l.returnValue=!1)}}let U=(()=>{class C{constructor(h,_,R){this.eventManager=h,this.sharedStylesHost=_,this.appId=R,this.rendererByCompId=new Map,this.defaultRenderer=new ce(h)}createRenderer(h,_){if(!h||!_)return this.defaultRenderer;switch(_.encapsulation){case y.ifc.Emulated:{let R=this.rendererByCompId.get(_.id);return R||(R=new Xe(this.eventManager,this.sharedStylesHost,_,this.appId),this.rendererByCompId.set(_.id,R)),R.applyToHost(h),R}case 1:case y.ifc.ShadowDom:return new lt(this.eventManager,this.sharedStylesHost,h,_);default:if(!this.rendererByCompId.has(_.id)){const R=ut(_.id,_.styles,[]);this.sharedStylesHost.addStyles(R),this.rendererByCompId.set(_.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return C.\u0275fac=function(h){return new(h||C)(y.LFG(ot),y.LFG(gt),y.LFG(y.AFp))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac}),C})();class ce{constructor(l){this.eventManager=l,this.data=Object.create(null)}destroy(){}createElement(l,h){return h?document.createElementNS(mn[h]||h,l):document.createElement(l)}createComment(l){return document.createComment(l)}createText(l){return document.createTextNode(l)}appendChild(l,h){l.appendChild(h)}insertBefore(l,h,_){l&&l.insertBefore(h,_)}removeChild(l,h){l&&l.removeChild(h)}selectRootElement(l,h){let _="string"==typeof l?document.querySelector(l):l;if(!_)throw new Error(`The selector "${l}" did not match any elements`);return h||(_.textContent=""),_}parentNode(l){return l.parentNode}nextSibling(l){return l.nextSibling}setAttribute(l,h,_,R){if(R){h=R+":"+h;const X=mn[R];X?l.setAttributeNS(X,h,_):l.setAttribute(h,_)}else l.setAttribute(h,_)}removeAttribute(l,h,_){if(_){const R=mn[_];R?l.removeAttributeNS(R,h):l.removeAttribute(`${_}:${h}`)}else l.removeAttribute(h)}addClass(l,h){l.classList.add(h)}removeClass(l,h){l.classList.remove(h)}setStyle(l,h,_,R){R&(y.JOm.DashCase|y.JOm.Important)?l.style.setProperty(h,_,R&y.JOm.Important?"important":""):l.style[h]=_}removeStyle(l,h,_){_&y.JOm.DashCase?l.style.removeProperty(h):l.style[h]=""}setProperty(l,h,_){l[h]=_}setValue(l,h){l.nodeValue=h}listen(l,h,_){return"string"==typeof l?this.eventManager.addGlobalEventListener(l,h,de(_)):this.eventManager.addEventListener(l,h,de(_))}}class Xe extends ce{constructor(l,h,_,R){super(l),this.component=_;const X=ut(R+"-"+_.id,_.styles,[]);h.addStyles(X),this.contentAttr="_ngcontent-%COMP%".replace(rn,R+"-"+_.id),this.hostAttr="_nghost-%COMP%".replace(rn,R+"-"+_.id)}applyToHost(l){super.setAttribute(l,this.hostAttr,"")}createElement(l,h){const _=super.createElement(l,h);return super.setAttribute(_,this.contentAttr,""),_}}class lt extends ce{constructor(l,h,_,R){super(l),this.sharedStylesHost=h,this.hostEl=_,this.shadowRoot=_.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const X=ut(R.id,R.styles,[]);for(let le=0;le<X.length;le++){const Ae=document.createElement("style");Ae.textContent=X[le],this.shadowRoot.appendChild(Ae)}}nodeOrShadowRoot(l){return l===this.hostEl?this.shadowRoot:l}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(l,h){return super.appendChild(this.nodeOrShadowRoot(l),h)}insertBefore(l,h,_){return super.insertBefore(this.nodeOrShadowRoot(l),h,_)}removeChild(l,h){return super.removeChild(this.nodeOrShadowRoot(l),h)}parentNode(l){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(l)))}}let Pt=(()=>{class C extends vt{constructor(h){super(h)}supports(h){return!0}addEventListener(h,_,R){return h.addEventListener(_,R,!1),()=>this.removeEventListener(h,_,R)}removeEventListener(h,_,R){return h.removeEventListener(_,R)}}return C.\u0275fac=function(h){return new(h||C)(y.LFG(I.K0))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac}),C})();const tt=["alt","control","meta","shift"],Qe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ct={alt:C=>C.altKey,control:C=>C.ctrlKey,meta:C=>C.metaKey,shift:C=>C.shiftKey};let Et=(()=>{class C extends vt{constructor(h){super(h)}supports(h){return null!=C.parseEventName(h)}addEventListener(h,_,R){const X=C.parseEventName(_),le=C.eventCallback(X.fullKey,R,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.q)().onAndCancel(h,X.domEventName,le))}static parseEventName(h){const _=h.toLowerCase().split("."),R=_.shift();if(0===_.length||"keydown"!==R&&"keyup"!==R)return null;const X=C._normalizeKey(_.pop());let le="";if(tt.forEach(Pe=>{const Ye=_.indexOf(Pe);Ye>-1&&(_.splice(Ye,1),le+=Pe+".")}),le+=X,0!=_.length||0===X.length)return null;const Ae={};return Ae.domEventName=R,Ae.fullKey=le,Ae}static getEventFullKey(h){let _="",R=function(C){let l=C.key;if(null==l){if(l=C.keyIdentifier,null==l)return"Unidentified";l.startsWith("U+")&&(l=String.fromCharCode(parseInt(l.substring(2),16)),3===C.location&&rt.hasOwnProperty(l)&&(l=rt[l]))}return Qe[l]||l}(h);return R=R.toLowerCase()," "===R?R="space":"."===R&&(R="dot"),tt.forEach(X=>{X!=R&&Ct[X](h)&&(_+=X+".")}),_+=R,_}static eventCallback(h,_,R){return X=>{C.getEventFullKey(X)===h&&R.runGuarded(()=>_(X))}}static _normalizeKey(h){switch(h){case"esc":return"escape";default:return h}}}return C.\u0275fac=function(h){return new(h||C)(y.LFG(I.K0))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac}),C})();const qn=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:I.bD},{provide:y.g9A,useValue:function(){K.makeCurrent(),q.init()},multi:!0},{provide:I.K0,useFactory:function(){return(0,y.RDi)(document),document},deps:[]}]),$r=[[],{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function(){return new y.qLn},deps:[]},{provide:et,useClass:Pt,multi:!0,deps:[I.K0,y.R0b,y.Lbi]},{provide:et,useClass:Et,multi:!0,deps:[I.K0]},[],{provide:U,useClass:U,deps:[ot,gt,y.AFp]},{provide:y.FYo,useExisting:U},{provide:qe,useExisting:gt},{provide:gt,useClass:gt,deps:[I.K0]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b]},{provide:ot,useClass:ot,deps:[et,y.R0b]},{provide:I.JF,useClass:H,deps:[]},[]];let Zt=(()=>{class C{constructor(h){if(h)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(h){return{ngModule:C,providers:[{provide:y.AFp,useValue:h.appId},{provide:j,useExisting:y.AFp},k]}}}return C.\u0275fac=function(h){return new(h||C)(y.LFG(C,12))},C.\u0275mod=y.oAB({type:C}),C.\u0275inj=y.cJS({providers:$r,imports:[I.ez,y.hGG]}),C})();"undefined"!=typeof window&&window;var Xt=b(8879);let Yt=(()=>{class C{constructor(h,_){this.router=h,this.route=_,this.title="spiceopedia",h.events.subscribe(R=>{})}}return C.\u0275fac=function(h){return new(h||C)(y.Y36(Xt.F0),y.Y36(Xt.gz))},C.\u0275cmp=y.Xpm({type:C,selectors:[["app-root"]],decls:1,vars:0,template:function(h,_){1&h&&y._UZ(0,"router-outlet")},directives:[Xt.lC],styles:[""]}),C})();var Jn=b(1782);let a=(()=>{class C{constructor(h){this.authService=h}canActivate(){return!!this.authService.isLoggedIn()||(this.authService.startAuthentication(),!1)}}return C.\u0275fac=function(h){return new(h||C)(y.LFG(Jn.e))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),o=(()=>{class C{constructor(h){this.authService=h}ngOnInit(){}signout(){this.authService.signOut()}}return C.\u0275fac=function(h){return new(h||C)(y.Y36(Jn.e))},C.\u0275cmp=y.Xpm({type:C,selectors:[["app-header"]],decls:18,vars:0,consts:[[1,"navbar","col-lg-12","col-12","p-0","fixed-top","d-flex","flex-row","default-layout-navbar"],[1,"text-center","navbar-brand-wrapper","d-flex","align-items-center","justify-content-center"],["href","index.html",1,"navbar-brand","brand-logo"],["src","../assets/images/logo_old.svg","alt","logo"],["href","index.html",1,"navbar-brand","brand-logo-mini"],["src","../assets/images/logo-mini.svg","alt","logo"],[1,"navbar-menu-wrapper","d-flex","align-items-stretch"],["type","button","data-toggle","minimize",1,"navbar-toggler","navbar-toggler","align-self-center"],[1,"fas","fa-bars"],[1,"navbar-nav","navbar-nav-right"],[1,"nav-item","nav-profile","dropdown"],["href","#","data-toggle","dropdown","id","profileDropdown",1,"nav-link","dropdown-toggle"],["src","http://via.placeholder.com/30x30","alt","profile"],["aria-labelledby","profileDropdown",1,"dropdown-menu","dropdown-menu-right","navbar-dropdown"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"fas","fa-power-off","text-primary"]],template:function(h,_){1&h&&(y.TgZ(0,"nav",0),y.TgZ(1,"div",1),y.TgZ(2,"a",2),y._UZ(3,"img",3),y.qZA(),y.TgZ(4,"a",4),y._UZ(5,"img",5),y.qZA(),y.qZA(),y.TgZ(6,"div",6),y.TgZ(7,"button",7),y._UZ(8,"span",8),y.qZA(),y.TgZ(9,"ul",9),y.TgZ(10,"li",10),y.TgZ(11,"a",11),y._UZ(12,"img",12),y.qZA(),y.TgZ(13,"div",13),y._UZ(14,"div",14),y.TgZ(15,"a",15),y.NdJ("click",function(){return _.signout()}),y._UZ(16,"i",16),y._uU(17," Logout "),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA())},styles:[""]}),C})();const c=function(){return["/dashboard"]},p=function(){return["/taxonomy"]},E=function(){return["/authcallback"]};let O=(()=>{class C{constructor(h){this.authService=h}ngOnInit(){this.userName=this.authService.getClaims().given_name,this.role=this.authService.getClaims().role}}return C.\u0275fac=function(h){return new(h||C)(y.Y36(Jn.e))},C.\u0275cmp=y.Xpm({type:C,selectors:[["app-sidebar"]],decls:31,vars:8,consts:[["id","sidebar",1,"sidebar","sidebar-offcanvas"],[1,"nav"],[1,"nav-item","nav-profile"],[1,"nav-link"],[1,"profile-image"],["src","../assets/images/m_avatar.jpg","alt","image"],[1,"profile-name"],[1,"name"],[1,"designation"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink"],[1,"fa","fa-home","menu-icon"],[1,"menu-title"],[1,"nav-item"],[1,"fa","fa-puzzle-piece","menu-icon"],["href","pages/documentation.html",1,"nav-link"],[1,"far","fa-file-alt","menu-icon"]],template:function(h,_){1&h&&(y.TgZ(0,"nav",0),y.TgZ(1,"ul",1),y.TgZ(2,"li",2),y.TgZ(3,"div",3),y.TgZ(4,"div",4),y._UZ(5,"img",5),y.qZA(),y.TgZ(6,"div",6),y.TgZ(7,"p",7),y._uU(8),y.qZA(),y.TgZ(9,"p",8),y._uU(10),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(11,"li",9),y.TgZ(12,"a",10),y._UZ(13,"i",11),y.TgZ(14,"span",12),y._uU(15,"Dashboard"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(16,"li",13),y.TgZ(17,"a",10),y._UZ(18,"i",14),y.TgZ(19,"span",12),y._uU(20,"Taxonomy"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(21,"li",13),y.TgZ(22,"a",10),y._UZ(23,"i",14),y.TgZ(24,"span",12),y._uU(25,"Authcallback"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(26,"li",13),y.TgZ(27,"a",15),y._UZ(28,"i",16),y.TgZ(29,"span",12),y._uU(30,"Documentation"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&h&&(y.xp6(8),y.hij(" Welcome ",_.userName," "),y.xp6(2),y.hij(" ",_.role," "),y.xp6(2),y.Q6J("routerLink",y.DdM(5,c)),y.xp6(5),y.Q6J("routerLink",y.DdM(6,p)),y.xp6(5),y.Q6J("routerLink",y.DdM(7,E)))},directives:[Xt.yS],styles:[""]}),C})(),z=(()=>{class C{constructor(){}ngOnInit(){}}return C.\u0275fac=function(h){return new(h||C)},C.\u0275cmp=y.Xpm({type:C,selectors:[["app-footer"]],decls:10,vars:0,consts:[[1,"footer"],[1,"d-sm-flex","justify-content-center","justify-content-sm-between"],[1,"text-muted","text-center","text-sm-left","d-block","d-sm-inline-block"],["href","#","target","_blank"],[1,"float-none","float-sm-right","d-block","mt-1","mt-sm-0","text-center"],[1,"far","fa-heart","text-danger"]],template:function(h,_){1&h&&(y.TgZ(0,"footer",0),y.TgZ(1,"div",1),y.TgZ(2,"span",2),y._uU(3,"Copyright \xa9 2021 "),y.TgZ(4,"a",3),y._uU(5,"Spiceopedia"),y.qZA(),y._uU(6,". All rights reserved."),y.qZA(),y.TgZ(7,"span",4),y._uU(8,"Hand-crafted & made with "),y._UZ(9,"i",5),y.qZA(),y.qZA(),y.qZA())},styles:[""]}),C})(),se=(()=>{class C{constructor(){}ngOnInit(){}}return C.\u0275fac=function(h){return new(h||C)},C.\u0275cmp=y.Xpm({type:C,selectors:[["app-main-layout"]],decls:6,vars:0,consts:[[1,"container-fluid","page-body-wrapper",2,"padding-top","70px"],[1,"main-panel"]],template:function(h,_){1&h&&(y._UZ(0,"app-header"),y.TgZ(1,"div",0),y._UZ(2,"app-sidebar"),y.TgZ(3,"div",1),y._UZ(4,"router-outlet"),y.qZA(),y.qZA(),y._UZ(5,"app-footer"))},directives:[o,O,Xt.lC,z],styles:[""]}),C})(),ee=(()=>{class C{constructor(){}ngOnInit(){}}return C.\u0275fac=function(h){return new(h||C)},C.\u0275cmp=y.Xpm({type:C,selectors:[["app-plain-layout"]],decls:1,vars:0,template:function(h,_){1&h&&y._UZ(0,"router-outlet")},directives:[Xt.lC],styles:[""]}),C})();const re=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"",component:se,children:[{path:"dashboard",loadChildren:()=>b.e(152).then(b.bind(b,7152)).then(C=>C.DashboardModule)},{path:"taxonomy",loadChildren:()=>b.e(555).then(b.bind(b,3555)).then(C=>C.TaxonomyModule)},{path:"logout",loadChildren:()=>b.e(513).then(b.bind(b,513)).then(C=>C.LogoutModule)}],canActivate:[a]},{path:"",component:ee,children:[{path:"login",loadChildren:"../login/login.module#LoginModule"},{path:"registration",loadChildren:"../registration/registration.module#RegistrationModule"}]},{path:"",component:ee,children:[{path:"auth-callback",loadChildren:()=>b.e(464).then(b.bind(b,6464)).then(C=>C.AuthCallbackModule)}]}];let ie=(()=>{class C{}return C.\u0275fac=function(h){return new(h||C)},C.\u0275mod=y.oAB({type:C}),C.\u0275inj=y.cJS({imports:[[Xt.Bz.forChild(re)],Xt.Bz]}),C})(),ue=(()=>{class C{}return C.\u0275fac=function(h){return new(h||C)},C.\u0275mod=y.oAB({type:C}),C.\u0275inj=y.cJS({imports:[[I.ez,ie]]}),C})();var he=b(1831),_e=b(1841);let Fe=(()=>{class C{}return C.\u0275fac=function(h){return new(h||C)},C.\u0275mod=y.oAB({type:C,bootstrap:[Yt,_e.eN]}),C.\u0275inj=y.cJS({providers:[he.X],imports:[[Zt,Xt.Bz.forRoot([]),ue]]}),C})();b(2340).N.production&&(0,y.G48)(),qn().bootstrapModule(Fe).catch(C=>console.error(C))}},at=>{at(at.s=2544)}]);